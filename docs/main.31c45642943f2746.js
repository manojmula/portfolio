(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[179],{143:(Vr,nr,qt)=>{"use strict";function _e(e){return"function"==typeof e}function Kt(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Q=Kt(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function h(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class v{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(_e(r))try{r()}catch(s){t=s instanceof Q?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{w(s)}catch(o){t=t??[],o instanceof Q?t=[...t,...o.errors]:t.push(o)}}if(t)throw new Q(t)}}add(t){var n;if(t&&t!==this)if(this.closed)w(t);else{if(t instanceof v){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&h(n,t)}remove(t){const{_finalizers:n}=this;n&&h(n,t),t instanceof v&&t._removeParent(this)}}v.EMPTY=(()=>{const e=new v;return e.closed=!0,e})();const y=v.EMPTY;function M(e){return e instanceof v||e&&"closed"in e&&_e(e.remove)&&_e(e.add)&&_e(e.unsubscribe)}function w(e){_e(e)?e():e.unsubscribe()}const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},A={setTimeout(e,t,...n){const{delegate:r}=A;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=A;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function I(e){A.setTimeout(()=>{const{onUnhandledError:t}=b;if(!t)throw e;t(e)})}function C(){}const c=d("C",void 0,void 0);function d(e,t,n){return{kind:e,value:t,error:n}}let p=null;function S(e){if(b.useDeprecatedSynchronousErrorHandling){const t=!p;if(t&&(p={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=p;if(p=null,n)throw r}}else e()}class T extends v{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,M(t)&&t.add(this)):this.destination=ie}static create(t,n,r){return new N(t,n,r)}next(t){this.isStopped?J(function g(e){return d("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?J(function f(e){return d("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?J(c,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _=Function.prototype.bind;function R(e,t){return _.call(e,t)}class P{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){H(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){H(r)}else H(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){H(n)}}}class N extends T{constructor(t,n,r){let i;if(super(),_e(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&b.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&R(t.next,s),error:t.error&&R(t.error,s),complete:t.complete&&R(t.complete,s)}):i=t}this.destination=new P(i)}}function H(e){b.useDeprecatedSynchronousErrorHandling?function D(e){b.useDeprecatedSynchronousErrorHandling&&p&&(p.errorThrown=!0,p.error=e)}(e):I(e)}function J(e,t){const{onStoppedNotification:n}=b;n&&A.setTimeout(()=>n(e,t))}const ie={closed:!0,next:C,error:function $(e){throw e},complete:C},oe="function"==typeof Symbol&&Symbol.observable||"@@observable";function x(e){return e}function j(e){return 0===e.length?x:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let B=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function De(e){return e&&e instanceof T||function ue(e){return e&&_e(e.next)&&_e(e.error)&&_e(e.complete)}(e)&&M(e)}(n)?n:new N(n,r,i);return S(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=te(r))((i,s)=>{const o=new N({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[oe](){return this}pipe(...n){return j(n)(this)}toPromise(n){return new(n=te(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=t=>new e(t),e})();function te(e){var t;return null!==(t=e??b.Promise)&&void 0!==t?t:Promise}const re=Kt(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ae=(()=>{class e extends B{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new U(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new re}next(n){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?y:(this.currentObservers=null,s.push(n),new v(()=>{this.currentObservers=null,h(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new B;return n.source=this,n}}return e.create=(t,n)=>new U(t,n),e})();class U extends ae{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:y}}function V(e){return _e(e?.lift)}function z(e){return t=>{if(V(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function K(e,t,n,r,i){return new se(e,t,n,r,i)}class se extends T{constructor(t,n,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function de(e,t){return z((n,r)=>{let i=0;n.subscribe(K(r,s=>{r.next(e.call(t,s,i++))}))})}var lt=function(){return lt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s]);return t},lt.apply(this,arguments)};function rr(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(m){try{u(r.next(m))}catch(E){o(E)}}function l(m){try{u(r.throw(m))}catch(E){o(E)}}function u(m){m.done?s(m.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(m.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function jr(e){return this instanceof jr?(this.v=e,this):new jr(e)}function Gw(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Of(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}const pc=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function kf(e){return _e(e?.then)}function Pf(e){return _e(e[oe])}function Lf(e){return Symbol.asyncIterator&&_e(e?.[Symbol.asyncIterator])}function Ff(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Nf=function Kw(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Bf(e){return _e(e?.[Nf])}function Hf(e){return function Ww(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(O){r[O]&&(i[O]=function(k){return new Promise(function(F,W){s.push([O,k,F,W])>1||a(O,k)})})}function a(O,k){try{!function l(O){O.value instanceof jr?Promise.resolve(O.value.v).then(u,m):E(s[0][2],O)}(r[O](k))}catch(F){E(s[0][3],F)}}function u(O){a("next",O)}function m(O){a("throw",O)}function E(O,k){O(k),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield jr(n.read());if(i)return yield jr(void 0);yield yield jr(r)}}finally{n.releaseLock()}})}function Vf(e){return _e(e?.getReader)}function sn(e){if(e instanceof B)return e;if(null!=e){if(Pf(e))return function Xw(e){return new B(t=>{const n=e[oe]();if(_e(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(pc(e))return function Yw(e){return new B(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(kf(e))return function Jw(e){return new B(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,I)})}(e);if(Lf(e))return jf(e);if(Bf(e))return function Zw(e){return new B(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Vf(e))return function Qw(e){return jf(Hf(e))}(e)}throw Ff(e)}function jf(e){return new B(t=>{(function eb(e,t){var n,r,i,s;return rr(this,void 0,void 0,function*(){try{for(n=Gw(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function ir(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function yt(e,t,n=1/0){return _e(t)?yt((r,i)=>de((s,o)=>t(r,s,i,o))(sn(e(r,i))),n):("number"==typeof t&&(n=t),z((r,i)=>function tb(e,t,n,r,i,s,o,a){const l=[];let u=0,m=0,E=!1;const O=()=>{E&&!l.length&&!u&&t.complete()},k=W=>u<r?F(W):l.push(W),F=W=>{s&&t.next(W),u++;let G=!1;sn(n(W,m++)).subscribe(K(t,X=>{i?.(X),s?k(X):t.next(X)},()=>{G=!0},void 0,()=>{if(G)try{for(u--;l.length&&u<r;){const X=l.shift();o?ir(t,o,()=>F(X)):F(X)}O()}catch(X){t.error(X)}}))};return e.subscribe(K(t,k,()=>{E=!0,O()})),()=>{a?.()}}(r,i,e,n)))}function hi(e=1/0){return yt(x,e)}const Hn=new B(e=>e.complete());function gc(e){return e[e.length-1]}function Cs(e){return function rb(e){return e&&_e(e.schedule)}(gc(e))?e.pop():void 0}function $f(e,t=0){return z((n,r)=>{n.subscribe(K(r,i=>ir(r,e,()=>r.next(i),t),()=>ir(r,e,()=>r.complete(),t),i=>ir(r,e,()=>r.error(i),t)))})}function zf(e,t=0){return z((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Wf(e,t){if(!e)throw new Error("Iterable cannot be null");return new B(n=>{ir(n,t,()=>{const r=e[Symbol.asyncIterator]();ir(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pt(e,t){return t?function ub(e,t){if(null!=e){if(Pf(e))return function sb(e,t){return sn(e).pipe(zf(t),$f(t))}(e,t);if(pc(e))return function ab(e,t){return new B(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(kf(e))return function ob(e,t){return sn(e).pipe(zf(t),$f(t))}(e,t);if(Lf(e))return Wf(e,t);if(Bf(e))return function lb(e,t){return new B(n=>{let r;return ir(n,t,()=>{r=e[Nf](),ir(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>_e(r?.return)&&r.return()})}(e,t);if(Vf(e))return function cb(e,t){return Wf(Hf(e),t)}(e,t)}throw Ff(e)}(e,t):sn(e)}function Ur(...e){const t=Cs(e),n=function ib(e,t){return"number"==typeof gc(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?sn(r[0]):hi(n)(pt(r,t)):Hn}function Ss(e={}){const{connector:t=(()=>new ae),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o,a,l,u=0,m=!1,E=!1;const O=()=>{a?.unsubscribe(),a=void 0},k=()=>{O(),o=l=void 0,m=E=!1},F=()=>{const W=o;k(),W?.unsubscribe()};return z((W,G)=>{u++,!E&&!m&&O();const X=l=l??t();G.add(()=>{u--,0===u&&!E&&!m&&(a=mc(F,i))}),X.subscribe(G),!o&&u>0&&(o=new N({next:ne=>X.next(ne),error:ne=>{E=!0,O(),a=mc(k,n,ne),X.error(ne)},complete:()=>{m=!0,O(),a=mc(k,r),X.complete()}}),sn(W).subscribe(o))})(s)}}function mc(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new N({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function We(e){for(let t in e)if(e[t]===We)return t;throw Error("Could not find renamed property on target object.")}function Ke(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ke).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function vc(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const db=We({__forward_ref__:We});function Xe(e){return e.__forward_ref__=Xe,e.toString=function(){return Ke(this())},e}function Ce(e){return yc(e)?e():e}function yc(e){return"function"==typeof e&&e.hasOwnProperty(db)&&e.__forward_ref__===Xe}function Cc(e){return e&&!!e.\u0275providers}const zo="https://g.co/ng/security#xss";class ee extends Error{constructor(t,n){super(Wo(t,n)),this.code=t}}function Wo(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function Ee(e){return"string"==typeof e?e:null==e?"":String(e)}function Go(e,t){throw new ee(-201,!1)}function gn(e,t){null==e&&function je(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function me(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ht(e){return{providers:e.providers||[],imports:e.imports||[]}}function qo(e){return Gf(e,Ko)||Gf(e,Kf)}function Gf(e,t){return e.hasOwnProperty(t)?e[t]:null}function qf(e){return e&&(e.hasOwnProperty(Sc)||e.hasOwnProperty(yb))?e[Sc]:null}const Ko=We({\u0275prov:We}),Sc=We({\u0275inj:We}),Kf=We({ngInjectableDef:We}),yb=We({ngInjectorDef:We});var Se=(()=>((Se=Se||{})[Se.Default=0]="Default",Se[Se.Host=1]="Host",Se[Se.Self=2]="Self",Se[Se.SkipSelf=4]="SkipSelf",Se[Se.Optional=8]="Optional",Se))();let wc;function mn(e){const t=wc;return wc=e,t}function Xf(e,t,n){const r=qo(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Se.Optional?null:void 0!==t?t:void Go(Ke(e))}const Qe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ws={},bc="__NG_DI_FLAG__",Xo="ngTempTokenPath",Sb="ngTokenPath",wb=/\n/gm,bb="\u0275",Yf="__source";let bs;function fi(e){const t=bs;return bs=e,t}function Db(e,t=Se.Default){if(void 0===bs)throw new ee(-203,!1);return null===bs?Xf(e,void 0,t):bs.get(e,t&Se.Optional?null:void 0,t)}function pe(e,t=Se.Default){return(function Cb(){return wc}()||Db)(Ce(e),t)}function Te(e,t=Se.Default){return pe(e,Yo(t))}function Yo(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Dc(e){const t=[];for(let n=0;n<e.length;n++){const r=Ce(e[n]);if(Array.isArray(r)){if(0===r.length)throw new ee(900,!1);let i,s=Se.Default;for(let o=0;o<r.length;o++){const a=r[o],l=Eb(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}t.push(pe(i,s))}else t.push(pe(r))}return t}function Ds(e,t){return e[bc]=t,e.prototype[bc]=t,e}function Eb(e){return e[bc]}function sr(e){return{toString:e}.toString()}var Vn=(()=>((Vn=Vn||{})[Vn.OnPush=0]="OnPush",Vn[Vn.Default=1]="Default",Vn))(),jn=(()=>{return(e=jn||(jn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",jn;var e})();const or={},He=[],Jo=We({\u0275cmp:We}),Ec=We({\u0275dir:We}),Mc=We({\u0275pipe:We}),Zf=We({\u0275mod:We}),ar=We({\u0275fac:We}),Es=We({__NG_ELEMENT_ID__:We});let Ab=0;function br(e){return sr(()=>{const t=ep(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Vn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||jn.Emulated,id:"c"+Ab++,styles:e.styles||He,_:null,schemas:e.schemas||null,tView:null};tp(n);const r=e.dependencies;return n.directiveDefs=Zo(r,!1),n.pipeDefs=Zo(r,!0),n})}function xb(e){return Ue(e)||Tt(e)}function Tb(e){return null!==e}function Xt(e){return sr(()=>({type:e.type,bootstrap:e.bootstrap||He,declarations:e.declarations||He,imports:e.imports||He,exports:e.exports||He,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Qf(e,t){if(null==e)return or;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}function we(e){return sr(()=>{const t=ep(e);return tp(t),t})}function Ue(e){return e[Jo]||null}function Tt(e){return e[Ec]||null}function Jt(e){return e[Mc]||null}function an(e,t){const n=e[Zf]||null;if(!n&&!0===t)throw new Error(`Type ${Ke(e)} does not have '\u0275mod' property.`);return n}function ep(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||He,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qf(e.inputs,t),outputs:Qf(e.outputs)}}function tp(e){e.features?.forEach(t=>t(e))}function Zo(e,t){if(!e)return null;const n=t?Jt:xb;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Tb)}const lr=0,he=1,Re=2,ot=3,Dn=4,$r=5,Ot=6,gi=7,ct=8,Qo=9,ea=10,Oe=11,Ic=12,Ms=13,np=14,mi=15,kt=16,Is=17,_i=18,Un=19,As=20,rp=21,et=22,Ac=1,ip=2,ta=7,na=8,vi=9,Vt=10;function ln(e){return Array.isArray(e)&&"object"==typeof e[Ac]}function En(e){return Array.isArray(e)&&!0===e[Ac]}function Rc(e){return 0!=(4&e.flags)}function Rs(e){return e.componentOffset>-1}function ra(e){return 1==(1&e.flags)}function Mn(e){return!!e.template}function kb(e){return 0!=(256&e[Re])}function zr(e,t){return e.hasOwnProperty(ar)?e[ar]:null}class Fb{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function cn(){return ap}function ap(e){return e.type.prototype.ngOnChanges&&(e.setInput=Bb),Nb}function Nb(){const e=cp(this),t=e?.current;if(t){const n=e.previous;if(n===or)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Bb(e,t,n,r){const i=this.declaredInputs[n],s=cp(e)||function Hb(e,t){return e[lp]=t}(e,{previous:or,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new Fb(l&&l.currentValue,t,a===or),e[r]=t}cn.ngInherit=!0;const lp="__ngSimpleChanges__";function cp(e){return e[lp]||null}const _n=function(e,t,n){};function Et(e){for(;Array.isArray(e);)e=e[lr];return e}function un(e,t){return Et(t[e.index])}function hp(e,t){return e.data[t]}function Zt(e,t){const n=t[e];return ln(n)?n:n[lr]}function sa(e){return 64==(64&e[Re])}function Dr(e,t){return null==t?null:e[t]}function fp(e){e[_i]=0}function Tc(e,t){e[$r]+=t;let n=e,r=e[ot];for(;null!==r&&(1===t&&1===n[$r]||-1===t&&0===n[$r]);)r[$r]+=t,n=r,r=r[ot]}const Me={lFrame:bp(null),bindingsEnabled:!0};function gp(){return Me.bindingsEnabled}function Z(){return Me.lFrame.lView}function Ne(){return Me.lFrame.tView}function oa(e){return Me.lFrame.contextLView=e,e[ct]}function aa(e){return Me.lFrame.contextLView=null,e}function Mt(){let e=mp();for(;null!==e&&64===e.type;)e=e.parent;return e}function mp(){return Me.lFrame.currentTNode}function $n(e,t){const n=Me.lFrame;n.currentTNode=e,n.isParent=t}function Oc(){return Me.lFrame.isParent}function jt(){const e=Me.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ci(){return Me.lFrame.bindingIndex++}function Zb(e,t){const n=Me.lFrame;n.bindingIndex=n.bindingRootIndex=e,Pc(t)}function Pc(e){Me.lFrame.currentDirectiveIndex=e}function Cp(){return Me.lFrame.currentQueryIndex}function Fc(e){Me.lFrame.currentQueryIndex=e}function eD(e){const t=e[he];return 2===t.type?t.declTNode:1===t.type?e[Ot]:null}function Sp(e,t,n){if(n&Se.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&Se.Host||(i=eD(s),null===i||(s=s[mi],10&i.type))););if(null===i)return!1;t=i,e=s}const r=Me.lFrame=wp();return r.currentTNode=t,r.lView=e,!0}function Nc(e){const t=wp(),n=e[he];Me.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function wp(){const e=Me.lFrame,t=null===e?null:e.child;return null===t?bp(e):t}function bp(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Dp(){const e=Me.lFrame;return Me.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ep=Dp;function Bc(){const e=Dp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ut(){return Me.lFrame.selectedIndex}function Wr(e){Me.lFrame.selectedIndex=e}function nt(){const e=Me.lFrame;return hp(e.tView,e.selectedIndex)}function la(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:m}=s;o&&(e.contentHooks??(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks??(e.contentHooks=[])).push(n,a),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(n,a)),l&&(e.viewHooks??(e.viewHooks=[])).push(-n,l),u&&((e.viewHooks??(e.viewHooks=[])).push(n,u),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(n,u)),null!=m&&(e.destroyHooks??(e.destroyHooks=[])).push(n,m)}}function ca(e,t,n){Mp(e,t,3,n)}function ua(e,t,n,r){(3&e[Re])===n&&Mp(e,t,n,r)}function Hc(e,t){let n=e[Re];(3&n)===t&&(n&=2047,n+=1,e[Re]=n)}function Mp(e,t,n,r){const s=r??-1,o=t.length-1;let a=0;for(let l=void 0!==r?65535&e[_i]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[_i]+=65536),(a<s||-1==s)&&(cD(e,n,t,l),e[_i]=(4294901760&e[_i])+l+2),l++}function cD(e,t,n,r){const i=n[r]<0,s=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[Re]>>11<e[_i]>>16&&(3&e[Re])===t){e[Re]+=2048,_n(4,a,s);try{s.call(a)}finally{_n(5,a,s)}}}else{_n(4,a,s);try{s.call(a)}finally{_n(5,a,s)}}}const Si=-1;class Ts{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function jc(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];e.setAttribute(t,o,a,s)}else{const s=i,o=n[++r];Ap(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),r++}}return r}function Ip(e){return 3===e||4===e||6===e}function Ap(e){return 64===e.charCodeAt(0)}function Os(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Rp(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Rp(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function xp(e){return e!==Si}function da(e){return 32767&e}function ha(e,t){let n=function fD(e){return e>>16}(e),r=t;for(;n>0;)r=r[mi],n--;return r}let Uc=!0;function fa(e){const t=Uc;return Uc=e,t}const Tp=255,Op=5;let pD=0;const zn={};function pa(e,t){const n=kp(e,t);if(-1!==n)return n;const r=t[he];r.firstCreatePass&&(e.injectorIndex=t.length,$c(r.data,e),$c(t,null),$c(r.blueprint,null));const i=zc(e,t),s=e.injectorIndex;if(xp(i)){const o=da(i),a=ha(i,t),l=a[he].data;for(let u=0;u<8;u++)t[s+u]=a[o+u]|l[o+u]}return t[s+8]=i,s}function $c(e,t){e.push(0,0,0,0,0,0,0,0,t)}function kp(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function zc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Vp(i),null===r)return Si;if(n++,i=i[mi],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Si}function Wc(e,t,n){!function gD(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Es)&&(r=n[Es]),null==r&&(r=n[Es]=pD++);const i=r&Tp;t.data[e+(i>>Op)]|=1<<i}(e,t,n)}function Pp(e,t,n){if(n&Se.Optional||void 0!==e)return e;Go()}function Lp(e,t,n,r){if(n&Se.Optional&&void 0===r&&(r=null),!(n&(Se.Self|Se.Host))){const i=e[Qo],s=mn(void 0);try{return i?i.get(t,r,n&Se.Optional):Xf(t,r,n&Se.Optional)}finally{mn(s)}}return Pp(r,0,n)}function Fp(e,t,n,r=Se.Default,i){if(null!==e){if(1024&t[Re]){const o=function CD(e,t,n,r,i){let s=e,o=t;for(;null!==s&&null!==o&&1024&o[Re]&&!(256&o[Re]);){const a=Np(s,o,n,r|Se.Self,zn);if(a!==zn)return a;let l=s.parent;if(!l){const u=o[rp];if(u){const m=u.get(n,zn,r);if(m!==zn)return m}l=Vp(o),o=o[mi]}s=l}return i}(e,t,n,r,zn);if(o!==zn)return o}const s=Np(e,t,n,r,zn);if(s!==zn)return s}return Lp(t,n,r,i)}function Np(e,t,n,r,i){const s=function vD(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Es)?e[Es]:void 0;return"number"==typeof t?t>=0?t&Tp:yD:t}(n);if("function"==typeof s){if(!Sp(t,e,r))return r&Se.Host?Pp(i,0,r):Lp(t,n,r,i);try{const o=s(r);if(null!=o||r&Se.Optional)return o;Go()}finally{Ep()}}else if("number"==typeof s){let o=null,a=kp(e,t),l=Si,u=r&Se.Host?t[kt][Ot]:null;for((-1===a||r&Se.SkipSelf)&&(l=-1===a?zc(e,t):t[a+8],l!==Si&&Hp(r,!1)?(o=t[he],a=da(l),t=ha(l,t)):a=-1);-1!==a;){const m=t[he];if(Bp(s,a,m.data)){const E=_D(a,t,n,o,r,u);if(E!==zn)return E}l=t[a+8],l!==Si&&Hp(r,t[he].data[a+8]===u)&&Bp(s,a,t)?(o=m,a=da(l),t=ha(l,t)):a=-1}}return i}function _D(e,t,n,r,i,s){const o=t[he],a=o.data[e+8],m=ga(a,o,n,null==r?Rs(a)&&Uc:r!=o&&0!=(3&a.type),i&Se.Host&&s===a);return null!==m?Gr(t,o,m,a):zn}function ga(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,m=s>>20,O=i?a+m:e.directiveEnd;for(let k=r?a:a+m;k<O;k++){const F=o[k];if(k<l&&n===F||k>=l&&F.type===n)return k}if(i){const k=o[l];if(k&&Mn(k)&&k.type===n)return l}return null}function Gr(e,t,n,r){let i=e[n];const s=t.data;if(function uD(e){return e instanceof Ts}(i)){const o=i;o.resolving&&function hb(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ee(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Ve(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ee(e)}(s[n]));const a=fa(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?mn(o.injectImpl):null;Sp(e,r,Se.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function lD(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=ap(t);(n.preOrderHooks??(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,o)}i&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==l&&mn(l),fa(a),o.resolving=!1,Ep()}}return i}function Bp(e,t,n){return!!(n[t+(e>>Op)]&1<<e)}function Hp(e,t){return!(e&Se.Self||e&Se.Host&&t)}class wi{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Fp(this._tNode,this._lView,t,Yo(r),n)}}function yD(){return new wi(Mt(),Z())}function Gc(e){return yc(e)?()=>{const t=Gc(Ce(e));return t&&t()}:zr(e)}function Vp(e){const t=e[he],n=t.type;return 2===n?t.declTNode:1===n?e[Ot]:null}const Di="__parameters__";function Mi(e,t,n){return sr(()=>{const r=function qc(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,m){const E=l.hasOwnProperty(Di)?l[Di]:Object.defineProperty(l,Di,{value:[]})[Di];for(;E.length<=m;)E.push(null);return(E[m]=E[m]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class ge{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=me({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function qr(e,t){e.forEach(n=>Array.isArray(n)?qr(n,t):t(n))}function Up(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function _a(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Fs=Ds(Mi("Optional"),8),Ns=Ds(Mi("SkipSelf"),4);var Qt=(()=>((Qt=Qt||{})[Qt.Important=1]="Important",Qt[Qt.DashCase=2]="DashCase",Qt))();const tu=new Map;let GD=0;const ru="__ngContext__";function Pt(e,t){ln(t)?(e[ru]=t[As],function KD(e){tu.set(e[As],e)}(t)):e[ru]=t}let iu;function su(e,t){return iu(e,t)}function js(e){const t=e[ot];return En(t)?t[ot]:t}function ou(e){return cg(e[Ms])}function au(e){return cg(e[Dn])}function cg(e){for(;null!==e&&!En(e);)e=e[Dn];return e}function Ri(e,t,n,r,i){if(null!=r){let s,o=!1;En(r)?s=r:ln(r)&&(o=!0,r=r[lr]);const a=Et(r);0===e&&null!==n?null==i?gg(t,n,a):Kr(t,n,a,i||null,!0):1===e&&null!==n?Kr(t,n,a,i||null,!0):2===e?function pu(e,t,n){const r=Sa(e,t);r&&function pE(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function _E(e,t,n,r,i){const s=n[ta];s!==Et(n)&&Ri(t,e,r,s,i);for(let a=Vt;a<n.length;a++){const l=n[a];Us(l[he],l,e,t,r,s)}}(t,e,s,n,i)}}function cu(e,t,n){return e.createElement(t,n)}function dg(e,t){const n=e[vi],r=n.indexOf(t),i=t[ot];512&t[Re]&&(t[Re]&=-513,Tc(i,-1)),n.splice(r,1)}function uu(e,t){if(e.length<=Vt)return;const n=Vt+t,r=e[n];if(r){const i=r[Is];null!==i&&i!==e&&dg(i,r),t>0&&(e[n-1][Dn]=r[Dn]);const s=_a(e,Vt+t);!function oE(e,t){Us(e,t,t[Oe],2,null,null),t[lr]=null,t[Ot]=null}(r[he],r);const o=s[Un];null!==o&&o.detachView(s[he]),r[ot]=null,r[Dn]=null,r[Re]&=-65}return r}function hg(e,t){if(!(128&t[Re])){const n=t[Oe];n.destroyNode&&Us(e,t,n,3,null,null),function cE(e){let t=e[Ms];if(!t)return du(e[he],e);for(;t;){let n=null;if(ln(t))n=t[Ms];else{const r=t[Vt];r&&(n=r)}if(!n){for(;t&&!t[Dn]&&t!==e;)ln(t)&&du(t[he],t),t=t[ot];null===t&&(t=e),ln(t)&&du(t[he],t),n=t&&t[Dn]}t=n}}(t)}}function du(e,t){if(!(128&t[Re])){t[Re]&=-65,t[Re]|=128,function fE(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Ts)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];_n(4,a,l);try{l.call(a)}finally{_n(5,a,l)}}else{_n(4,i,s);try{s.call(i)}finally{_n(5,i,s)}}}}}(e,t),function hE(e,t){const n=e.cleanup,r=t[gi];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();t[gi]=null}}(e,t),1===t[he].type&&t[Oe].destroy();const n=t[Is];if(null!==n&&En(t[ot])){n!==t[ot]&&dg(n,t);const r=t[Un];null!==r&&r.detachView(e)}!function XD(e){tu.delete(e[As])}(t)}}function fg(e,t,n){return function pg(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[lr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===jn.None||s===jn.Emulated)return null}return un(r,n)}}(e,t.parent,n)}function Kr(e,t,n,r,i){e.insertBefore(t,n,r,i)}function gg(e,t,n){e.appendChild(t,n)}function mg(e,t,n,r,i){null!==r?Kr(e,t,n,r,i):gg(e,t,n)}function Sa(e,t){return e.parentNode(t)}let hu,Da,_u,Ea,yg=function vg(e,t,n){return 40&e.type?un(e,n):null};function wa(e,t,n,r){const i=fg(e,r,t),s=t[Oe],a=function _g(e,t,n){return yg(e,t,n)}(r.parent||t[Ot],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)mg(s,i,n[l],a,!1);else mg(s,i,n,a,!1);void 0!==hu&&hu(s,r,t,n,i)}function ba(e,t){if(null!==t){const n=t.type;if(3&n)return un(t,e);if(4&n)return fu(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ba(e,r);{const i=e[t.index];return En(i)?fu(-1,i):Et(i)}}if(32&n)return su(t,e)()||Et(e[t.index]);{const r=Sg(e,t);return null!==r?Array.isArray(r)?r[0]:ba(js(e[kt]),r):ba(e,t.next)}}return null}function Sg(e,t){return null!==t?e[kt][Ot].projection[t.projection]:null}function fu(e,t){const n=Vt+e+1;if(n<t.length){const r=t[n],i=r[he].firstChild;if(null!==i)return ba(r,i)}return t[ta]}function gu(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===t&&(a&&Pt(Et(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)gu(e,t,n.child,r,i,s,!1),Ri(t,e,i,a,s);else if(32&l){const u=su(n,r);let m;for(;m=u();)Ri(t,e,i,m,s);Ri(t,e,i,a,s)}else 16&l?wg(e,t,r,n,i,s):Ri(t,e,i,a,s);n=o?n.projectionNext:n.next}}function Us(e,t,n,r,i,s){gu(n,r,e.firstChild,t,i,s,!1)}function wg(e,t,n,r,i,s){const o=n[kt],l=o[Ot].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Ri(t,e,i,l[u],s);else gu(e,t,l,o[ot],i,s,!0)}function bg(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Dg(e,t,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&jc(e,t,r),null!==i&&bg(e,t,i),null!==s&&function yE(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}function xi(e){return function mu(){if(void 0===Da&&(Da=null,Qe.trustedTypes))try{Da=Qe.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Da}()?.createHTML(e)||e}function vu(){if(void 0===Ea&&(Ea=null,Qe.trustedTypes))try{Ea=Qe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ea}function Mg(e){return vu()?.createHTML(e)||e}function Ag(e){return vu()?.createScriptURL(e)||e}class Xr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zo})`}}class DE extends Xr{getTypeName(){return"HTML"}}class EE extends Xr{getTypeName(){return"Style"}}class ME extends Xr{getTypeName(){return"Script"}}class IE extends Xr{getTypeName(){return"URL"}}class AE extends Xr{getTypeName(){return"ResourceURL"}}function hn(e){return e instanceof Xr?e.changingThisBreaksApplicationSecurity:e}function Wn(e,t){const n=function RE(e){return e instanceof Xr&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${zo})`)}return n===t}class LE{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(xi(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class FE{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=xi(t),n}}const BE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ma(e){return(e=String(e)).match(BE)?e:"unsafe:"+e}function dr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function $s(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const xg=dr("area,br,col,hr,img,wbr"),Tg=dr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Og=dr("rp,rt"),yu=$s(xg,$s(Tg,dr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$s(Og,dr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$s(Og,Tg)),Cu=dr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kg=$s(Cu,dr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),HE=dr("script,style,template");class VE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!yu.hasOwnProperty(n))return this.sanitizedSomething=!0,!HE.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!kg.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Cu[a]&&(l=Ma(l)),this.buf.push(" ",o,'="',Pg(l),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();yu.hasOwnProperty(n)&&!xg.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Pg(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const jE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,UE=/([^\#-~ |!])/g;function Pg(e){return e.replace(/&/g,"&amp;").replace(jE,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(UE,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ia;function Lg(e,t){let n=null;try{Ia=Ia||function Rg(e){const t=new FE(e);return function NE(){try{return!!(new window.DOMParser).parseFromString(xi(""),"text/html")}catch{return!1}}()?new LE(t):t}(e);let r=t?String(t):"";n=Ia.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Ia.getInertBodyElement(r)}while(r!==s);return xi((new VE).sanitizeChildren(Su(n)||n))}finally{if(n){const r=Su(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Su(e){return"content"in e&&function $E(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ye=(()=>((Ye=Ye||{})[Ye.NONE=0]="NONE",Ye[Ye.HTML=1]="HTML",Ye[Ye.STYLE=2]="STYLE",Ye[Ye.SCRIPT=3]="SCRIPT",Ye[Ye.URL=4]="URL",Ye[Ye.RESOURCE_URL=5]="RESOURCE_URL",Ye))();function Fg(e){const t=zs();return t?Mg(t.sanitize(Ye.HTML,e)||""):Wn(e,"HTML")?Mg(hn(e)):Lg(function Eg(){return void 0!==_u?_u:typeof document<"u"?document:void 0}(),Ee(e))}function Ti(e){const t=zs();return t?t.sanitize(Ye.URL,e)||"":Wn(e,"URL")?hn(e):Ma(Ee(e))}function Ng(e){const t=zs();if(t)return Ag(t.sanitize(Ye.RESOURCE_URL,e)||"");if(Wn(e,"ResourceURL"))return Ag(hn(e));throw new ee(904,!1)}function zs(){const e=Z();return e&&e[Ic]}const Aa=new ge("ENVIRONMENT_INITIALIZER"),Hg=new ge("INJECTOR",-1),Vg=new ge("INJECTOR_DEF_TYPES");class jg{get(t,n=ws){if(n===ws){const r=new Error(`NullInjectorError: No provider for ${Ke(t)}!`);throw r.name="NullInjectorError",r}return n}}function YE(...e){return{\u0275providers:Ug(0,e),\u0275fromNgModule:!0}}function Ug(e,...t){const n=[],r=new Set;let i;return qr(t,s=>{const o=s;wu(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&$g(i,n),n}function $g(e,t){for(let n=0;n<e.length;n++){const{providers:i}=e[n];bu(i,s=>{t.push(s)})}}function wu(e,t,n,r){if(!(e=Ce(e)))return!1;let i=null,s=qf(e);const o=!s&&Ue(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const l=e.ngModule;if(s=qf(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)wu(u,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{qr(s.imports,m=>{wu(m,t,n,r)&&(u||(u=[]),u.push(m))})}finally{}void 0!==u&&$g(u,t)}if(!a){const u=zr(i)||(()=>new i);t.push({provide:i,useFactory:u,deps:He},{provide:Vg,useValue:i,multi:!0},{provide:Aa,useValue:()=>pe(i),multi:!0})}const l=s.providers;null==l||a||bu(l,m=>{t.push(m)})}}return i!==e&&void 0!==e.providers}function bu(e,t){for(let n of e)Cc(n)&&(n=n.\u0275providers),Array.isArray(n)?bu(n,t):t(n)}const JE=We({provide:String,useValue:We});function Du(e){return null!==e&&"object"==typeof e&&JE in e}function Yr(e){return"function"==typeof e}const Eu=new ge("Set Injector scope."),Ra={},QE={};let Mu;function xa(){return void 0===Mu&&(Mu=new jg),Mu}class Gn{}class Gg extends Gn{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Au(t,o=>this.processProvider(o)),this.records.set(Hg,Oi(void 0,this)),i.has("environment")&&this.records.set(Gn,Oi(void 0,this));const s=this.records.get(Eu);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Vg.multi,He,Se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=fi(this),r=mn(void 0);try{return t()}finally{fi(n),mn(r)}}get(t,n=ws,r=Se.Default){this.assertNotDestroyed(),r=Yo(r);const i=fi(this),s=mn(void 0);try{if(!(r&Se.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function i1(e){return"function"==typeof e||"object"==typeof e&&e instanceof ge}(t)&&qo(t);a=l&&this.injectableDefInScope(l)?Oi(Iu(t),Ra):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&Se.Self?xa():this.parent).get(t,n=r&Se.Optional&&n===ws?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Xo]=o[Xo]||[]).unshift(Ke(t)),i)throw o;return function Mb(e,t,n,r){const i=e[Xo];throw t[Yf]&&i.unshift(t[Yf]),e.message=function Ib(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==bb?e.slice(2):e;let i=Ke(t);if(Array.isArray(t))i=t.map(Ke).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ke(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(wb,"\n  ")}`}("\n"+e.message,i,n,r),e[Sb]=i,e[Xo]=null,e}(o,t,"R3InjectorError",this.source)}throw o}finally{mn(s),fi(i)}}resolveInjectorInitializers(){const t=fi(this),n=mn(void 0);try{const r=this.get(Aa.multi,He,Se.Self);for(const i of r)i()}finally{fi(t),mn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Ke(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(t){let n=Yr(t=Ce(t))?t:Ce(t&&t.provide);const r=function t1(e){return Du(e)?Oi(void 0,e.useValue):Oi(function qg(e,t,n){let r;if(Yr(e)){const i=Ce(e);return zr(i)||Iu(i)}if(Du(e))r=()=>Ce(e.useValue);else if(function Wg(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Dc(e.deps||[]));else if(function zg(e){return!(!e||!e.useExisting)}(e))r=()=>pe(Ce(e.useExisting));else{const i=Ce(e&&(e.useClass||e.provide));if(!function n1(e){return!!e.deps}(e))return zr(i)||Iu(i);r=()=>new i(...Dc(e.deps))}return r}(e),Ra)}(t);if(Yr(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Oi(void 0,Ra,!0),i.factory=()=>Dc(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Ra&&(n.value=QE,n.value=n.factory()),"object"==typeof n.value&&n.value&&function r1(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Ce(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Iu(e){const t=qo(e),n=null!==t?t.factory:zr(e);if(null!==n)return n;if(e instanceof ge)throw new ee(204,!1);if(e instanceof Function)return function e1(e){const t=e.length;if(t>0)throw function Ls(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new ee(204,!1);const n=function vb(e){return e&&(e[Ko]||e[Kf])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new ee(204,!1)}function Oi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Au(e,t){for(const n of e)Array.isArray(n)?Au(n,t):n&&Cc(n)?Au(n.\u0275providers,t):t(n)}class s1{}class Kg{}class a1{resolveComponentFactory(t){throw function o1(e){const t=Error(`No component factory found for ${Ke(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Ws=(()=>{class e{}return e.NULL=new a1,e})();function l1(){return ki(Mt(),Z())}function ki(e,t){return new Lt(un(e,t))}let Lt=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=l1,e})();function c1(e){return e instanceof Lt?e.nativeElement:e}class Yg{}let yn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function u1(){const e=Z(),n=Zt(Mt().index,e);return(ln(n)?n:e)[Oe]}(),e})(),d1=(()=>{class e{}return e.\u0275prov=me({token:e,providedIn:"root",factory:()=>null}),e})();class Gs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const h1=new Gs("15.2.9"),Ru={},xu="ngOriginalError";function Tu(e){return e[xu]}class Pi{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Tu(t);for(;n&&Tu(n);)n=Tu(n);return n||null}}function hr(e){return e instanceof Function?e():e}function Zg(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}const Qg="ng-template";function b1(e,t,n){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const o=e[r++];if(n&&"class"===s&&-1!==Zg(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function em(e){return 4===e.type&&e.value!==Qg}function D1(e,t,n){return t===(4!==e.type||n?e.value:Qg)}function E1(e,t,n){let r=4;const i=e.attrs||[],s=function A1(e){for(let t=0;t<e.length;t++)if(Ip(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!D1(e,l,n)||""===l&&1===t.length){if(In(r))return!1;o=!0}}else{const u=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!b1(e.attrs,u,n)){if(In(r))return!1;o=!0}continue}const E=M1(8&r?"class":l,i,em(e),n);if(-1===E){if(In(r))return!1;o=!0;continue}if(""!==u){let O;O=E>s?"":i[E+1].toLowerCase();const k=8&r?O:null;if(k&&-1!==Zg(k,u,0)||2&r&&u!==O){if(In(r))return!1;o=!0}}}}else{if(!o&&!In(r)&&!In(l))return!1;if(o&&In(l))continue;o=!1,r=l|1&r}}return In(r)||o}function In(e){return 0==(1&e)}function M1(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const o=t[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function R1(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function tm(e,t,n=!1){for(let r=0;r<t.length;r++)if(E1(e,t[r],n))return!0;return!1}function nm(e,t){return e?":not("+t.trim()+")":t}function T1(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const a=e[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!In(o)&&(t+=nm(s,i),i=""),r=o,s=s||!In(r);n++}return""!==i&&(t+=nm(s,i)),t}const Ie={};function $e(e){rm(Ne(),Z(),Ut()+e,!1)}function rm(e,t,n,r){if(!r)if(3==(3&t[Re])){const s=e.preOrderCheckHooks;null!==s&&ca(t,s,n)}else{const s=e.preOrderHooks;null!==s&&ua(t,s,0,n)}Wr(n)}function am(e,t=null,n=null,r){const i=lm(e,t,n,r);return i.resolveInjectorInitializers(),i}function lm(e,t=null,n=null,r,i=new Set){const s=[n||He,YE(e)];return r=r||("object"==typeof e?void 0:Ke(e)),new Gg(s,t||xa(),r||null,i)}let An=(()=>{class e{static create(n,r){if(Array.isArray(n))return am({name:""},r,n,"");{const i=n.name??"";return am({name:i},n.parent,n.providers,i)}}}return e.THROW_IF_NOT_FOUND=ws,e.NULL=new jg,e.\u0275prov=me({token:e,providedIn:"any",factory:()=>pe(Hg)}),e.__NG_ELEMENT_ID__=-1,e})();function Y(e,t=Se.Default){const n=Z();return null===n?pe(e,t):Fp(Mt(),n,Ce(e),t)}function mm(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=e.data[s];Fc(n[r]),o.contentQueries(2,t[s],s)}}}function Oa(e,t,n,r,i,s,o,a,l,u,m){const E=t.blueprint.slice();return E[lr]=i,E[Re]=76|r,(null!==m||e&&1024&e[Re])&&(E[Re]|=1024),fp(E),E[ot]=E[mi]=e,E[ct]=n,E[ea]=o||e&&e[ea],E[Oe]=a||e&&e[Oe],E[Ic]=l||e&&e[Ic]||null,E[Qo]=u||e&&e[Qo]||null,E[Ot]=s,E[As]=function qD(){return GD++}(),E[rp]=m,E[kt]=2==t.type?e[kt]:E,E}function Ni(e,t,n,r,i){let s=e.data[t];if(null===s)s=function Fu(e,t,n,r,i){const s=mp(),o=Oc(),l=e.data[t]=function rM(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,t,n,r,i),function Jb(){return Me.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function xs(){const e=Me.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return $n(s,!0),s}function qs(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Nu(e,t,n){Nc(t);try{const r=e.viewQuery;null!==r&&Gu(1,r,n);const i=e.template;null!==i&&_m(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&mm(e,t),e.staticViewQueries&&Gu(2,e.viewQuery,n);const s=e.components;null!==s&&function eM(e,t){for(let n=0;n<t.length;n++)bM(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Re]&=-5,Bc()}}function ka(e,t,n,r){const i=t[Re];if(128!=(128&i)){Nc(t);try{fp(t),function vp(e){return Me.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&_m(e,t,n,2,r);const o=3==(3&i);if(o){const u=e.preOrderCheckHooks;null!==u&&ca(t,u,null)}else{const u=e.preOrderHooks;null!==u&&ua(t,u,0,null),Hc(t,0)}if(function SM(e){for(let t=ou(e);null!==t;t=au(t)){if(!t[ip])continue;const n=t[vi];for(let r=0;r<n.length;r++){const i=n[r];512&i[Re]||Tc(i[ot],1),i[Re]|=512}}}(t),function CM(e){for(let t=ou(e);null!==t;t=au(t))for(let n=Vt;n<t.length;n++){const r=t[n],i=r[he];sa(r)&&ka(i,r,i.template,r[ct])}}(t),null!==e.contentQueries&&mm(e,t),o){const u=e.contentCheckHooks;null!==u&&ca(t,u)}else{const u=e.contentHooks;null!==u&&ua(t,u,1),Hc(t,1)}!function Z1(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Wr(~i);else{const s=i,o=n[++r],a=n[++r];Zb(o,s),a(2,t[s])}}}finally{Wr(-1)}}(e,t);const a=e.components;null!==a&&function Q1(e,t){for(let n=0;n<t.length;n++)wM(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&Gu(2,l,r),o){const u=e.viewCheckHooks;null!==u&&ca(t,u)}else{const u=e.viewHooks;null!==u&&ua(t,u,2),Hc(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Re]&=-41,512&t[Re]&&(t[Re]&=-513,Tc(t[ot],-1))}finally{Bc()}}}function _m(e,t,n,r,i){const s=Ut(),o=2&r;try{Wr(-1),o&&t.length>et&&rm(e,t,et,!1),_n(o?2:0,i),n(r,i)}finally{Wr(s),_n(o?3:1,i)}}function Bu(e,t,n){if(Rc(t)){const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const o=e.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function Hu(e,t,n){gp()&&(function uM(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;Rs(n)&&function _M(e,t,n){const r=un(t,e),i=vm(n),s=e[ea],o=Pa(e,Oa(e,i,null,n.onPush?32:16,r,t,s,s.createRenderer(r,n),null,null,null));e[t.index]=o}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||pa(n,t),Pt(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const l=e.data[a],u=Gr(t,e,a,n);Pt(u,t),null!==o&&vM(0,a-i,u,l,0,o),Mn(l)&&(Zt(n.index,t)[ct]=Gr(t,e,a,n))}}(e,t,n,un(n,t)),64==(64&n.flags)&&bm(e,t,n))}function Vu(e,t,n=un){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function vm(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ju(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function ju(e,t,n,r,i,s,o,a,l,u){const m=et+r,E=m+i,O=function tM(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ie);return n}(m,E),k="function"==typeof u?u():u;return O[he]={type:e,blueprint:O,template:n,queries:null,viewQuery:a,declTNode:t,data:O.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:k,incompleteFirstPass:!1}}function ym(e,t,n,r){const i=Em(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Mm(e).push(r,i.length-1))}function Cm(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const s=e[i];null===r?Sm(n,t,i,s):r.hasOwnProperty(i)&&Sm(n,t,r[i],s)}return n}function Sm(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function fn(e,t,n,r,i,s,o,a){const l=un(t,n);let m,u=t.inputs;!a&&null!=u&&(m=u[r])?(qu(e,n,m,r,i),Rs(t)&&function oM(e,t){const n=Zt(t,e);16&n[Re]||(n[Re]|=32)}(n,t.index)):3&t.type&&(r=function sM(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,s.setProperty(l,r,i))}function Uu(e,t,n,r){if(gp()){const i=null===r?null:{"":-1},s=function hM(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(tm(t,o.selectors,!1))if(r||(r=[]),Mn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),$u(e,t,a.length)}else r.unshift(o),$u(e,t,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(e,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&wm(e,t,n,o,i,a),i&&function fM(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new ee(-301,!1);r.push(t[i],s)}}}(n,r,i)}n.mergedAttrs=Os(n.mergedAttrs,n.attrs)}function wm(e,t,n,r,i,s){for(let u=0;u<r.length;u++)Wc(pa(n,t),e,r[u].type);!function gM(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let u=0;u<r.length;u++){const m=r[u];m.providersResolver&&m.providersResolver(m)}let o=!1,a=!1,l=qs(e,t,r.length,null);for(let u=0;u<r.length;u++){const m=r[u];n.mergedAttrs=Os(n.mergedAttrs,m.hostAttrs),mM(e,n,t,l,m),pM(l,m,i),null!==m.contentQueries&&(n.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(n.flags|=64);const E=m.type.prototype;!o&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n.index),o=!0),!a&&(E.ngOnChanges||E.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function iM(e,t,n){const i=t.directiveEnd,s=e.data,o=t.attrs,a=[];let l=null,u=null;for(let m=t.directiveStart;m<i;m++){const E=s[m],O=n?n.get(E):null,F=O?O.outputs:null;l=Cm(E.inputs,m,l,O?O.inputs:null),u=Cm(E.outputs,m,u,F);const W=null===l||null===o||em(t)?null:yM(l,m,o);a.push(W)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}(e,n,s)}function bm(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Qb(){return Me.lFrame.currentDirectiveIndex}();try{Wr(s);for(let a=r;a<i;a++){const l=e.data[a],u=t[a];Pc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&dM(l,u)}}finally{Wr(-1),Pc(o)}}function dM(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function $u(e,t,n){t.componentOffset=n,(e.components??(e.components=[])).push(t.index)}function pM(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Mn(t)&&(n[""]=e)}}function mM(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=zr(i.type)),o=new Ts(s,Mn(i),Y);e.blueprint[r]=o,n[r]=o,function lM(e,t,n,r,i){const s=i.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~t.index;(function cM(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(e,t,r,qs(e,n,i.hostVars,Ie),i)}function qn(e,t,n,r,i,s){const o=un(e,t);!function zu(e,t,n,r,i,s,o){if(null==s)e.removeAttribute(t,i,n);else{const a=null==o?Ee(s):o(s,r||"",i);e.setAttribute(t,i,a,n)}}(t[Oe],o,s,e.value,n,r,i)}function vM(e,t,n,r,i,s){const o=s[t];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],m=o[l++],E=o[l++];null!==a?r.setInput(n,E,u,m):n[m]=E}}}function yM(e,t,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Dm(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}function wM(e,t){const n=Zt(t,e);if(sa(n)){const r=n[he];48&n[Re]?ka(r,n,r.template,n[ct]):n[$r]>0&&Wu(n)}}function Wu(e){for(let r=ou(e);null!==r;r=au(r))for(let i=Vt;i<r.length;i++){const s=r[i];if(sa(s))if(512&s[Re]){const o=s[he];ka(o,s,o.template,s[ct])}else s[$r]>0&&Wu(s)}const n=e[he].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Zt(n[r],e);sa(i)&&i[$r]>0&&Wu(i)}}function bM(e,t){const n=Zt(t,e),r=n[he];(function DM(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Nu(r,n,n[ct])}function Pa(e,t){return e[Ms]?e[np][Dn]=t:e[Ms]=t,e[np]=t,t}function La(e){for(;e;){e[Re]|=32;const t=js(e);if(kb(e)&&!t)return e;e=t}return null}function Fa(e,t,n,r=!0){const i=t[ea];i.begin&&i.begin();try{ka(e,t,e.template,n)}catch(o){throw r&&Am(t,o),o}finally{i.end&&i.end()}}function Gu(e,t,n){Fc(0),t(e,n)}function Em(e){return e[gi]||(e[gi]=[])}function Mm(e){return e.cleanup||(e.cleanup=[])}function Am(e,t){const n=e[Qo],r=n?n.get(Pi,null):null;r&&r.handleError(t)}function qu(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=t[o],u=e.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function fr(e,t,n){const r=function ia(e,t){return Et(t[e])}(t,e);!function ug(e,t,n){e.setValue(t,n)}(e[Oe],r,n)}function Na(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=vc(i,a):2==s&&(r=vc(r,a+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Ba(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(Et(s)),En(s))for(let a=Vt;a<s.length;a++){const l=s[a],u=l[he].firstChild;null!==u&&Ba(l[he],l,u,r)}const o=n.type;if(8&o)Ba(e,t,n.child,r);else if(32&o){const a=su(n,t);let l;for(;l=a();)r.push(l)}else if(16&o){const a=Sg(t,n);if(Array.isArray(a))r.push(...a);else{const l=js(t[kt]);Ba(l[he],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ks{get rootNodes(){const t=this._lView,n=t[he];return Ba(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ct]}set context(t){this._lView[ct]=t}get destroyed(){return 128==(128&this._lView[Re])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ot];if(En(t)){const n=t[na],r=n?n.indexOf(this):-1;r>-1&&(uu(t,r),_a(n,r))}this._attachedToViewContainer=!1}hg(this._lView[he],this._lView)}onDestroy(t){ym(this._lView[he],this._lView,null,t)}markForCheck(){La(this._cdRefInjectingView||this._lView)}detach(){this._lView[Re]&=-65}reattach(){this._lView[Re]|=64}detectChanges(){Fa(this._lView[he],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lE(e,t){Us(e,t,t[Oe],2,null,null)}(this._lView[he],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=t}}class EM extends Ks{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Fa(t[he],t,t[ct],!1)}checkNoChanges(){}get context(){return null}}class Rm extends Ws{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Ue(t);return new Xs(n,this.ngModule)}}function xm(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class IM{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Yo(r);const i=this.injector.get(t,Ru,r);return i!==Ru||n===Ru?i:this.parentInjector.get(t,n,r)}}class Xs extends Kg{get inputs(){return xm(this.componentDef.inputs)}get outputs(){return xm(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function O1(e){return e.map(T1).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let s=(i=i||this.ngModule)instanceof Gn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new IM(t,s):t,a=o.get(Yg,null);if(null===a)throw new ee(407,!1);const l=o.get(d1,null),u=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",E=r?function nM(e,t,n){return e.selectRootElement(t,n===jn.ShadowDom)}(u,r,this.componentDef.encapsulation):cu(u,m,function MM(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(m)),O=this.componentDef.onPush?288:272,k=ju(0,null,null,1,0,null,null,null,null,null),F=Oa(null,k,null,O,null,null,a,u,l,o,null);let W,G;Nc(F);try{const X=this.componentDef;let ne,q=null;X.findHostDirectiveDefs?(ne=[],q=new Map,X.findHostDirectiveDefs(X,ne,q),ne.push(X)):ne=[X];const fe=function RM(e,t){const n=e[he],r=et;return e[r]=t,Ni(n,r,2,"#host",null)}(F,E),Fe=function xM(e,t,n,r,i,s,o,a){const l=i[he];!function TM(e,t,n,r){for(const i of e)t.mergedAttrs=Os(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Na(t,t.mergedAttrs,!0),null!==n&&Dg(r,n,t))}(r,e,t,o);const u=s.createRenderer(t,n),m=Oa(i,vm(n),null,n.onPush?32:16,i[e.index],e,s,u,a||null,null,null);return l.firstCreatePass&&$u(l,e,r.length-1),Pa(i,m),i[e.index]=m}(fe,E,X,ne,F,a,u);G=hp(k,et),E&&function kM(e,t,n,r){if(r)jc(e,n,["ng-version",h1.full]);else{const{attrs:i,classes:s}=function k1(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!In(i))break;i=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&jc(e,n,i),s&&s.length>0&&bg(e,n,s.join(" "))}}(u,X,E,r),void 0!==n&&function PM(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(G,this.ngContentSelectors,n),W=function OM(e,t,n,r,i,s){const o=Mt(),a=i[he],l=un(o,i);wm(a,i,o,n,null,r);for(let m=0;m<n.length;m++)Pt(Gr(i,a,o.directiveStart+m,o),i);bm(a,i,o),l&&Pt(l,i);const u=Gr(i,a,o.directiveStart+o.componentOffset,o);if(e[ct]=i[ct]=u,null!==s)for(const m of s)m(u,t);return Bu(a,o,e),u}(Fe,X,ne,q,F,[LM]),Nu(k,F,null)}finally{Bc()}return new AM(this.componentType,W,ki(G,F),F,G)}}class AM extends s1{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new EM(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const s=this._rootLView;qu(s[he],s,i,t,n),La(Zt(this._tNode.index,s))}}get injector(){return new wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function LM(){const e=Mt();la(Z()[he],e)}function Ha(e){return!!Xu(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Xu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Kn(e,t,n){return e[t]=n}function Ft(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Xn(e,t,n,r){const i=Z();return Ft(i,Ci(),t)&&(Ne(),qn(nt(),i,e,t,n,r)),Xn}function Hi(e,t,n,r){return Ft(e,Ci(),n)?t+Ee(n)+r:Ie}function Vi(e,t,n,r,i,s){const a=function Jr(e,t,n,r){const i=Ft(e,t,n);return Ft(e,t+1,r)||i}(e,function cr(){return Me.lFrame.bindingIndex}(),n,i);return function ur(e){const t=Me.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2),a?t+Ee(n)+r+Ee(i)+s:Ie}function Er(e,t,n,r,i,s,o,a){const l=Z(),u=Ne(),m=e+et,E=u.firstCreatePass?function XM(e,t,n,r,i,s,o,a,l){const u=t.consts,m=Ni(t,e,4,o||null,Dr(u,a));Uu(t,n,m,Dr(u,l)),la(t,m);const E=m.tView=ju(2,m,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,m),E.queries=t.queries.embeddedTView(m)),m}(m,u,l,t,n,r,i,s,o):u.data[m];$n(E,!1);const O=l[Oe].createComment("");wa(u,l,O,E),Pt(O,l),Pa(l,l[m]=Dm(O,l,O,E)),ra(E)&&Hu(u,l,E),null!=o&&Vu(l,E,a)}function Dt(e,t,n){const r=Z();return Ft(r,Ci(),t)&&fn(Ne(),nt(),r,e,t,r[Oe],n,!1),Dt}function Yu(e,t,n,r,i){const o=i?"class":"style";qu(e,n,t.inputs[o],o,r)}function Pe(e,t,n,r){const i=Z(),s=Ne(),o=et+e,a=i[Oe],l=s.firstCreatePass?function ZM(e,t,n,r,i,s){const o=t.consts,l=Ni(t,e,2,r,Dr(o,i));return Uu(t,n,l,Dr(o,s)),null!==l.attrs&&Na(l,l.attrs,!1),null!==l.mergedAttrs&&Na(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,t,n,r):s.data[o],u=i[o]=cu(a,t,function aD(){return Me.lFrame.currentNamespace}()),m=ra(l);return $n(l,!0),Dg(a,u,l),32!=(32&l.flags)&&wa(s,i,u,l),0===function Wb(){return Me.lFrame.elementDepthCount}()&&Pt(u,i),function Gb(){Me.lFrame.elementDepthCount++}(),m&&(Hu(s,i,l),Bu(s,l,i)),null!==r&&Vu(i,l),Pe}function Be(){let e=Mt();Oc()?function kc(){Me.lFrame.isParent=!1}():(e=e.parent,$n(e,!1));const t=e;!function qb(){Me.lFrame.elementDepthCount--}();const n=Ne();return n.firstCreatePass&&(la(n,e),Rc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function dD(e){return 0!=(8&e.flags)}(t)&&Yu(n,t,Z(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function hD(e){return 0!=(16&e.flags)}(t)&&Yu(n,t,Z(),t.stylesWithoutHost,!1),Be}function $t(e,t,n,r){return Pe(e,t,n,r),Be(),$t}function ja(){return Z()}function Js(e){return!!e&&"function"==typeof e.then}const Qu=function Wm(e){return!!e&&"function"==typeof e.subscribe};function Nt(e,t,n,r){const i=Z(),s=Ne(),o=Mt();return function qm(e,t,n,r,i,s,o){const a=ra(r),u=e.firstCreatePass&&Mm(e),m=t[ct],E=Em(t);let O=!0;if(3&r.type||o){const W=un(r,t),G=o?o(W):W,X=E.length,ne=o?fe=>o(Et(fe[r.index])):r.index;let q=null;if(!o&&a&&(q=function eI(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=t[gi],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,t,i,r.index)),null!==q)(q.__ngLastListenerFn__||q).__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,O=!1;else{s=Xm(r,t,m,s,!1);const fe=n.listen(G,i,s);E.push(s,fe),u&&u.push(i,ne,X,X+1)}}else s=Xm(r,t,m,s,!1);const k=r.outputs;let F;if(O&&null!==k&&(F=k[i])){const W=F.length;if(W)for(let G=0;G<W;G+=2){const Fe=t[F[G]][F[G+1]].subscribe(s),st=E.length;E.push(s,Fe),u&&u.push(i,r.index,st,-(st+1))}}}(s,i,i[Oe],o,e,t,r),Nt}function Km(e,t,n,r){try{return _n(6,t,n),!1!==n(r)}catch(i){return Am(e,i),!1}finally{_n(7,t,n)}}function Xm(e,t,n,r,i){return function s(o){if(o===Function)return r;La(e.componentOffset>-1?Zt(e.index,t):t);let l=Km(t,n,r,o),u=s.__ngNextListenerFn__;for(;u;)l=Km(t,n,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Zs(e=1){return function tD(e){return(Me.lFrame.contextLView=function nD(e,t){for(;e>0;)t=t[mi],e--;return t}(e,Me.lFrame.contextLView))[ct]}(e)}function Qs(e,t,n){return Ua(e,"",t,"",n),Qs}function Ua(e,t,n,r,i){const s=Z(),o=Hi(s,t,n,r);return o!==Ie&&fn(Ne(),nt(),s,e,o,s[Oe],i,!1),Ua}function Je(e,t=""){const n=Z(),r=Ne(),i=e+et,s=r.firstCreatePass?Ni(r,i,1,t,null):r.data[i],o=n[i]=function lu(e,t){return e.createText(t)}(n[Oe],t);wa(r,n,o,s),$n(s,!1)}function Tn(e){return Ki("",e,""),Tn}function Ki(e,t,n){const r=Z(),i=Hi(r,e,t,n);return i!==Ie&&fr(r,Ut(),i),Ki}function id(e,t,n,r,i){const s=Z(),o=Vi(s,e,t,n,r,i);return o!==Ie&&fr(s,Ut(),o),id}const Yi="en-US";let B_=Yi;class Ji{}class uv{}class dv extends Ji{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rm(this);const r=an(t);this._bootstrapComponents=hr(r.bootstrap),this._r3Injector=lm(t,n,[{provide:Ji,useValue:this},{provide:Ws,useValue:this.componentFactoryResolver}],Ke(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class dd extends uv{constructor(t){super(),this.moduleType=t}create(t){return new dv(this.moduleType,t)}}class WA extends Ji{constructor(t,n,r){super(),this.componentFactoryResolver=new Rm(this),this.instance=null;const i=new Gg([...t,{provide:Ji,useValue:this},{provide:Ws,useValue:this.componentFactoryResolver}],n||xa(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Ya(e,t,n=null){return new WA(e,t,n).injector}let GA=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Ug(0,n.type),i=r.length>0?Ya([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=me({token:e,providedIn:"environment",factory:()=>new e(pe(Gn))}),e})();function hv(e){e.getStandaloneInjector=t=>t.get(GA).getOrCreateStandaloneInjector(e)}function ei(e,t,n){const r=jt()+e,i=Z();return i[r]===Ie?Kn(i,r,n?t.call(n):t()):function Ys(e,t){return e[t]}(i,r)}function oo(e,t,n,r){return function yv(e,t,n,r,i,s){const o=t+n;return Ft(e,o,i)?Kn(e,o+1,s?r.call(s,i):r(i)):function ao(e,t){const n=e[t];return n===Ie?void 0:n}(e,o+1)}(Z(),jt(),e,t,n,r)}function fd(e){return t=>{setTimeout(e,void 0,t)}}const Ge=class mR extends ae{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,s=n||(()=>null),o=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=fd(s),i&&(i=fd(i)),o&&(o=fd(o)));const a=super.subscribe({next:i,error:s,complete:o});return t instanceof v&&t.add(a),a}};function _R(){return this._results[Symbol.iterator]()}class pd{get changes(){return this._changes||(this._changes=new Ge)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=pd.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=_R)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function vn(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function wD(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let pr=(()=>{class e{}return e.__NG_ELEMENT_ID__=CR,e})();const vR=pr,yR=class extends vR{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tView,i=Oa(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);i[Is]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Un];return null!==o&&(i[Un]=o.createEmbeddedView(r)),Nu(r,i,t),new Ks(i)}};function CR(){return Ja(Mt(),Z())}function Ja(e,t){return 4&e.type?new yR(t,e,ki(e,t)):null}let On=(()=>{class e{}return e.__NG_ELEMENT_ID__=SR,e})();function SR(){return Mv(Mt(),Z())}const wR=On,Dv=class extends wR{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ki(this._hostTNode,this._hostLView)}get injector(){return new wi(this._hostTNode,this._hostLView)}get parentInjector(){const t=zc(this._hostTNode,this._hostLView);if(xp(t)){const n=ha(t,this._hostLView),r=da(t);return new wi(n[he].data[r+8],n)}return new wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Ev(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Vt}createEmbeddedView(t,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=t.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(t,n,r,i,s){const o=t&&!function Ps(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const E=n||{};a=E.index,r=E.injector,i=E.projectableNodes,s=E.environmentInjector||E.ngModuleRef}const l=o?t:new Xs(Ue(t)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const O=(o?u:this.parentInjector).get(Gn,null);O&&(s=O)}const m=l.create(u,i,void 0,s);return this.insert(m.hostView,a),m}insert(t,n){const r=t._lView,i=r[he];if(function zb(e){return En(e[ot])}(r)){const m=this.indexOf(t);if(-1!==m)this.detach(m);else{const E=r[ot],O=new Dv(E,E[Ot],E[ot]);O.detach(O.indexOf(t))}}const s=this._adjustIndex(n),o=this._lContainer;!function uE(e,t,n,r){const i=Vt+r,s=n.length;r>0&&(n[i-1][Dn]=t),r<s-Vt?(t[Dn]=n[i],Up(n,Vt+r,t)):(n.push(t),t[Dn]=null),t[ot]=n;const o=t[Is];null!==o&&n!==o&&function dE(e,t){const n=e[vi];t[kt]!==t[ot][ot][kt]&&(e[ip]=!0),null===n?e[vi]=[t]:n.push(t)}(o,t);const a=t[Un];null!==a&&a.insertView(e),t[Re]|=64}(i,r,o,s);const a=fu(s,o),l=r[Oe],u=Sa(l,o[ta]);return null!==u&&function aE(e,t,n,r,i,s){r[lr]=i,r[Ot]=t,Us(e,r,n,1,i,s)}(i,o[Ot],l,r,u,a),t.attachToViewContainerRef(),Up(gd(o),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Ev(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=uu(this._lContainer,n);r&&(_a(gd(this._lContainer),n),hg(r[he],r))}detach(t){const n=this._adjustIndex(t,-1),r=uu(this._lContainer,n);return r&&null!=_a(gd(this._lContainer),n)?new Ks(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Ev(e){return e[na]}function gd(e){return e[na]||(e[na]=[])}function Mv(e,t){let n;const r=t[e.index];if(En(r))n=r;else{let i;if(8&e.type)i=Et(r);else{const s=t[Oe];i=s.createComment("");const o=un(e,t);Kr(s,Sa(s,o),i,function gE(e,t){return e.nextSibling(t)}(s,o),!1)}t[e.index]=n=Dm(r,t,i,e),Pa(t,n)}return new Dv(n,e,t)}class md{constructor(t){this.queryList=t,this.matches=null}clone(){return new md(this.queryList)}setDirty(){this.queryList.setDirty()}}class _d{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new _d(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Ov(t,n).matches&&this.queries[n].setDirty()}}class Iv{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class vd{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new vd(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class yd{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new yd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,n,bR(n,s)),this.matchTNodeWithReadOption(t,n,ga(n,t,s,!1,!1))}else r===pr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ga(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Lt||i===On||i===pr&&4&n.type)this.addMatch(n.index,-2);else{const s=ga(n,t,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function bR(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function ER(e,t,n,r){return-1===n?function DR(e,t){return 11&e.type?ki(e,t):4&e.type?Ja(e,t):null}(t,e):-2===n?function MR(e,t,n){return n===Lt?ki(t,e):n===pr?Ja(t,e):n===On?Mv(t,e):void 0}(e,t,r):Gr(e,e[he],n,t)}function Av(e,t,n,r){const i=t[Un].queries[r];if(null===i.matches){const s=e.data,o=n.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:ER(t,s[u],o[l+1],n.metadata.read))}i.matches=a}return i.matches}function Cd(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Av(e,t,i,n);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const u=s[a+1],m=t[-l];for(let E=Vt;E<m.length;E++){const O=m[E];O[Is]===O[ot]&&Cd(O[he],O,u,r)}if(null!==m[vi]){const E=m[vi];for(let O=0;O<E.length;O++){const k=E[O];Cd(k[he],k,u,r)}}}}}return r}function Zi(e){const t=Z(),n=Ne(),r=Cp();Fc(r+1);const i=Ov(n,r);if(e.dirty&&function $b(e){return 4==(4&e[Re])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Cd(n,t,r,[]):Av(n,t,i,r);e.reset(s,c1),e.notifyOnChanges()}return!0}return!1}function co(e,t,n){const r=Ne();r.firstCreatePass&&(function Tv(e,t,n){null===e.queries&&(e.queries=new vd),e.queries.track(new yd(t,n))}(r,new Iv(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function xv(e,t,n){const r=new pd(4==(4&n));ym(e,t,r,r.destroy),null===t[Un]&&(t[Un]=new _d),t[Un].queries.push(new md(r))}(r,Z(),t)}function Qi(){return function IR(e,t){return e[Un].queries[t].queryList}(Z(),Cp())}function Ov(e,t){return e.queries.getByIndex(t)}function Qa(...e){}const el=new ge("Application Initializer");let tl=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Qa,this.reject=Qa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Js(s))n.push(s);else if(Qu(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(pe(el,8))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ho=new ge("AppId",{providedIn:"root",factory:function Yv(){return`${Md()}${Md()}${Md()}`}});function Md(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Jv=new ge("Platform Initializer"),nl=new ge("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let XR=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const gr=new ge("LocaleId",{providedIn:"root",factory:()=>Te(gr,Se.Optional|Se.SkipSelf)||function YR(){return typeof $localize<"u"&&$localize.locale||Yi}()});class ZR{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Zv=(()=>{class e{compileModuleSync(n){return new dd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=hr(an(n).declarations).reduce((o,a)=>{const l=Ue(a);return l&&o.push(new Xs(l)),o},[]);return new ZR(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const tx=(()=>Promise.resolve(0))();function Id(e){typeof Zone>"u"?tx.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class rt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function nx(){let e=Qe.requestAnimationFrame,t=Qe.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function sx(e){const t=()=>{!function ix(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Qe,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Rd(e),e.isCheckStableRunning=!0,Ad(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Rd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return ty(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),ny(e)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return ty(e),n.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),ny(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Rd(e),Ad(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rt.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(rt.isInAngularZone())throw new ee(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,rx,Qa,Qa);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const rx={};function Ad(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Rd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function ty(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ny(e){e._nesting--,Ad(e)}class ox{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const ry=new ge(""),rl=new ge("");let Od,xd=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Od||(function ax(e){Od=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rt.assertNotInAngularZone(),Id(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Id(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(pe(rt),pe(Td),pe(rl))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})(),Td=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Od?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const mr=!1;let Ir=null;const iy=new ge("AllowMultipleToken"),kd=new ge("PlatformDestroyListeners"),sy=new ge("appBootstrapListener");class oy{constructor(t,n){this.name=t,this.token=n}}function ly(e,t,n=[]){const r=`Platform: ${t}`,i=new ge(r);return(s=[])=>{let o=Pd();if(!o||o.injector.get(iy,!1)){const a=[...n,...s,{provide:i,useValue:!0}];e?e(a):function ux(e){if(Ir&&!Ir.get(iy,!1))throw new ee(400,!1);Ir=e;const t=e.get(uy);(function ay(e){const t=e.get(Jv,null);t&&t.forEach(n=>n())})(e)}(function cy(e=[],t){return An.create({name:t,providers:[{provide:Eu,useValue:"platform"},{provide:kd,useValue:new Set([()=>Ir=null])},...e]})}(a,r))}return function hx(e){const t=Pd();if(!t)throw new ee(401,!1);return t}()}}function Pd(){return Ir?.get(uy)??null}let uy=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function hy(e,t){let n;return n="noop"===e?new ox:("zone.js"===e?void 0:e)||new rt(t),n}(r?.ngZone,function dy(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:rt,useValue:i}];return i.run(()=>{const o=An.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),l=a.injector.get(Pi,null);if(!l)throw new ee(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:m=>{l.handleError(m)}});a.onDestroy(()=>{sl(this._modules,a),u.unsubscribe()})}),function fy(e,t,n){try{const r=n();return Js(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(l,i,()=>{const u=a.injector.get(tl);return u.runInitializers(),u.donePromise.then(()=>(function H_(e){gn(e,"Expected localeId to be defined"),"string"==typeof e&&(B_=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(gr,Yi)||Yi),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=py({},r);return function lx(e,t,n){const r=new dd(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(il);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new ee(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(kd,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(pe(An))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function py(e,t){return Array.isArray(t)?t.reduce(py,e):{...e,...t}}let il=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new B(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new B(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{rt.assertNotInAngularZone(),Id(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{rt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=Ur(s,o.pipe(Ss()))}bootstrap(n,r){const i=n instanceof Kg;if(!this._injector.get(tl).done){!i&&function pi(e){const t=Ue(e)||Tt(e)||Jt(e);return null!==t&&t.standalone}(n);throw new ee(405,mr)}let o;o=i?n:this._injector.get(Ws).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function cx(e){return e.isBoundToModule}(o)?void 0:this._injector.get(Ji),u=o.create(An.NULL,[],r||o.selector,a),m=u.location.nativeElement,E=u.injector.get(ry,null);return E?.registerApplication(m),u.onDestroy(()=>{this.detachView(u.hostView),sl(this.components,u),E?.unregisterApplication(m)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;sl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(sy,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>sl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ee(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(pe(rt),pe(Gn),pe(Pi))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function sl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let fo=(()=>{class e{}return e.__NG_ELEMENT_ID__=px,e})();function px(e){return function gx(e,t,n){if(Rs(e)&&!n){const r=Zt(e.index,t);return new Ks(r,r)}return 47&e.type?new Ks(t[kt],t):null}(Mt(),Z(),16==(16&e))}class yy{constructor(){}supports(t){return Ha(t)}create(t){return new Sx(t)}}const Cx=(e,t)=>t;class Sx{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Cx}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Sy(r,i,s)?n:r,a=Sy(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,m=l-i;if(u!=m){for(let O=0;O<u;O++){const k=O<s.length?s[O]:s[O]=0,F=k+O;m<=F&&F<u&&(s[O]=k+1)}s[o.previousIndex]=m-u}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Ha(t))throw new ee(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function GM(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,i)):t=this._addAfter(new wx(n,r),s,i),t}_verifyReinsertion(t,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Cy),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class wx{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bx{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Cy{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new bx,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sy(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class wy{constructor(){}supports(t){return t instanceof Map||Xu(t)}create(){return new Dx}}class Dx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Xu(t)))throw new ee(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Ex(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class Ex{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function by(){return new ll([new yy])}let ll=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||by()),deps:[[e,new Ns,new Fs]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new ee(901,!1)}}return e.\u0275prov=me({token:e,providedIn:"root",factory:by}),e})();function Dy(){return new po([new wy])}let po=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Dy()),deps:[[e,new Ns,new Fs]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new ee(901,!1)}}return e.\u0275prov=me({token:e,providedIn:"root",factory:Dy}),e})();const Ax=ly(null,"core",[]);let Rx=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(pe(il))},e.\u0275mod=Xt({type:e}),e.\u0275inj=Ht({}),e})();function ns(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let Hd=null;function _r(){return Hd}class Ox{}const At=new ge("DocumentToken");let Vd=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return function kx(){return pe(Ey)}()},providedIn:"platform"}),e})();const Px=new ge("Location Initialized");let Ey=(()=>{class e extends Vd{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _r().getBaseHref(this._doc)}onPopState(n){const r=_r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=_r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){My()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){My()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(pe(At))},e.\u0275prov=me({token:e,factory:function(){return function Lx(){return new Ey(pe(At))}()},providedIn:"platform"}),e})();function My(){return!!window.history.pushState}function jd(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Iy(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function vr(e){return e&&"?"!==e[0]?"?"+e:e}let ni=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return Te(Ry)},providedIn:"root"}),e})();const Ay=new ge("appBaseHref");let Ry=(()=>{class e extends ni{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Te(At).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return jd(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+vr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+vr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+vr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(pe(Vd),pe(Ay,8))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Fx=(()=>{class e extends ni{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=jd(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+vr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+vr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(pe(Vd),pe(Ay,8))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})(),Ud=(()=>{class e{constructor(n){this._subject=new Ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function Hx(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(Iy(xy(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+vr(r))}normalize(n){return e.stripTrailingSlash(function Bx(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,xy(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=vr,e.joinWithSlash=jd,e.stripTrailingSlash=Iy,e.\u0275fac=function(n){return new(n||e)(pe(ni))},e.\u0275prov=me({token:e,factory:function(){return function Nx(){return new Ud(pe(ni))}()},providedIn:"root"}),e})();function xy(e){return e.replace(/\/index.html$/,"")}function Hy(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}const Zd=/\s+/,Vy=[];let jy=(()=>{class e{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=Vy,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Zd):Vy}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Zd):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,Boolean(n[r]));this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Zd).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(n){return new(n||e)(Y(ll),Y(po),Y(Lt),Y(yn))},e.\u0275dir=we({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class bT{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qd=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new bT(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),zy(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{zy(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(Y(On),Y(pr),Y(ll))},e.\u0275dir=we({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function zy(e,t){e.context.$implicit=t.item}let Wy=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new ET,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Gy("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Gy("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(Y(On),Y(pr))},e.\u0275dir=we({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class ET{constructor(){this.$implicit=null,this.ngIf=null}}function Gy(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ke(t)}'.`)}let Xy=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xt({type:e}),e.\u0275inj=Ht({}),e})();const Yy="browser";let eO=(()=>{class e{}return e.\u0275prov=me({token:e,providedIn:"root",factory:()=>new tO(pe(At),window)}),e})();class tO{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function nO(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Jy(this.window.history)||Jy(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Jy(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Zy{}class RO extends Ox{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class oh extends RO{static makeCurrent(){!function Tx(e){Hd||(Hd=e)}(new oh)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function xO(){return vo=vo||document.querySelector("base"),vo?vo.getAttribute("href"):null}();return null==n?null:function TO(e){Cl=Cl||document.createElement("a"),Cl.setAttribute("href",e);const t=Cl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){vo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Hy(document.cookie,t)}}let Cl,vo=null;const r0=new ge("TRANSITION_ID"),kO=[{provide:el,useFactory:function OO(e,t,n){return()=>{n.get(tl).donePromise.then(()=>{const r=_r(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[r0,At,An],multi:!0}];let LO=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();const Sl=new ge("EventManagerPlugins");let wl=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(pe(Sl),pe(rt))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();class s0{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=_r().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let o0=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let s=i.get(n)??0;return s+=r,s>0?i.set(n,s):i.delete(n),s}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})(),yo=(()=>{class e extends o0{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(s=>s.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(pe(At))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();const ah={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lh=/%COMP%/g,c0=new ge("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function u0(e,t){return t.flat(100).map(n=>n.replace(lh,e))}function d0(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let ch=(()=>{class e{constructor(n,r,i,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new uh(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof p0?i.applyToHost(n):i instanceof dh&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(r.encapsulation){case jn.Emulated:s=new p0(o,a,r,this.appId,l);break;case jn.ShadowDom:return new UO(o,a,n,r);default:s=new dh(o,a,r,l)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(pe(wl),pe(yo),pe(ho),pe(c0))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();class uh{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(ah[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(f0(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(f0(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=ah[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=ah[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Qt.DashCase|Qt.Important)?t.style.setProperty(n,r,i&Qt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Qt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,d0(r)):this.eventManager.addEventListener(t,n,d0(r))}}function f0(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class UO extends uh{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=u0(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class dh extends uh{constructor(t,n,r,i,s=r.id){super(t),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u0(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class p0 extends dh{constructor(t,n,r,i,s){const o=i+"-"+r.id;super(t,n,r,s,o),this.contentAttr=function HO(e){return"_ngcontent-%COMP%".replace(lh,e)}(o),this.hostAttr=function VO(e){return"_nghost-%COMP%".replace(lh,e)}(o)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let $O=(()=>{class e extends s0{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(pe(At))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();const g0=["alt","control","meta","shift"],zO={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},WO={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let GO=(()=>{class e extends s0{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_r().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),g0.forEach(u=>{const m=r.indexOf(u);m>-1&&(r.splice(m,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=zO[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),g0.forEach(o=>{o!==i&&(0,WO[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{e.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(pe(At))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();const _0=[{provide:nl,useValue:Yy},{provide:Jv,useValue:function qO(){oh.makeCurrent()},multi:!0},{provide:At,useFactory:function XO(){return function bE(e){_u=e}(document),document},deps:[]}],YO=ly(Ax,"browser",_0),v0=new ge(""),y0=[{provide:rl,useClass:class PO{addToWindow(t){Qe.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Qe.getAllAngularTestabilities=()=>t.getAllTestabilities(),Qe.getAllAngularRootElements=()=>t.getAllRootElements(),Qe.frameworkStabilizers||(Qe.frameworkStabilizers=[]),Qe.frameworkStabilizers.push(r=>{const i=Qe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?_r().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:ry,useClass:xd,deps:[rt,Td,rl]},{provide:xd,useClass:xd,deps:[rt,Td,rl]}],C0=[{provide:Eu,useValue:"root"},{provide:Pi,useFactory:function KO(){return new Pi},deps:[]},{provide:Sl,useClass:$O,multi:!0,deps:[At,rt,nl]},{provide:Sl,useClass:GO,multi:!0,deps:[At]},{provide:ch,useClass:ch,deps:[wl,yo,ho,c0]},{provide:Yg,useExisting:ch},{provide:o0,useExisting:yo},{provide:yo,useClass:yo,deps:[At]},{provide:wl,useClass:wl,deps:[Sl,rt]},{provide:Zy,useClass:LO,deps:[]},[]];let JO=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:ho,useValue:n.appId},{provide:r0,useExisting:ho},kO]}}}return e.\u0275fac=function(n){return new(n||e)(pe(v0,12))},e.\u0275mod=Xt({type:e}),e.\u0275inj=Ht({providers:[...C0,...y0],imports:[Xy,Rx]}),e})(),S0=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(pe(At))},e.\u0275prov=me({token:e,factory:function(n){let r=null;return r=n?new n:function QO(){return new S0(pe(At))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;let D0=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(n){let r=null;return r=n?new(n||e):pe(E0),r},providedIn:"root"}),e})(),E0=(()=>{class e extends D0{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case Ye.NONE:return r;case Ye.HTML:return Wn(r,"HTML")?hn(r):Lg(this._doc,String(r)).toString();case Ye.STYLE:return Wn(r,"Style")?hn(r):r;case Ye.SCRIPT:if(Wn(r,"Script"))return hn(r);throw new Error("unsafe value used in a script context");case Ye.URL:return Wn(r,"URL")?hn(r):Ma(String(r));case Ye.RESOURCE_URL:if(Wn(r,"ResourceURL"))return hn(r);throw new Error(`unsafe value used in a resource URL context (see ${zo})`);default:throw new Error(`Unexpected SecurityContext ${n} (see ${zo})`)}}bypassSecurityTrustHtml(n){return function xE(e){return new DE(e)}(n)}bypassSecurityTrustStyle(n){return function TE(e){return new EE(e)}(n)}bypassSecurityTrustScript(n){return function OE(e){return new ME(e)}(n)}bypassSecurityTrustUrl(n){return function kE(e){return new IE(e)}(n)}bypassSecurityTrustResourceUrl(n){return function PE(e){return new AE(e)}(n)}}return e.\u0275fac=function(n){return new(n||e)(pe(At))},e.\u0275prov=me({token:e,factory:function(n){let r=null;return r=n?new n:function ik(e){return new E0(e.get(At))}(pe(An)),r},providedIn:"root"}),e})();const{isArray:sk}=Array,{getPrototypeOf:ok,prototype:ak,keys:lk}=Object;const{isArray:uk}=Array;function ph(e){return de(t=>function dk(e,t){return uk(t)?e(...t):e(t)}(e,t))}const is=new ge("CallSetDisabledState",{providedIn:"root",factory:()=>Al}),Al="always";let pC=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xt({type:e}),e.\u0275inj=Ht({}),e})(),fP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xt({type:e}),e.\u0275inj=Ht({imports:[pC]}),e})(),gP=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:is,useValue:n.callSetDisabledState??Al}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xt({type:e}),e.\u0275inj=Ht({imports:[fP]}),e})();function ve(...e){return pt(e,Cs(e))}class Fn extends ae{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const kl=Kt(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function OC(...e){const t=Cs(e),n=function Uf(e){return _e(gc(e))?e.pop():void 0}(e),{args:r,keys:i}=function M0(e){if(1===e.length){const t=e[0];if(sk(t))return{args:t,keys:null};if(function ck(e){return e&&"object"==typeof e&&ok(e)===ak}(t)){const n=lk(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return pt([],t);const s=new B(function mP(e,t,n=x){return r=>{kC(t,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)kC(t,()=>{const u=pt(e[l],t);let m=!1;u.subscribe(K(r,E=>{s[l]=E,m||(m=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>function I0(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,o):x));return n?s.pipe(ph(n)):s}function kC(e,t,n){e?ir(n,e,t):t()}function Fh(...e){return function _P(){return hi(1)}()(pt(e,Cs(e)))}function PC(e){return new B(t=>{sn(e()).subscribe(t)})}function Do(e,t){const n=_e(e)?e:()=>e,r=i=>i.error(n());return new B(t?i=>t.schedule(r,0,i):r)}function Nh(){return z((e,t)=>{let n=null;e._refCount++;const r=K(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class LC extends B{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,V(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new v;const n=this.getSubject();t.add(this.source.subscribe(K(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=v.EMPTY)}return t}refCount(){return Nh()(this)}}function Nn(e,t){return z((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(K(r,l=>{i?.unsubscribe();let u=0;const m=s++;sn(e(l,m)).subscribe(i=K(r,E=>r.next(t?t(l,E,m,u++):E),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function si(e){return e<=0?()=>Hn:z((t,n)=>{let r=0;t.subscribe(K(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function nn(e,t){return z((n,r)=>{let i=0;n.subscribe(K(r,s=>e.call(t,s,i++)&&r.next(s)))})}function Pl(e){return z((t,n)=>{let r=!1;t.subscribe(K(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function FC(e=yP){return z((t,n)=>{let r=!1;t.subscribe(K(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function yP(){return new kl}function Or(e,t){const n=arguments.length>=2;return r=>r.pipe(e?nn((i,s)=>e(i,s,r)):x,si(1),n?Pl(t):FC(()=>new kl))}function kr(e,t){return _e(t)?yt(e,t,1):yt(e,1)}function Rt(e,t,n){const r=_e(e)||t||n?{next:e,error:t,complete:n}:e;return r?z((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(K(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):x}function Pr(e){return z((t,n)=>{let s,r=null,i=!1;r=t.subscribe(K(n,void 0,void 0,o=>{s=sn(e(o,Pr(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function NC(e,t){return z(function CP(e,t,n,r,i){return(s,o)=>{let a=n,l=t,u=0;s.subscribe(K(o,m=>{const E=u++;l=a?e(l,m,E):(a=!0,m),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(e,t,arguments.length>=2,!0))}function Bh(e){return e<=0?()=>Hn:z((t,n)=>{let r=[];t.subscribe(K(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function BC(e,t){const n=arguments.length>=2;return r=>r.pipe(e?nn((i,s)=>e(i,s,r)):x,Bh(1),n?Pl(t):FC(()=>new kl))}function Hh(e){return z((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Ae="primary",Eo=Symbol("RouteTitle");class bP{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ss(e){return new bP(e)}function DP(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Qn(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!HC(e[i],t[i]))return!1;return!0}function HC(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function VC(e){return Array.prototype.concat.apply([],e)}function jC(e){return e.length>0?e[e.length-1]:null}function xt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Lr(e){return Qu(e)?e:Js(e)?pt(Promise.resolve(e)):ve(e)}const Ll=!1,MP={exact:function zC(e,t,n){if(!oi(e.segments,t.segments)||!Fl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!zC(e.children[r],t.children[r],n))return!1;return!0},subset:WC},UC={exact:function IP(e,t){return Qn(e,t)},subset:function AP(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>HC(e[n],t[n]))},ignored:()=>!0};function $C(e,t,n){return MP[n.paths](e.root,t.root,n.matrixParams)&&UC[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function WC(e,t,n){return GC(e,t,t.segments,n)}function GC(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!oi(i,n)||t.hasChildren()||!Fl(i,n,r))}if(e.segments.length===n.length){if(!oi(e.segments,n)||!Fl(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!WC(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(oi(e.segments,i)&&Fl(e.segments,i,r)&&e.children[Ae])&&GC(e.children[Ae],t,s,r)}}function Fl(e,t,n){return t.every((r,i)=>UC[n](e[i].parameters,r.parameters))}class Fr{constructor(t=new ke([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ss(this.queryParams)),this._queryParamMap}toString(){return TP.serialize(this)}}class ke{constructor(t,n){this.segments=t,this.children=n,this.parent=null,xt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nl(this)}}class Mo{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ss(this.parameters)),this._parameterMap}toString(){return XC(this)}}function oi(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Io=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return new Vh},providedIn:"root"}),e})();class Vh{parse(t){const n=new VP(t);return new Fr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Ao(t.root,!0)}`,r=function PP(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${Bl(n)}=${Bl(i)}`).join("&"):`${Bl(n)}=${Bl(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function OP(e){return encodeURI(e)}(t.fragment)}`:""}`}}const TP=new Vh;function Nl(e){return e.segments.map(t=>XC(t)).join("/")}function Ao(e,t){if(!e.hasChildren())return Nl(e);if(t){const n=e.children[Ae]?Ao(e.children[Ae],!1):"",r=[];return xt(e.children,(i,s)=>{s!==Ae&&r.push(`${s}:${Ao(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function xP(e,t){let n=[];return xt(e.children,(r,i)=>{i===Ae&&(n=n.concat(t(r,i)))}),xt(e.children,(r,i)=>{i!==Ae&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===Ae?[Ao(e.children[Ae],!1)]:[`${i}:${Ao(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Ae]?`${Nl(e)}/${n[0]}`:`${Nl(e)}/(${n.join("//")})`}}function qC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bl(e){return qC(e).replace(/%3B/gi,";")}function jh(e){return qC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hl(e){return decodeURIComponent(e)}function KC(e){return Hl(e.replace(/\+/g,"%20"))}function XC(e){return`${jh(e.path)}${function kP(e){return Object.keys(e).map(t=>`;${jh(t)}=${jh(e[t])}`).join("")}(e.parameters)}`}const LP=/^[^\/()?;=#]+/;function Vl(e){const t=e.match(LP);return t?t[0]:""}const FP=/^[^=?&#]+/,BP=/^[^&#]+/;class VP{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Ae]=new ke(t,n)),r}parseSegment(){const t=Vl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new ee(4009,Ll);return this.capture(t),new Mo(Hl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Vl(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Vl(this.remaining);i&&(r=i,this.capture(r))}t[Hl(n)]=Hl(r)}parseQueryParam(t){const n=function NP(e){const t=e.match(FP);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function HP(e){const t=e.match(BP);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=KC(n),s=KC(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Vl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ee(4010,Ll);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ae);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Ae]:new ke([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new ee(4011,Ll)}}function Uh(e){return e.segments.length>0?new ke([],{[Ae]:e}):e}function jl(e){const t={};for(const r of Object.keys(e.children)){const s=jl(e.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function jP(e){if(1===e.numberOfChildren&&e.children[Ae]){const t=e.children[Ae];return new ke(e.segments.concat(t.segments),t.children)}return e}(new ke(e.segments,t))}function ai(e){return e instanceof Fr}const $h=!1;function UP(e,t,n,r,i){if(0===n.length)return os(t.root,t.root,t.root,r,i);const s=function eS(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new QC(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return xt(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new QC(n,t,r)}(n);return s.toRoot()?os(t.root,t.root,new ke([],{}),r,i):function o(l){const u=function zP(e,t,n,r){if(e.isAbsolute)return new as(t.root,!0,0);if(-1===r)return new as(n,n===t.root,0);return function tS(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ee(4005,$h&&"Invalid number of '../'");i=r.segments.length}return new as(r,!1,i-s)}(n,r+(Ro(e.commands[0])?0:1),e.numberOfDoubleDots)}(s,t,e.snapshot?._urlSegment,l),m=u.processChildren?ls(u.segmentGroup,u.index,s.commands):zh(u.segmentGroup,u.index,s.commands);return os(t.root,u.segmentGroup,m,r,i)}(e.snapshot?._lastPathIndex)}function Ro(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function xo(e){return"object"==typeof e&&null!=e&&e.outlets}function os(e,t,n,r,i){let o,s={};r&&xt(r,(l,u)=>{s[u]=Array.isArray(l)?l.map(m=>`${m}`):`${l}`}),o=e===t?n:ZC(e,t,n);const a=Uh(jl(o));return new Fr(a,s,i)}function ZC(e,t,n){const r={};return xt(e.children,(i,s)=>{r[s]=i===t?n:ZC(i,t,n)}),new ke(e.segments,r)}class QC{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Ro(r[0]))throw new ee(4003,$h&&"Root segment cannot have matrix parameters");const i=r.find(xo);if(i&&i!==jC(r))throw new ee(4004,$h&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class as{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function zh(e,t,n){if(e||(e=new ke([],{})),0===e.segments.length&&e.hasChildren())return ls(e,t,n);const r=function GP(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const o=e.segments[i],a=n[r];if(xo(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!rS(l,u,o))return s;r+=2}else{if(!rS(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new ke(e.segments.slice(0,r.pathIndex),{});return s.children[Ae]=new ke(e.segments.slice(r.pathIndex),e.children),ls(s,0,i)}return r.match&&0===i.length?new ke(e.segments,{}):r.match&&!e.hasChildren()?Wh(e,t,n):r.match?ls(e,0,i):Wh(e,t,n)}function ls(e,t,n){if(0===n.length)return new ke(e.segments,{});{const r=function WP(e){return xo(e[0])?e[0].outlets:{[Ae]:e}}(n),i={};if(!r[Ae]&&e.children[Ae]&&1===e.numberOfChildren&&0===e.children[Ae].segments.length){const s=ls(e.children[Ae],t,n);return new ke(e.segments,s.children)}return xt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=zh(e.children[o],t,s))}),xt(e.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ke(e.segments,i)}}function Wh(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(xo(s)){const l=qP(s.outlets);return new ke(r,l)}if(0===i&&Ro(n[0])){r.push(new Mo(e.segments[t].path,nS(n[0]))),i++;continue}const o=xo(s)?s.outlets[Ae]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ro(a)?(r.push(new Mo(o,nS(a))),i+=2):(r.push(new Mo(o,{})),i++)}return new ke(r,{})}function qP(e){const t={};return xt(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=Wh(new ke([],{}),0,n))}),t}function nS(e){const t={};return xt(e,(n,r)=>t[r]=`${n}`),t}function rS(e,t,n){return e==n.path&&Qn(t,n.parameters)}const To="imperative";class er{constructor(t,n){this.id=t,this.url=n}}class Gh extends er{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class li extends er{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ul extends er{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $l extends er{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class qh extends er{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KP extends er{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XP extends er{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YP extends er{constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class JP extends er{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZP extends er{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QP{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eL{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tL{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nL{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rL{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iL{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iS{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let aL=(()=>{class e{createUrlTree(n,r,i,s,o,a){return UP(n||r.root,i,s,o,a)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})(),cL=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(t){return aL.\u0275fac(t)},providedIn:"root"}),e})();class sS{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Kh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=Kh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Xh(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Xh(t,this._root).map(n=>n.value)}}function Kh(e,t){if(e===t.value)return t;for(const n of t.children){const r=Kh(e,n);if(r)return r}return null}function Xh(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Xh(e,n);if(r.length)return r.unshift(t),r}return[]}class Cr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function cs(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class oS extends sS{constructor(t,n){super(t),this.snapshot=n,Yh(this,t)}toString(){return this.snapshot.toString()}}function aS(e,t){const n=function uL(e,t){const o=new zl([],{},{},"",{},Ae,t,null,e.root,-1,{});return new cS("",new Cr(o,[]))}(e,t),r=new Fn([new Mo("",{})]),i=new Fn({}),s=new Fn({}),o=new Fn({}),a=new Fn(""),l=new Nr(r,i,o,a,s,Ae,t,n.root);return l.snapshot=n.root,new oS(new Cr(l,[]),n)}class Nr{constructor(t,n,r,i,s,o,a,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(de(u=>u[Eo]))??ve(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(de(t=>ss(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(de(t=>ss(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lS(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function dL(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class zl{get title(){return this.data?.[Eo]}constructor(t,n,r,i,s,o,a,l,u,m,E){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=m,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ss(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ss(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cS extends sS{constructor(t,n){super(n),this.url=t,Yh(this,n)}toString(){return uS(this._root)}}function Yh(e,t){t.value._routerState=e,t.children.forEach(n=>Yh(e,n))}function uS(e){const t=e.children.length>0?` { ${e.children.map(uS).join(", ")} } `:"";return`${e.value}${t}`}function Jh(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Qn(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Qn(t.params,n.params)||e.params.next(n.params),function EP(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Qn(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Qn(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Zh(e,t){const n=Qn(e.params,t.params)&&function RP(e,t){return oi(e,t)&&e.every((n,r)=>Qn(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Zh(e.parent,t.parent))}function Oo(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function fL(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Oo(e,r,i);return Oo(e,r)})}(e,t,n);return new Cr(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Oo(e,a)),o}}const r=function pL(e){return new Nr(new Fn(e.url),new Fn(e.params),new Fn(e.queryParams),new Fn(e.fragment),new Fn(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>Oo(e,s));return new Cr(r,i)}}const Qh="ngNavigationCancelingError";function dS(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=ai(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=hS(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function hS(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[Qh]=!0,r.cancellationCode=t,n&&(r.url=n),r}function fS(e){return pS(e)&&ai(e.url)}function pS(e){return e&&e[Qh]}class gL{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ko,this.attachRef=null}}let ko=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new gL,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Wl=!1;let ef=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ae,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.parentContexts=Te(ko),this.location=Te(On),this.changeDetector=Te(fo),this.environmentInjector=Te(Gn)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,Wl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,Wl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,Wl);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ee(4013,Wl);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new mL(n,a,i.injector);if(r&&function _L(e){return!!e.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(o);this.activated=i.createComponent(u,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=we({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cn]}),e})();class mL{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Nr?this.route:t===ko?this.childContexts:this.parent.get(t,n)}}let tf=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=br({type:e,selectors:[["ng-component"]],standalone:!0,features:[hv],decls:1,vars:0,template:function(n,r){1&n&&$t(0,"router-outlet")},dependencies:[ef],encapsulation:2}),e})();function gS(e,t){return e.providers&&!e._injector&&(e._injector=Ya(e.providers,t,`Route: ${e.path}`)),e._injector??t}function rf(e){const t=e.children&&e.children.map(rf),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Ae&&(n.component=tf),n}function bn(e){return e.outlet||Ae}function mS(e,t){const n=e.filter(r=>bn(r)===t);return n.push(...e.filter(r=>bn(r)!==t)),n}function Po(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class wL{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Jh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=cs(n);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),xt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=cs(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=cs(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=cs(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new iL(s.value.snapshot))}),t.children.length&&this.forwardEvent(new nL(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(Jh(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Jh(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=Po(i.snapshot),l=a?.get(Ws)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class _S{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Gl{constructor(t,n){this.component=t,this.route=n}}function bL(e,t,n){const r=e._root;return Lo(r,t?t._root:null,n,[r.value])}function us(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function _b(e){return null!==qo(e)}(e)?t.get(e):e:r}function Lo(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=cs(t);return e.children.forEach(o=>{(function EL(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function ML(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!oi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!oi(e.url,t.url)||!Qn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zh(e,t)||!Qn(e.queryParams,t.queryParams);default:return!Zh(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new _S(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Lo(e,t,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Gl(a.outlet.component,o))}else o&&Fo(t,a,i),i.canActivateChecks.push(new _S(r)),Lo(e,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),xt(s,(o,a)=>Fo(o,n.getContext(a),i)),i}function Fo(e,t,n){const r=cs(e),i=e.value;xt(r,(s,o)=>{Fo(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new Gl(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function No(e){return"function"==typeof e}function sf(e){return e instanceof kl||"EmptyError"===e?.name}const ql=Symbol("INITIAL_VALUE");function ds(){return Nn(e=>OC(e.map(t=>t.pipe(si(1),function vP(...e){const t=Cs(e);return z((n,r)=>{(t?Fh(e,n,t):Fh(e,n)).subscribe(r)})}(ql)))).pipe(de(t=>{for(const n of t)if(!0!==n){if(n===ql)return ql;if(!1===n||n instanceof Fr)return n}return!0}),nn(t=>t!==ql),si(1)))}function vS(e){return function L(...e){return j(e)}(Rt(t=>{if(ai(t))throw dS(0,t)}),de(t=>!0===t))}const af={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yS(e,t,n,r,i){const s=lf(e,t,n);return s.matched?function $L(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?ve(i.map(o=>{const a=us(o,e);return Lr(function OL(e){return e&&No(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(ds(),vS()):ve(!0)}(r=gS(t,r),t,n).pipe(de(o=>!0===o?s:{...af})):ve(s)}function lf(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...af}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||DP)(n,e,t);if(!i)return{...af};const s={};xt(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Kl(e,t,n,r){if(n.length>0&&function GL(e,t,n){return n.some(r=>Xl(e,t,r)&&bn(r)!==Ae)}(e,n,r)){const s=new ke(t,function WL(e,t,n,r){const i={};i[Ae]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&bn(s)!==Ae){const o=new ke([],{});o._sourceSegment=e,o._segmentIndexShift=t.length,i[bn(s)]=o}return i}(e,t,r,new ke(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function qL(e,t,n){return n.some(r=>Xl(e,t,r))}(e,n,r)){const s=new ke(e.segments,function zL(e,t,n,r,i){const s={};for(const o of r)if(Xl(e,n,o)&&!i[bn(o)]){const a=new ke([],{});a._sourceSegment=e,a._segmentIndexShift=t.length,s[bn(o)]=a}return{...i,...s}}(e,t,n,r,e.children));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const i=new ke(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}function Xl(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function CS(e,t,n,r){return!!(bn(e)===r||r!==Ae&&Xl(t,n,e))&&("**"===e.path||lf(t,e,n).matched)}function SS(e,t,n){return 0===t.length&&!e.children[n]}const Yl=!1;class Jl{constructor(t){this.segmentGroup=t||null}}class wS{constructor(t){this.urlTree=t}}function Bo(e){return Do(new Jl(e))}function bS(e){return Do(new wS(e))}class JL{constructor(t,n,r,i,s){this.injector=t,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const t=Kl(this.urlTree.root,[],[],this.config).segmentGroup,n=new ke(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,Ae).pipe(de(s=>this.createUrlTree(jl(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pr(s=>{if(s instanceof wS)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Jl?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Ae).pipe(de(i=>this.createUrlTree(jl(i),t.queryParams,t.fragment))).pipe(Pr(i=>{throw i instanceof Jl?this.noMatchError(i):i}))}noMatchError(t){return new ee(4002,Yl)}createUrlTree(t,n,r){const i=Uh(t);return new Fr(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(de(s=>new ke([],s))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return pt(i).pipe(kr(s=>{const o=r.children[s],a=mS(n,s);return this.expandSegmentGroup(t,a,o,s).pipe(de(l=>({segment:l,outlet:s})))}),NC((s,o)=>(s[o.outlet]=o.segment,s),{}),BC())}expandSegment(t,n,r,i,s,o){return pt(r).pipe(kr(a=>this.expandSegmentAgainstRoute(t,n,r,a,i,s,o).pipe(Pr(u=>{if(u instanceof Jl)return ve(null);throw u}))),Or(a=>!!a),Pr((a,l)=>{if(sf(a))return SS(n,i,s)?ve(new ke([],{})):Bo(n);throw a}))}expandSegmentAgainstRoute(t,n,r,i,s,o,a){return CS(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o):Bo(n):Bo(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?bS(s):this.lineralizeSegments(r,s).pipe(yt(o=>{const a=new ke(o,{});return this.expandSegment(t,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:m}=lf(n,i,s);if(!a)return Bo(n);const E=this.applyRedirectCommands(l,i.redirectTo,m);return i.redirectTo.startsWith("/")?bS(E):this.lineralizeSegments(i,E).pipe(yt(O=>this.expandSegment(t,n,r,O.concat(u),o,!1)))}matchSegmentAgainstRoute(t,n,r,i,s){return"**"===r.path?(t=gS(r,t),r.loadChildren?(r._loadedRoutes?ve({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(de(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ke(i,{})))):ve(new ke(i,{}))):yS(n,r,i,t).pipe(Nn(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(t=r._injector??t,r,i).pipe(yt(m=>{const E=m.injector??t,O=m.routes,{segmentGroup:k,slicedSegments:F}=Kl(n,a,l,O),W=new ke(k.segments,k.children);if(0===F.length&&W.hasChildren())return this.expandChildren(E,O,W).pipe(de(q=>new ke(a,q)));if(0===O.length&&0===F.length)return ve(new ke(a,{}));const G=bn(r)===s;return this.expandSegment(E,W,O,F,G?Ae:s,!0).pipe(de(ne=>new ke(a.concat(ne.segments),ne.children)))})):Bo(n)))}getChildConfig(t,n,r){return n.children?ve({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?ve({routes:n._loadedRoutes,injector:n._loadedInjector}):function UL(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?ve(!0):ve(i.map(o=>{const a=us(o,e);return Lr(function AL(e){return e&&No(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(ds(),vS())}(t,n,r).pipe(yt(i=>i?this.configLoader.loadChildren(t,n).pipe(Rt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function XL(e){return Do(hS(Yl,3))}())):ve({routes:[],injector:t})}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ve(r);if(i.numberOfChildren>1||!i.children[Ae])return t.redirectTo,Do(new ee(4e3,Yl));i=i.children[Ae]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new Fr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return xt(t,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let o={};return xt(n.children,(a,l)=>{o[l]=this.createSegmentGroup(t,a,r,i)}),new ke(s,o)}createSegments(t,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new ee(4001,Yl);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}class QL{}class nF{constructor(t,n,r,i,s,o,a){this.injector=t,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const t=Kl(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ae).pipe(de(n=>{if(null===n)return null;const r=new zl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ae,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Cr(r,n),s=new cS(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const n=t.value,r=lS(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i)}processChildren(t,n,r){return pt(Object.keys(r.children)).pipe(kr(i=>{const s=r.children[i],o=mS(n,i);return this.processSegmentGroup(t,o,s,i)}),NC((i,s)=>i&&s?(i.push(...s),i):null),function SP(e,t=!1){return z((n,r)=>{let i=0;n.subscribe(K(r,s=>{const o=e(s,i++);(o||t)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Pl(null),BC(),de(i=>{if(null===i)return null;const s=ES(i);return function rF(e){e.sort((t,n)=>t.value.outlet===Ae?-1:n.value.outlet===Ae?1:t.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(t,n,r,i,s){return pt(n).pipe(kr(o=>this.processSegmentAgainstRoute(o._injector??t,o,r,i,s)),Or(o=>!!o),Pr(o=>{if(sf(o))return SS(r,i,s)?ve([]):ve(null);throw o}))}processSegmentAgainstRoute(t,n,r,i,s){if(n.redirectTo||!CS(n,r,i,s))return ve(null);let o;if("**"===n.path){const a=i.length>0?jC(i).parameters:{},l=IS(r)+i.length;o=ve({snapshot:new zl(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,AS(n),bn(n),n.component??n._loadedComponent??null,n,MS(r),l,RS(n)),consumedSegments:[],remainingSegments:[]})}else o=yS(r,n,i,t).pipe(de(({matched:a,consumedSegments:l,remainingSegments:u,parameters:m})=>{if(!a)return null;const E=IS(r)+l.length;return{snapshot:new zl(l,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,AS(n),bn(n),n.component??n._loadedComponent??null,n,MS(r),E,RS(n)),consumedSegments:l,remainingSegments:u}}));return o.pipe(Nn(a=>{if(null===a)return ve(null);const{snapshot:l,consumedSegments:u,remainingSegments:m}=a;t=n._injector??t;const E=n._loadedInjector??t,O=function iF(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:k,slicedSegments:F}=Kl(r,u,m,O.filter(G=>void 0===G.redirectTo));if(0===F.length&&k.hasChildren())return this.processChildren(E,O,k).pipe(de(G=>null===G?null:[new Cr(l,G)]));if(0===O.length&&0===F.length)return ve([new Cr(l,[])]);const W=bn(n)===s;return this.processSegment(E,O,k,F,W?Ae:s).pipe(de(G=>null===G?null:[new Cr(l,G)]))}))}}function sF(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function ES(e){const t=[],n=new Set;for(const r of e){if(!sF(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=ES(r.children);t.push(new Cr(r.value,i))}return t.filter(r=>!n.has(r))}function MS(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function IS(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function AS(e){return e.data||{}}function RS(e){return e.resolve||{}}function xS(e){return"string"==typeof e.title||null===e.title}function cf(e){return Nn(t=>{const n=e(t);return n?pt(n).pipe(de(()=>t)):ve(t)})}const hs=new ge("ROUTES");let uf=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Te(Zv)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ve(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Lr(n.loadComponent()).pipe(de(OS),Rt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Hh(()=>{this.componentLoaders.delete(n)})),i=new LC(r,()=>new ae).pipe(Nh());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(de(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u,m=!1;Array.isArray(a)?u=a:(l=a.create(n).injector,u=VC(l.get(hs,[],Se.Self|Se.Optional)));return{routes:u.map(rf),injector:l}}),Hh(()=>{this.childrenLoaders.delete(r)})),o=new LC(s,()=>new ae).pipe(Nh());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Lr(n()).pipe(de(OS),yt(r=>r instanceof uv||Array.isArray(r)?ve(r):pt(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function OS(e){return function fF(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Ql=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ae,this.configLoader=Te(uf),this.environmentInjector=Te(Gn),this.urlSerializer=Te(Io),this.rootContexts=Te(ko),this.navigationId=0,this.afterPreactivation=()=>ve(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new eL(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new QP(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Fn({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:To,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(nn(r=>0!==r.id),de(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Nn(r=>{let i=!1,s=!1;return ve(r).pipe(Rt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Nn(o=>{const a=n.browserUrlTree.toString(),l=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const m="";return this.events.next(new $l(o.id,n.serializeUrl(r.rawUrl),m,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Hn}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return kS(o.source)&&(n.browserUrlTree=o.extractedUrl),ve(o).pipe(Nn(m=>{const E=this.transitions?.getValue();return this.events.next(new Gh(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),E!==this.transitions?.getValue()?Hn:Promise.resolve(m)}),function ZL(e,t,n,r){return Nn(i=>function YL(e,t,n,r,i){return new JL(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(de(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Rt(m=>{this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects},r.urlAfterRedirects=m.urlAfterRedirects}),function aF(e,t,n,r,i){return yt(s=>function tF(e,t,n,r,i,s,o="emptyOnly"){return new nF(e,t,n,r,i,o,s).recognize().pipe(Nn(a=>null===a?function eF(e){return new B(t=>t.error(e))}(new QL):ve(a)))}(e,t,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(de(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Rt(m=>{if(r.targetSnapshot=m.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!m.extras.skipLocationChange){const O=n.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl);n.setBrowserUrl(O,m)}n.browserUrlTree=m.urlAfterRedirects}const E=new KP(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(E)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:m,extractedUrl:E,source:O,restoredState:k,extras:F}=o,W=new Gh(m,this.urlSerializer.serialize(E),O,k);this.events.next(W);const G=aS(E,this.rootComponentType).snapshot;return ve(r={...o,targetSnapshot:G,urlAfterRedirects:E,extras:{...F,skipLocationChange:!1,replaceUrl:!1}})}{const m="";return this.events.next(new $l(o.id,n.serializeUrl(r.extractedUrl),m,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Hn}}),Rt(o=>{const a=new XP(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),de(o=>r={...o,guards:bL(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function PL(e,t){return yt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ve({...n,guardsResult:!0}):function LL(e,t,n,r){return pt(e).pipe(yt(i=>function jL(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ve(s.map(a=>{const l=Po(t)??i,u=us(a,l);return Lr(function TL(e){return e&&No(e.canDeactivate)}(u)?u.canDeactivate(e,t,n,r):l.runInContext(()=>u(e,t,n,r))).pipe(Or())})).pipe(ds()):ve(!0)}(i.component,i.route,n,t,r)),Or(i=>!0!==i,!0))}(o,r,i,e).pipe(yt(a=>a&&function IL(e){return"boolean"==typeof e}(a)?function FL(e,t,n,r){return pt(t).pipe(kr(i=>Fh(function BL(e,t){return null!==e&&t&&t(new tL(e)),ve(!0)}(i.route.parent,r),function NL(e,t){return null!==e&&t&&t(new rL(e)),ve(!0)}(i.route,r),function VL(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function DL(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>PC(()=>ve(o.guards.map(l=>{const u=Po(o.node)??n,m=us(l,u);return Lr(function xL(e){return e&&No(e.canActivateChild)}(m)?m.canActivateChild(r,e):u.runInContext(()=>m(r,e))).pipe(Or())})).pipe(ds())));return ve(s).pipe(ds())}(e,i.path,n),function HL(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return ve(!0);const i=r.map(s=>PC(()=>{const o=Po(t)??n,a=us(s,o);return Lr(function RL(e){return e&&No(e.canActivate)}(a)?a.canActivate(t,e):o.runInContext(()=>a(t,e))).pipe(Or())}));return ve(i).pipe(ds())}(e,i.route,n))),Or(i=>!0!==i,!0))}(r,s,e,t):ve(a)),de(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Rt(o=>{if(r.guardsResult=o.guardsResult,ai(o.guardsResult))throw dS(0,o.guardsResult);const a=new YP(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),nn(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),cf(o=>{if(o.guards.canActivateChecks.length)return ve(o).pipe(Rt(a=>{const l=new JP(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Nn(a=>{let l=!1;return ve(a).pipe(function lF(e,t){return yt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ve(n);let s=0;return pt(i).pipe(kr(o=>function cF(e,t,n,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!xS(i)&&(s[Eo]=i.title),function uF(e,t,n,r){const i=function dF(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return ve({});const s={};return pt(i).pipe(yt(o=>function hF(e,t,n,r){const i=Po(t)??r,s=us(e,i);return Lr(s.resolve?s.resolve(t,n):i.runInContext(()=>s(t,n)))}(e[o],t,n,r).pipe(Or(),Rt(a=>{s[o]=a}))),Bh(1),function wP(e){return de(()=>e)}(s),Pr(o=>sf(o)?Hn:Do(o)))}(s,e,t,r).pipe(de(o=>(e._resolvedData=o,e.data=lS(e,n).resolve,i&&xS(i)&&(e.data[Eo]=i.title),null)))}(o.route,r,e,t)),Rt(()=>s++),Bh(1),yt(o=>s===i.length?ve(n):Hn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Rt({next:()=>l=!0,complete:()=>{l||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Rt(a=>{const l=new ZP(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),cf(o=>{const a=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(Rt(m=>{l.component=m}),de(()=>{})));for(const m of l.children)u.push(...a(m));return u};return OC(a(o.targetSnapshot.root)).pipe(Pl(),si(1))}),cf(()=>this.afterPreactivation()),de(o=>{const a=function hL(e,t,n){const r=Oo(e,t._root,n?n._root:void 0);return new oS(r,t)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Rt(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((e,t,n)=>de(r=>(new wL(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),si(1),Rt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new li(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Hh(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Pr(o=>{if(s=!0,pS(o)){fS(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Ul(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),fS(o)){const l=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||kS(r.source)};n.scheduleNavigation(l,To,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new qh(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(l){r.reject(l)}}return Hn}))}))}cancelNavigationTransition(n,r,i){const s=new Ul(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function kS(e){return e!==To}let PS=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ae);return r}getResolvedTitleForRoute(n){return n.data[Eo]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return Te(pF)},providedIn:"root"}),e})(),pF=(()=>{class e extends PS{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(pe(S0))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),gF=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return Te(_F)},providedIn:"root"}),e})();class mF{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let _F=(()=>{class e extends mF{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=function It(e){return sr(()=>{const t=e.prototype.constructor,n=t[ar]||Gc(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[ar]||Gc(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(e)))(r||e)}}(),e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ec=new ge("",{providedIn:"root",factory:()=>({})});let yF=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return Te(CF)},providedIn:"root"}),e})(),CF=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function SF(e){throw e}function wF(e,t,n){return t.parse("/")}const bF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Te(XR),this.isNgZoneEnabled=!1,this.options=Te(ec,{optional:!0})||{},this.errorHandler=this.options.errorHandler||SF,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||wF,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Te(yF),this.routeReuseStrategy=Te(gF),this.urlCreationStrategy=Te(cL),this.titleStrategy=Te(PS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=VC(Te(hs,{optional:!0})??[]),this.navigationTransitions=Te(Ql),this.urlSerializer=Te(Io),this.location=Te(Ud),this.isNgZoneEnabled=Te(rt)instanceof rt&&rt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Fr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=aS(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),To,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(rf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o;let m=null;switch(a){case"merge":m={...this.currentUrlTree.queryParams,...s};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=s||null}return null!==m&&(m=this.removeEmptyProps(m)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,m,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ai(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,To,null,r)}navigate(n,r={skipLocationChange:!1}){return function EF(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new ee(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...bF}:!1===r?{...DF}:r,ai(n))return $C(this.currentUrlTree,n,i);const s=this.parseUrl(n);return $C(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u,m;return o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((E,O)=>{a=E,l=O}),m="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:m,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(E=>Promise.reject(E))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),tc=(()=>{class e{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ae;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof li&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=ns(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=ns(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=ns(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function Bg(e,t,n){return function KE(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Ng:Ti}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(n){return new(n||e)(Y(rn),Y(Nr),function ma(e){return function mD(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(Ip(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===t)return n[i+1];i+=2}}}return null}(Mt(),e)}("tabindex"),Y(yn),Y(Lt),Y(ni))},e.\u0275dir=we({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&Nt("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Xn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[cn]}),e})();class LS{}let AF=(()=>{class e{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(nn(n=>n instanceof li),kr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Ya(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return pt(i).pipe(hi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ve(null);const s=i.pipe(yt(o=>null===o?ve(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?pt([s,this.loader.loadComponent(r)]).pipe(hi()):s})}}return e.\u0275fac=function(n){return new(n||e)(pe(rn),pe(Zv),pe(Gn),pe(LS),pe(uf))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const hf=new ge("");let FS=(()=>{class e{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Gh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof li&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof iS&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new iS(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function gm(){throw new Error("invalid")}()},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();var pn=(()=>((pn=pn||{})[pn.COMPLETE=0]="COMPLETE",pn[pn.FAILED=1]="FAILED",pn[pn.REDIRECTING=2]="REDIRECTING",pn))();const fs=!1;function Br(e,t){return{\u0275kind:e,\u0275providers:t}}const ff=new ge("",{providedIn:"root",factory:()=>!1});function BS(){const e=Te(An);return t=>{const n=e.get(il);if(t!==n.components[0])return;const r=e.get(rn),i=e.get(HS);1===e.get(pf)&&r.initialNavigation(),e.get(VS,null,Se.Optional)?.setUpPreloading(),e.get(hf,null,Se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const HS=new ge(fs?"bootstrap done indicator":"",{factory:()=>new ae}),pf=new ge(fs?"initial navigation":"",{providedIn:"root",factory:()=>1});function kF(){let e=[];return e=fs?[{provide:Aa,multi:!0,useFactory:()=>{const t=Te(rn);return()=>t.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function sL(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],Br(1,e)}const VS=new ge(fs?"router preloader":"");function PF(e){return Br(0,[{provide:VS,useExisting:AF},{provide:LS,useExisting:e}])}const Ho=!1,jS=new ge(Ho?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),LF=[Ud,{provide:Io,useClass:Vh},rn,ko,{provide:Nr,useFactory:function NS(e){return e.routerState.root},deps:[rn]},uf,Ho?{provide:ff,useValue:!0}:[]];function FF(){return new oy("Router",rn)}let US=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[LF,Ho&&r?.enableTracing?kF().\u0275providers:[],{provide:hs,multi:!0,useValue:n},{provide:jS,useFactory:VF,deps:[[rn,new Fs,new Ns]]},{provide:ec,useValue:r||{}},r?.useHash?{provide:ni,useClass:Fx}:{provide:ni,useClass:Ry},{provide:hf,useFactory:()=>{const e=Te(eO),t=Te(rt),n=Te(ec),r=Te(Ql),i=Te(Io);return n.scrollOffset&&e.setOffset(n.scrollOffset),new FS(i,r,e,t,n)}},r?.preloadingStrategy?PF(r.preloadingStrategy).\u0275providers:[],{provide:oy,multi:!0,useFactory:FF},r?.initialNavigation?jF(r):[],[{provide:$S,useFactory:BS},{provide:sy,multi:!0,useExisting:$S}]]}}static forChild(n){return{ngModule:e,providers:[{provide:hs,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(pe(jS,8))},e.\u0275mod=Xt({type:e}),e.\u0275inj=Ht({imports:[tf]}),e})();function VF(e){if(Ho&&e)throw new ee(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function jF(e){return["disabled"===e.initialNavigation?Br(3,[{provide:el,multi:!0,useFactory:()=>{const t=Te(rn);return()=>{t.setUpLocationChangeListener()}}},{provide:pf,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Br(2,[{provide:pf,useValue:0},{provide:el,multi:!0,deps:[An],useFactory:t=>{const n=t.get(Px,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(rn),s=t.get(HS);(function RF(e,t){e.events.pipe(nn(n=>n instanceof li||n instanceof Ul||n instanceof qh||n instanceof $l),de(n=>n instanceof li||n instanceof $l?pn.COMPLETE:n instanceof Ul&&(0===n.code||1===n.code)?pn.REDIRECTING:pn.FAILED),nn(n=>n!==pn.REDIRECTING),si(1)).subscribe(()=>{t()})})(i,()=>{r(!0)}),t.get(Ql).afterPreactivation=()=>(r(!0),s.closed?ve(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const $S=new ge(Ho?"Router Initializer":"");function zS(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function WS(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function o(l){zS(s,r,i,o,a,"next",l)}function a(l){zS(s,r,i,o,a,"throw",l)}o(void 0)})}}class nc{}class gf{}class Sr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=n.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(n,s)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof Sr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new Sr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Sr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=t.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class $F{encodeKey(t){return GS(t)}encodeValue(t){return GS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const WF=/%(\d[a-f0-9])/gi,GF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function GS(e){return encodeURIComponent(e).replace(WF,(t,n)=>GF[n]??t)}function rc(e){return`${e}`}class Hr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new $F,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zF(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(rc):[rc(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Hr({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(rc(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(rc(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class qF{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function qS(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function KS(e){return typeof Blob<"u"&&e instanceof Blob}function XS(e){return typeof FormData<"u"&&e instanceof FormData}class Vo{constructor(t,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function KF(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Sr),this.context||(this.context=new qF),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Hr,this.urlWithParams=n}serializeBody(){return null===this.body?null:qS(this.body)||KS(this.body)||XS(this.body)||function XF(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||XS(this.body)?null:KS(this.body)?this.body.type||null:qS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,u=t.params||this.params;const m=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((E,O)=>E.set(O,t.setHeaders[O]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((E,O)=>E.set(O,t.setParams[O]),u)),new Vo(n,r,s,{params:u,headers:l,context:m,reportProgress:a,responseType:i,withCredentials:o})}}var _t=(()=>((_t=_t||{})[_t.Sent=0]="Sent",_t[_t.UploadProgress=1]="UploadProgress",_t[_t.ResponseHeader=2]="ResponseHeader",_t[_t.DownloadProgress=3]="DownloadProgress",_t[_t.Response=4]="Response",_t[_t.User=5]="User",_t))();class mf{constructor(t,n=200,r="OK"){this.headers=t.headers||new Sr,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class _f extends mf{constructor(t={}){super(t),this.type=_t.ResponseHeader}clone(t={}){return new _f({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ic extends mf{constructor(t={}){super(t),this.type=_t.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ic({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class YS extends mf{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function vf(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let yf=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Vo)s=n;else{let l,u;l=i.headers instanceof Sr?i.headers:new Sr(i.headers),i.params&&(u=i.params instanceof Hr?i.params:new Hr({fromObject:i.params})),s=new Vo(n,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=ve(s).pipe(kr(l=>this.handler.handle(l)));if(n instanceof Vo||"events"===i.observe)return o;const a=o.pipe(nn(l=>l instanceof ic));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(de(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(de(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(de(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(de(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Hr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,vf(i,r))}post(n,r,i={}){return this.request("POST",n,vf(i,r))}put(n,r,i={}){return this.request("PUT",n,vf(i,r))}}return e.\u0275fac=function(n){return new(n||e)(pe(nc))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();function JS(e,t){return t(e)}function YF(e,t){return(n,r)=>t.intercept(n,{handle:i=>e(i,r)})}const ZF=new ge("HTTP_INTERCEPTORS"),jo=new ge("HTTP_INTERCEPTOR_FNS");function QF(){let e=null;return(t,n)=>(null===e&&(e=(Te(ZF,{optional:!0})??[]).reduceRight(YF,JS)),e(t,n))}let ZS=(()=>{class e extends nc{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=Array.from(new Set(this.injector.get(jo)));this.chain=r.reduceRight((i,s)=>function JF(e,t,n){return(r,i)=>n.runInContext(()=>t(r,s=>e(s,i)))}(i,s,this.injector),JS)}return this.chain(n,r=>this.backend.handle(r))}}return e.\u0275fac=function(n){return new(n||e)(pe(gf),pe(Gn))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();const rN=/^\)\]\}',?\n/;let ew=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new B(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((k,F)=>i.setRequestHeader(k,F.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const k=n.detectContentTypeHeader();null!==k&&i.setRequestHeader("Content-Type",k)}if(n.responseType){const k=n.responseType.toLowerCase();i.responseType="json"!==k?k:"text"}const s=n.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const k=i.statusText||"OK",F=new Sr(i.getAllResponseHeaders()),W=function iN(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return o=new _f({headers:F,status:i.status,statusText:k,url:W}),o},l=()=>{let{headers:k,status:F,statusText:W,url:G}=a(),X=null;204!==F&&(X=typeof i.response>"u"?i.responseText:i.response),0===F&&(F=X?200:0);let ne=F>=200&&F<300;if("json"===n.responseType&&"string"==typeof X){const q=X;X=X.replace(rN,"");try{X=""!==X?JSON.parse(X):null}catch(fe){X=q,ne&&(ne=!1,X={error:fe,text:X})}}ne?(r.next(new ic({body:X,headers:k,status:F,statusText:W,url:G||void 0})),r.complete()):r.error(new YS({error:X,headers:k,status:F,statusText:W,url:G||void 0}))},u=k=>{const{url:F}=a(),W=new YS({error:k,status:i.status||0,statusText:i.statusText||"Unknown Error",url:F||void 0});r.error(W)};let m=!1;const E=k=>{m||(r.next(a()),m=!0);let F={type:_t.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(F.total=k.total),"text"===n.responseType&&i.responseText&&(F.partialText=i.responseText),r.next(F)},O=k=>{let F={type:_t.UploadProgress,loaded:k.loaded};k.lengthComputable&&(F.total=k.total),r.next(F)};return i.addEventListener("load",l),i.addEventListener("error",u),i.addEventListener("timeout",u),i.addEventListener("abort",u),n.reportProgress&&(i.addEventListener("progress",E),null!==s&&i.upload&&i.upload.addEventListener("progress",O)),i.send(s),r.next({type:_t.Sent}),()=>{i.removeEventListener("error",u),i.removeEventListener("abort",u),i.removeEventListener("load",l),i.removeEventListener("timeout",u),n.reportProgress&&(i.removeEventListener("progress",E),null!==s&&i.upload&&i.upload.removeEventListener("progress",O)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(n){return new(n||e)(pe(Zy))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();const Cf=new ge("XSRF_ENABLED"),tw=new ge("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),nw=new ge("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class rw{}let aN=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hy(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(pe(At),pe(nl),pe(tw))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();function lN(e,t){const n=e.url.toLowerCase();if(!Te(Cf)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=Te(rw).getToken(),i=Te(nw);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var ht=(()=>((ht=ht||{})[ht.Interceptors=0]="Interceptors",ht[ht.LegacyInterceptors=1]="LegacyInterceptors",ht[ht.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ht[ht.NoXsrfProtection=3]="NoXsrfProtection",ht[ht.JsonpSupport=4]="JsonpSupport",ht[ht.RequestsMadeViaParent=5]="RequestsMadeViaParent",ht))();function ps(e,t){return{\u0275kind:e,\u0275providers:t}}function cN(...e){const t=[yf,ew,ZS,{provide:nc,useExisting:ZS},{provide:gf,useExisting:ew},{provide:jo,useValue:lN,multi:!0},{provide:Cf,useValue:!0},{provide:rw,useClass:aN}];for(const n of e)t.push(...n.\u0275providers);return function XE(e){return{\u0275providers:e}}(t)}const iw=new ge("LEGACY_INTERCEPTOR_FN");let dN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xt({type:e}),e.\u0275inj=Ht({providers:[cN(ps(ht.LegacyInterceptors,[{provide:iw,useFactory:QF},{provide:jo,useExisting:iw,multi:!0}]))]}),e})(),hN=(()=>{class e{constructor(n){this.http=n}getIpAddress(){return this.http.get("https://api.ipify.org?format=json")}getGeoLocation(n){return this.http.get(`http://ip-api.com/json/${n}`)}getGeoLocationFromIP(){return this.getIpAddress().pipe(Nn(({ip:n})=>this.getGeoLocation(n)))}}return e.\u0275fac=function(n){return new(n||e)(pe(yf))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Sf="Blocked by CSP",wf="API key required",FN="3.8.3",bf="9319";var aw="https://fpnpmcdn.net/v<version>/<apiKey>/loader_v<loaderVersion>.js",Df="Failed to load the JS script of the agent";function lw(e){var t,r=e.apiKey,i=void 0===r?e.token:r,s=function ft(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["scriptUrlPattern","token","apiKey"]),o=null!==(t=function fN(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}(e,"scriptUrlPattern"))&&void 0!==t?t:aw;return Promise.resolve().then(function(){if(!i||"string"!=typeof i)throw new Error(wf);var l,u;return function NN(e,t){var n=[];return function(r,i){var E,k,o=(k=function zw(e,t,n){if(n||2===arguments.length)for(var s,r=0,i=t.length;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}([],r,!0),{current:function(){return k[0]},postpone:function(){var W=k.shift();void 0!==W&&k.push(W)},exclude:function(){k.shift()}}),a=(E=0,function(){return Math.random()*Math.min(3e3,100*Math.pow(2,E++))}),l=o.current();if(void 0===l)return Promise.reject(new TypeError("The list of script URL patterns is empty"));var F=function(W,G){return function(r){var i=new Date,s=function(){return n.push({url:r,startedAt:i,finishedAt:new Date})},o=t(r);return o.then(s,s),o}(W).catch(function(X){if(G+1>=5)throw X;!function(fe){if(!(fe instanceof Error))return!1;var Fe=fe.message;return Fe===Sf||Fe===bf}(X)?o.postpone():o.exclude();var ne,q=o.current();if(void 0===q)throw X;return(ne=a(),new Promise(function(fe){return setTimeout(fe,ne)})).then(function(){return F(q,G+1)})})};return F(l,0)}(e).then(function(r){return[r,{attempts:n}]})}((l=o,u=i,(Array.isArray(l)?l:[l]).map(function(m){return E=String(m),O=u,k=encodeURIComponent,E.replace(/<[^<>]+>/g,function(F){return"<version>"===F?"3":"<apiKey>"===F?k(O):"<loaderVersion>"===F?k(FN):F});var E,O,k})),HN).catch(jN)}).then(function(a){var u=a[1];return a[0].load(lt(lt({},s),{ldi:u}))})}function HN(e){return function(t,n,r,i){var s,o=document,a="securitypolicyviolation",l=function(m){var E=new URL(t,location.href),O=m.blockedURI;O!==E.href&&O!==E.protocol.slice(0,-1)&&O!==E.origin||(s=m,u())};o.addEventListener(a,l);var u=function(){return o.removeEventListener(a,l)};return Promise.resolve().then(function(){return function(t){return new Promise(function(n,r){var i=document.createElement("script"),s=function(){var a;return null===(a=i.parentNode)||void 0===a?void 0:a.removeChild(i)},o=document.head||document.getElementsByTagName("head")[0];i.onload=function(){s(),n()},i.onerror=function(){s(),r(new Error(Df))},i.async=!0,i.src=t,o.appendChild(i)})}(e)}).then(function(m){return u(),m},function(m){return new Promise(function(E){return setTimeout(E)}).then(function(){if(u(),s)return function(){throw new Error(Sf)}();throw m})})}(e).then(VN)}function VN(){var r,i,s,o,e=window,t="__fpjs_p_l_b",n=e[t];if(r=e,i=t,(o=null===(s=Object.getOwnPropertyDescriptor)||void 0===s?void 0:s.call(Object,r,i))?.configurable?delete r[i]:o&&!o.writable||(r[i]=void 0),"function"!=typeof n?.load)throw new Error(bf);return n}function jN(e){throw e instanceof Error&&e.message===bf?new Error(Df):e}const cw="@fpjs@client@",$N=()=>Date.now();class zN{constructor(t){var n;this.tag=t.tag||null,this.linkedId=t.linkedId||null,this.extendedResult=null!==(n=t.extendedResult)&&void 0!==n&&n}toKey(){return`${JSON.stringify(this.tag)}__${JSON.stringify(this.linkedId)}__${this.extendedResult}`}}function ms(e,t){return`${t}__${e}`}function dw(e,t){return e.replace(`${t}__`,"")}class WN{constructor(t=cw){this.prefix=t}set(t,n){window.localStorage.setItem(ms(t,this.prefix),JSON.stringify(n))}get(t){const n=window.localStorage.getItem(ms(t,this.prefix));if(n)try{return JSON.parse(n)}catch{return}}remove(t){window.localStorage.removeItem(ms(t,this.prefix))}allKeys(){return Object.keys(window.localStorage).filter(t=>t.startsWith(this.prefix)).map(t=>dw(t,this.prefix))}}class GN{constructor(t=cw){this.prefix=t}set(t,n){window.sessionStorage.setItem(ms(t,this.prefix),JSON.stringify(n))}get(t){const n=window.sessionStorage.getItem(ms(t,this.prefix));if(n)try{return JSON.parse(n)}catch{return}}remove(t){window.sessionStorage.removeItem(ms(t,this.prefix))}allKeys(){return Object.keys(window.sessionStorage).filter(t=>t.startsWith(this.prefix)).map(t=>dw(t,this.prefix))}}class qN{constructor(t,n=3600,r){this.cache=t,this.cacheTime=n,this.nowProvider=r||$N}get(t){return rr(this,void 0,void 0,function*(){const n=yield this.cache.get(t.toKey());if(!n)return;const r=yield this.nowProvider(),i=Math.floor(r/1e3);if(!(n.expiresAt<i))return n.body;yield this.cache.remove(t.toKey())})}set(t,n){return rr(this,void 0,void 0,function*(){const r=yield this.wrapCacheEntry(n);yield this.cache.set(t.toKey(),r)})}clearCache(){return rr(this,void 0,void 0,function*(){const t=yield this.cache.allKeys();yield Promise.all(t.map(n=>this.cache.remove(n)))})}wrapCacheEntry(t){return rr(this,void 0,void 0,function*(){const n=yield this.nowProvider(),r=Math.floor(n/1e3)+this.cacheTime;return{body:t,expiresAt:r}})}}class KN{constructor(){this.enclosedCache=function(){const t={};return{set(n,r){t[n]=r},get(n){const r=t[n];if(r)return r},remove(n){delete t[n]},allKeys:()=>Object.keys(t)}}()}}class XN{set(){}get(){}remove(){}allKeys(){return[]}}var Bn=(()=>{return(e=Bn||(Bn={})).Memory="memory",e.LocalStorage="localstorage",e.SessionStorage="sessionstorage",e.NoCache="nocache",Bn;var e})();const JN={[Bn.Memory]:()=>(new KN).enclosedCache,[Bn.LocalStorage]:e=>new WN(e),[Bn.SessionStorage]:e=>new GN(e),[Bn.NoCache]:()=>new XN},hw=e=>JN[e];class sc{constructor(t){var n;let r;if(this.options=t,this.inFlightRequests=new Map,this.agentPromise=null,this.agent={get:()=>{throw new Error("FPJSAgent hasn't loaded yet. Make sure to call the init() method first.")}},this.loadOptions=Object.assign(Object.assign({},t.loadOptions),{integrationInfo:[...t.loadOptions.integrationInfo||[],"fingerprintjs-pro-spa/1.0.2"]}),t.cache&&t.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the FpjsClient configuration; ignoring `cacheLocation` and using `cache`."),t.cache)r=t.cache;else{if(this.cacheLocation=t.cacheLocation||Bn.SessionStorage,!hw(this.cacheLocation))throw new Error(`Invalid cache location "${this.cacheLocation}"`);(e=>{switch(this.cacheLocation){case Bn.SessionStorage:try{window.sessionStorage.getItem("item")}catch{return!1}return!0;case Bn.LocalStorage:try{window.localStorage.getItem("item")}catch{return!1}return!0;default:return!0}})()||(this.cacheLocation=Bn.Memory),r=hw(this.cacheLocation)(t.cachePrefix)}if(t.cacheTimeInSeconds&&t.cacheTimeInSeconds>86400)throw new Error("Cache time cannot exceed 86400 seconds (24 hours)");const i=null!==(n=t.cacheTimeInSeconds)&&void 0!==n?n:3600;this.cacheManager=new qN(r,i)}init(){return rr(this,void 0,void 0,function*(){return this.agentPromise||(this.agentPromise=lw(this.loadOptions).then(t=>(this.agent=t,t)).catch(t=>{throw this.agentPromise=null,t})),this.agentPromise})}getVisitorData(t={},n=!1){return rr(this,void 0,void 0,function*(){const i=sc.makeCacheKey(t).toKey();if(!this.inFlightRequests.has(i)){const s=this._identify(t,n).finally(()=>{this.inFlightRequests.delete(i)});this.inFlightRequests.set(i,s)}return yield this.inFlightRequests.get(i)})}clearCache(){return rr(this,void 0,void 0,function*(){yield this.cacheManager.clearCache()})}static makeCacheKey(t){return new zN(t)}_identify(t,n=!1){return rr(this,void 0,void 0,function*(){const r=sc.makeCacheKey(t);if(!n){const s=yield this.cacheManager.get(r);if(s)return s}const i=yield this.agent.get(t);return yield this.cacheManager.set(r,i),i})}}const fw=new ge("ng-fingerprintjspro-settings-token",{factory:()=>({clientOptions:{loadOptions:{apiKey:""}}})});let pw=(()=>{class e{constructor(n){this.settings=n;const{loadOptions:r}=n.clientOptions,i={...n.clientOptions,loadOptions:{...r,integrationInfo:[...r.integrationInfo||[],"fingerprintjs-pro-angular/1.1.3"]}};this.fingerprintJsClient=new sc(i),this.fingerprintJsClientInitPromise=this.fingerprintJsClient.init()}getVisitorData(n,r){var i=this;return WS(function*(){return yield i.fingerprintJsClientInitPromise,i.fingerprintJsClient.getVisitorData(n,r)})()}clearCache(){return this.fingerprintJsClient.clearCache()}}return e.\u0275fac=function(n){return new(n||e)(pe(fw))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),e2=(()=>{class e{static forRoot(n){return{ngModule:e,providers:[{provide:fw,useValue:{clientOptions:n}},pw]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xt({type:e}),e.\u0275inj=Ht({}),e})();var Mf,t2=qt(793),n2=qt(162),ci=[],gw="ResizeObserver loop completed with undelivered notifications.",_s=(()=>{return(e=_s||(_s={})).BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box",_s;var e})(),ui=function(e){return Object.freeze(e)},o2=function e(t,n){this.inlineSize=t,this.blockSize=n,ui(this)},mw=function(){function e(t,n,r,i){return this.x=t,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ui(this)}return e.prototype.toJSON=function(){var t=this;return{x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Ef=function(e){return e instanceof SVGElement&&"getBBox"in e},_w=function(e){if(Ef(e)){var t=e.getBBox();return!t.width&&!t.height}return!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},vw=function(e){var t;if(e instanceof Element)return!0;var n=null===(t=e?.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},Uo=typeof window<"u"?window:{},oc=new WeakMap,yw=/auto|scroll/,l2=/^tb|vertical/,c2=/msie|trident/i.test(Uo.navigator&&Uo.navigator.userAgent),tr=function(e){return parseFloat(e||"0")},vs=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new o2((n?t:e)||0,(n?e:t)||0)},Cw=ui({devicePixelContentBoxSize:vs(),borderBoxSize:vs(),contentBoxSize:vs(),contentRect:new mw(0,0,0,0)}),Sw=function(e,t){if(void 0===t&&(t=!1),oc.has(e)&&!t)return oc.get(e);if(_w(e))return oc.set(e,Cw),Cw;var n=getComputedStyle(e),r=Ef(e)&&e.ownerSVGElement&&e.getBBox(),i=!c2&&"border-box"===n.boxSizing,s=l2.test(n.writingMode||""),o=!r&&yw.test(n.overflowY||""),a=!r&&yw.test(n.overflowX||""),l=r?0:tr(n.paddingTop),u=r?0:tr(n.paddingRight),m=r?0:tr(n.paddingBottom),E=r?0:tr(n.paddingLeft),O=r?0:tr(n.borderTopWidth),k=r?0:tr(n.borderRightWidth),F=r?0:tr(n.borderBottomWidth),G=E+u,X=l+m,ne=(r?0:tr(n.borderLeftWidth))+k,q=O+F,fe=a?e.offsetHeight-q-e.clientHeight:0,Fe=o?e.offsetWidth-ne-e.clientWidth:0,st=i?G+ne:0,Vw=i?X+q:0,hc=r?r.width:tr(n.width)-st-Fe,fc=r?r.height:tr(n.height)-Vw-fe,lB=hc+G+Fe+ne,cB=fc+X+fe+q,jw=ui({devicePixelContentBoxSize:vs(Math.round(hc*devicePixelRatio),Math.round(fc*devicePixelRatio),s),borderBoxSize:vs(lB,cB,s),contentBoxSize:vs(hc,fc,s),contentRect:new mw(E,l,hc,fc)});return oc.set(e,jw),jw},ww=function(e,t,n){var r=Sw(e,n),i=r.borderBoxSize,s=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case _s.DEVICE_PIXEL_CONTENT_BOX:return o;case _s.BORDER_BOX:return i;default:return s}},u2=function e(t){var n=Sw(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=ui([n.borderBoxSize]),this.contentBoxSize=ui([n.contentBoxSize]),this.devicePixelContentBoxSize=ui([n.devicePixelContentBoxSize])},bw=function(e){if(_w(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},d2=function(){var e=1/0,t=[];ci.forEach(function(o){if(0!==o.activeTargets.length){var a=[];o.activeTargets.forEach(function(u){var m=new u2(u.target),E=bw(u.target);a.push(m),u.lastReportedSize=ww(u.target,u.observedBox),E<e&&(e=E)}),t.push(function(){o.callback.call(o.observer,a,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++)(0,r[n])();return e},Dw=function(e){ci.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(bw(i.target)>e?n.activeTargets.push(i):n.skippedTargets.push(i))})})},Ew=[],ac=0,v2={attributes:!0,characterData:!0,childList:!0,subtree:!0},Mw=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Iw=function(e){return void 0===e&&(e=0),Date.now()+e},If=!1,Af=new(function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(void 0===t&&(t=250),!If){If=!0;var r=Iw(t);!function(e){!function(e){if(!Mf){var t=0,n=document.createTextNode("");new MutationObserver(function(){return Ew.splice(0).forEach(function(e){return e()})}).observe(n,{characterData:!0}),Mf=function(){n.textContent="".concat(t?t--:t++)}}Ew.push(e),Mf()}(function(){requestAnimationFrame(e)})}(function(){var i=!1;try{i=function(){var e=0;for(Dw(e);ci.some(function(e){return e.activeTargets.length>0});)e=d2(),Dw(e);return ci.some(function(e){return e.skippedTargets.length>0})&&function(){var e;"function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:gw}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=gw),window.dispatchEvent(e)}(),e>0}()}finally{if(If=!1,t=r-Iw(),!ac)return;i?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,v2)};document.body?n():Uo.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Mw.forEach(function(n){return Uo.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Mw.forEach(function(n){return Uo.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}()),Aw=function(e){!ac&&e>0&&Af.start(),!(ac+=e)&&Af.stop()},S2=function(){function e(t,n){this.target=t,this.observedBox=n||_s.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=ww(this.target,this.observedBox,!0);return function(e){return!Ef(e)&&!function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)&&"inline"===getComputedStyle(e).display}(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),w2=function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n},lc=new WeakMap,Rw=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},cc=function(){function e(){}return e.connect=function(t,n){var r=new w2(t,n);lc.set(t,r)},e.observe=function(t,n,r){var i=lc.get(t),s=0===i.observationTargets.length;Rw(i.observationTargets,n)<0&&(s&&ci.push(i),i.observationTargets.push(new S2(n,r&&r.box)),Aw(1),Af.schedule())},e.unobserve=function(t,n){var r=lc.get(t),i=Rw(r.observationTargets,n);i>=0&&(1===r.observationTargets.length&&ci.splice(ci.indexOf(r),1),r.observationTargets.splice(i,1),Aw(-1))},e.disconnect=function(t){var n=this,r=lc.get(t);r.observationTargets.slice().forEach(function(i){return n.unobserve(t,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),xw=function(){function e(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");cc.connect(this,t)}return e.prototype.observe=function(t,n){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!vw(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");cc.observe(this,t,n)},e.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!vw(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");cc.unobserve(this,t)},e.prototype.disconnect=function(){cc.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const b2=["addListener","removeListener"],D2=["addEventListener","removeEventListener"],E2=["on","off"];function Rf(e,t,n,r){if(_e(n)&&(r=n,n=void 0),r)return Rf(e,t,n).pipe(ph(r));const[i,s]=function A2(e){return _e(e.addEventListener)&&_e(e.removeEventListener)}(e)?D2.map(o=>a=>e[o](t,a,n)):function M2(e){return _e(e.addListener)&&_e(e.removeListener)}(e)?b2.map(Tw(e,t)):function I2(e){return _e(e.on)&&_e(e.off)}(e)?E2.map(Tw(e,t)):[];if(!i&&pc(e))return yt(o=>Rf(o,t,n))(sn(e));if(!i)throw new TypeError("Invalid event target");return new B(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function Tw(e,t){return n=>r=>e[n](t,r)}function $o(e){return z((t,n)=>{sn(e).subscribe(K(n,()=>n.complete(),C)),!n.closed&&t.subscribe(n)})}const di=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function Ow(e,t,n,r){const i=t.querySelectorAll(e);if(i.length){const s=n.querySelectorAll(e);for(let o=0;o<i.length;o++)r(i[o],s[o])}}let T2=0;function kw(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${T2++}`)}function Pw(e,t){const n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch{}}function Lw(e,t,n,r){const i={top:e.top,bottom:e.bottom,left:e.left,right:e.right};return t.top&&(i.top+=r),t.bottom&&(i.bottom+=r),t.left&&(i.left+=n),t.right&&(i.right+=n),i.height=i.bottom-i.top,i.width=i.right-i.left,i}const Fw=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function Nw(e,t){return e.left&&e.top?t.topLeft:e.right&&e.top?t.topRight:e.left&&e.bottom?t.bottomLeft:e.right&&e.bottom?t.bottomRight:e.left||e.right?t.leftOrRight:e.top||e.bottom?t.topOrBottom:""}function uc({edges:e,initialRectangle:t,newRectangle:n}){const r={};return Object.keys(e).forEach(i=>{r[i]=(n[i]||0)-(t[i]||0)}),r}const Bw="resize-active";let Hw=(()=>{class e{constructor(n,r,i,s){this.platformId=n,this.renderer=r,this.elm=i,this.zone=s,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=Fw,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new Ge,this.resizing=new Ge,this.resizeEnd=new Ge,this.mouseup=new ae,this.mousedown=new ae,this.mousemove=new ae,this.destroy$=new ae,this.pointerEventListeners=ys.getInstance(r,s)}ngOnInit(){const n=Ur(this.pointerEventListeners.pointerDown,this.mousedown),r=Ur(this.pointerEventListeners.pointerMove,this.mousemove).pipe(Rt(({event:u})=>{if(s)try{u.preventDefault()}catch{}}),Ss()),i=Ur(this.pointerEventListeners.pointerUp,this.mouseup);let s;const o=()=>{s&&s.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},a=()=>Object.assign(Object.assign({},Fw),this.resizeCursors);n.pipe(yt(u=>{function m(k){return{clientX:k.clientX-u.clientX,clientY:k.clientY-u.clientY}}const E=()=>{const k={x:1,y:1};return s&&(this.resizeSnapGrid.left&&s.edges.left?k.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&s.edges.right&&(k.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&s.edges.top?k.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&s.edges.bottom&&(k.y=+this.resizeSnapGrid.bottom)),k};function O(k,F){return{x:Math.ceil(k.clientX/F.x),y:Math.ceil(k.clientY/F.y)}}return Ur(r.pipe(si(1)).pipe(de(k=>[,k])),r.pipe(function R2(){return z((e,t)=>{let n,r=!1;e.subscribe(K(t,i=>{const s=n;n=i,r&&t.next([s,i]),r=!0}))})}())).pipe(de(([k,F])=>[k&&m(k),m(F)])).pipe(nn(([k,F])=>{if(!k)return!0;const W=E(),G=O(k,W),X=O(F,W);return G.x!==X.x||G.y!==X.y})).pipe(de(([,k])=>{const F=E();return{clientX:Math.round(k.clientX/F.x)*F.x,clientY:Math.round(k.clientY/F.y)*F.y}})).pipe($o(Ur(i,n)))})).pipe(nn(()=>!!s)).pipe(de(({clientX:u,clientY:m})=>Lw(s.startingRect,s.edges,u,m))).pipe(nn(u=>this.allowNegativeResizes||!!(u.height&&u.width&&u.height>0&&u.width>0))).pipe(nn(u=>!this.validateResize||this.validateResize({rectangle:u,edges:uc({edges:s.edges,initialRectangle:s.startingRect,newRectangle:u})})),$o(this.destroy$)).subscribe(u=>{s&&s.clonedNode&&(this.renderer.setStyle(s.clonedNode,"height",`${u.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${u.width}px`),this.renderer.setStyle(s.clonedNode,"top",`${u.top}px`),this.renderer.setStyle(s.clonedNode,"left",`${u.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:uc({edges:s.edges,initialRectangle:s.startingRect,newRectangle:u}),rectangle:u})}),s.currentRect=u}),n.pipe(de(({edges:u})=>u||{}),nn(u=>Object.keys(u).length>0),$o(this.destroy$)).subscribe(u=>{s&&o();const m=function O2(e,t){let n=0,r=0;const i=e.nativeElement.style,o=["transform","-ms-transform","-moz-transform","-o-transform"].map(a=>i[a]).find(a=>!!a);if(o&&o.includes("translate")&&(n=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),r=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:e.nativeElement.offsetHeight,width:e.nativeElement.offsetWidth,top:e.nativeElement.offsetTop-r,bottom:e.nativeElement.offsetHeight+e.nativeElement.offsetTop-r,left:e.nativeElement.offsetLeft-n,right:e.nativeElement.offsetWidth+e.nativeElement.offsetLeft-n};{const a=e.nativeElement.getBoundingClientRect();return{height:a.height,width:a.width,top:a.top-r,bottom:a.bottom-r,left:a.left-n,right:a.right-n,scrollTop:e.nativeElement.scrollTop,scrollLeft:e.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);s={edges:u,startingRect:m,currentRect:m};const E=a(),O=Nw(s.edges,E);this.renderer.setStyle(document.body,"cursor",O),this.setElementClass(this.elm,Bw,!0),this.enableGhostResize&&(s.clonedNode=function x2(e){const t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),r=e.nodeName.toLowerCase();return t.removeAttribute("id"),n.forEach(i=>{i.removeAttribute("id")}),"canvas"===r?Pw(e,t):("input"===r||"select"===r||"textarea"===r)&&kw(e,t),Ow("canvas",e,t,Pw),Ow("input, textarea, select",e,t,kw),t}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(s.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(s.clonedNode,"left",`${s.startingRect.left}px`),this.renderer.setStyle(s.clonedNode,"top",`${s.startingRect.top}px`),this.renderer.setStyle(s.clonedNode,"height",`${s.startingRect.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${s.startingRect.width}px`),this.renderer.setStyle(s.clonedNode,"cursor",Nw(s.edges,E)),this.renderer.addClass(s.clonedNode,"resize-ghost-element"),s.clonedNode.scrollTop=s.startingRect.scrollTop,s.clonedNode.scrollLeft=s.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:uc({edges:u,initialRectangle:m,newRectangle:m}),rectangle:Lw(m,{},0,0)})})}),i.pipe($o(this.destroy$)).subscribe(()=>{s&&(this.renderer.removeClass(this.elm.nativeElement,Bw),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:uc({edges:s.edges,initialRectangle:s.startingRect,newRectangle:s.currentRect}),rectangle:s.currentRect})}),o(),s=null)})}ngOnDestroy(){(function QT(e){return e===Yy})(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(n,r,i){i?this.renderer.addClass(n.nativeElement,r):this.renderer.removeClass(n.nativeElement,r)}}return e.\u0275fac=function(n){return new(n||e)(Y(nl),Y(yn),Y(Lt),Y(rt))},e.\u0275dir=we({type:e,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),e})();class ys{constructor(t,n){this.pointerDown=new B(r=>{let i,s;return n.runOutsideAngular(()=>{i=t.listen("document","mousedown",o=>{r.next({clientX:o.clientX,clientY:o.clientY,event:o})}),di&&(s=t.listen("document","touchstart",o=>{r.next({clientX:o.touches[0].clientX,clientY:o.touches[0].clientY,event:o})}))}),()=>{i(),di&&s()}}).pipe(Ss()),this.pointerMove=new B(r=>{let i,s;return n.runOutsideAngular(()=>{i=t.listen("document","mousemove",o=>{r.next({clientX:o.clientX,clientY:o.clientY,event:o})}),di&&(s=t.listen("document","touchmove",o=>{r.next({clientX:o.targetTouches[0].clientX,clientY:o.targetTouches[0].clientY,event:o})}))}),()=>{i(),di&&s()}}).pipe(Ss()),this.pointerUp=new B(r=>{let i,s,o;return n.runOutsideAngular(()=>{i=t.listen("document","mouseup",a=>{r.next({clientX:a.clientX,clientY:a.clientY,event:a})}),di&&(s=t.listen("document","touchend",a=>{r.next({clientX:a.changedTouches[0].clientX,clientY:a.changedTouches[0].clientY,event:a})}),o=t.listen("document","touchcancel",a=>{r.next({clientX:a.changedTouches[0].clientX,clientY:a.changedTouches[0].clientY,event:a})}))}),()=>{i(),di&&(s(),o())}}).pipe(Ss())}static getInstance(t,n){return ys.instance||(ys.instance=new ys(t,n)),ys.instance}}let L2=(()=>{class e{constructor(n,r,i,s){this.renderer=n,this.element=r,this.zone=i,this.resizableDirective=s,this.resizeEdges={},this.eventListeners={},this.destroy$=new ae}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(n=>{this.onMousedown(n,n.clientX,n.clientY)}),this.listenOnTheHost("mouseup").subscribe(n=>{this.onMouseup(n.clientX,n.clientY)}),di&&(this.listenOnTheHost("touchstart").subscribe(n=>{this.onMousedown(n,n.touches[0].clientX,n.touches[0].clientY)}),Ur(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(n=>{this.onMouseup(n.changedTouches[0].clientX,n.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(n,r,i){n.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",s=>{this.onMousemove(s,s.targetTouches[0].clientX,s.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",s=>{this.onMousemove(s,s.clientX,s.clientY)})),this.resizable.mousedown.next({clientX:r,clientY:i,edges:this.resizeEdges})}onMouseup(n,r){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:n,clientY:r,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(n,r,i){this.resizable.mousemove.next({clientX:r,clientY:i,edges:this.resizeEdges,event:n})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(n=>{this.eventListeners[n](),delete this.eventListeners[n]})}listenOnTheHost(n){return Rf(this.element.nativeElement,n).pipe($o(this.destroy$))}}return e.\u0275fac=function(n){return new(n||e)(Y(yn),Y(Lt),Y(rt),Y(Hw,8))},e.\u0275dir=we({type:e,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),e})(),F2=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xt({type:e}),e.\u0275inj=Ht({}),e})();const N2=["terminal"],B2=["resizeBox"],dc=function(e){return{"handle-active":e}},H2=function(){return{top:!1}},V2=function(){return{left:!1}},j2=function(){return{right:!0}},U2=function(){return{right:!1}},$2=function(){return{bottom:!0}},z2=function(){return{bottom:!1}};let W2=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=br({type:e,selectors:[["global-style"]],decls:0,vars:0,template:function(n,r){},styles:[".xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;z-index:10;color:transparent}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:.5}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{-webkit-text-decoration:double underline;text-decoration:double underline}.xterm-underline-3{-webkit-text-decoration:wavy underline;text-decoration:wavy underline}.xterm-underline-4{-webkit-text-decoration:dotted underline;text-decoration:dotted underline}.xterm-underline-5{-webkit-text-decoration:dashed underline;text-decoration:dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-decoration-overview-ruler{z-index:7;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}\n"],encapsulation:2}),e})(),G2=(()=>{class e{constructor(n,r,i){this.renderer=n,this.ref=r,this.hostRef=i,this.keyInputSubject=new ae,this.keyEventSubject=new ae,this.requestRenderFromAPI=new ae,this.allLogsSubject=new ae,this.resizableObservers=[],this.h=Math.max(document.documentElement.clientHeight,window.innerHeight||0),this.paddingSize=5,this.stylesForDiv={display:"block"},this.keyInputEmitter=new Ge,this.keyEventEmitter=new Ge,this._draggableInput=!1,this._stylesInput={},this.releaseNextOne=()=>{if(!this.interval){let s=this.waitingQueue.splice(0,1);1==s.length&&this.allLogsSubject.next(s[0])}},this.waitingQueue=[],this.requestRenderSubscription=this.requestRenderFromAPI.subscribe(s=>{let o=Object.assign({rowChanged:!1,columnChanged:!1},s);this.pushToWaitingQueue(o),this.getNextOrWait()})}set _dataSource(n){null!=this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.dataSource=n,this.dataSourceSubscription=this.dataSource.subscribe(r=>{this.write(r)})}get _dataSource(){return this.dataSource}set draggable(n){this._draggableInput=n}get draggable(){return this._draggableInput}setMinWidth(n){this._minWidthInput=n}setMinHeight(n){this._minHeightInput=n}setDraggable(n){this._draggableInput=n,this.lastDraggedPosition=void 0,this.ref.markForCheck()}setXtermOptions(n){this._xtermOptions=n,this.requestRenderFromAPI.next({})}setRows(n){this._rowsInput!=n&&(this._rowsInput=n,this.requestRenderFromAPI.next({rowChanged:!0}))}setCols(n){this._colsInput!=n&&(this._colsInput=n,this.requestRenderFromAPI.next({columnChanged:!0}))}setStyle(n){var r;JSON.stringify(null!==(r=this._stylesInput)&&void 0!==r?r:{})!=JSON.stringify(n??{})&&(this._stylesInput=n,this.requestRenderFromAPI.next({}))}getNextOrWait(){this.hostRef.nativeElement.isConnected?this.releaseNextOne():this.stopAndPolling()}pushToWaitingQueue(n){this.waitingQueue.push(n),this.releaseNextOne()}stopAndPolling(){(()=>{if(this.interval)return;const r=setInterval(()=>{this.hostRef.nativeElement.isConnected&&(clearInterval(r),this.interval=void 0,this.releaseNextOne())},500);this.interval=r})()}observableSetup(){this.term.onData(n=>{this.keyInputSubject.next(n)}),this.term.onKey(n=>{this.keyEventSubject.next(n)}),this.keyInputSubjectSubscription=this.keyInputSubject.subscribe(n=>{this.keyInputEmitter.emit(n)}),this.keyEventSubjectSubscription=this.keyEventSubject.subscribe(n=>{this.keyEventEmitter.emit(n)}),this.resizableObservers=[this.observeTerminalDimension(),this.observeHostDimension()],this.allLogsSubjectSubscription=this.allLogsSubject.subscribe(n=>{this.coordinateOuterAndTerminal(n),this.getNextOrWait()}),this.getNextOrWait()}setOuterDimensions(n,r,i,s){this.requestRenderFromAPI.next({rowChanged:!1,columnChanged:!1,dragged:{draggedWidth:`${i}px`,draggedHeight:`${s}px`}})}applyStyleToDiv(){Object.keys(this.stylesForDiv).map(n=>({key:n,value:this.stylesForDiv[n]})).forEach(({key:n,value:r})=>{r?this.renderer.setStyle(this.resizeBox.nativeElement,n,r):this.renderer.removeStyle(this.resizeBox.nativeElement,n)}),this.stylesForDiv=this.stylesForDiv}ngOnInit(){}ngAfterViewInit(){this.fitAddon=new n2.FitAddon,this.term=new t2.Terminal({allowProposedApi:!0}),this.terminalOuter.nativeElement.isConnected?(this.term.open(this.terminalOuter.nativeElement),this.term.loadAddon(this.fitAddon),this.observableSetup(),this.requestRenderFromAPI.next({})):this.lazyContainerCheckHandle=setInterval(()=>{if(this.terminalOuter.nativeElement.isConnected)try{console.debug("The container's been connected."),this.term.open(this.terminalOuter.nativeElement),this.term.loadAddon(this.fitAddon),this.observableSetup(),this.requestRenderFromAPI.next({})}finally{this.lazyContainerCheckHandle&&clearInterval(this.lazyContainerCheckHandle)}},500)}ngOnChanges(n){var r,i,s,o;console.group("onChanges"),console.debug("prop: ",n),console.groupEnd(),n?._rowsInput&&(null===(r=n?._rowsInput)||void 0===r?void 0:r.previousValue)!=(null===(i=n?._rowsInput)||void 0===i?void 0:i.currentValue)&&this.requestRenderFromAPI.next({rowChanged:!0}),n?._colsInput&&(null===(s=n?._colsInput)||void 0===s?void 0:s.previousValue)!=(null===(o=n?._colsInput)||void 0===o?void 0:o.currentValue)&&this.requestRenderFromAPI.next({columnChanged:!0})}coordinateOuterAndTerminal(n){var r,i,s,o,a,l;console.debug(`changeList: ${JSON.stringify(n)}`),this.term.options=Object.assign({},this._xtermOptions),!(null===(i=null===(r=this._xtermOptions)||void 0===r?void 0:r.theme)||void 0===i)&&i.background&&(this.resizeHandleStyleRule||(this.resizeHandleStyleRule=this.findCssStyleRule(".resize-handle[")),this.resizeHandleStyleRule&&(this.resizeHandleStyleRule.style.backgroundColor=this._xtermOptions.theme.background)),!(null===(o=null===(s=this._xtermOptions)||void 0===s?void 0:s.theme)||void 0===o)&&o.border&&(this.resizeHandleActiveStyleRule||(this.resizeHandleActiveStyleRule=this.findCssStyleRule(".handle-active")),this.resizeHandleActiveStyleRule&&(this.resizeHandleActiveStyleRule.style.backgroundColor=this._xtermOptions.theme.border)),this.stylesForDiv=Object.assign(Object.assign(Object.assign({},this.stylesForDiv),this._stylesInput),{width:this.stylesForDiv.width,height:this.stylesForDiv.height}),n.dragged?(this.stylesForDiv.width=n.dragged.draggedWidth,this.stylesForDiv.height=n.dragged.draggedHeight,this.lastDraggedPosition={width:n.dragged.draggedWidth,height:n.dragged.draggedHeight}):!this._rowsInput&&!this._colsInput&&!(this.draggable&&this.lastDraggedPosition)&&(this.stylesForDiv.width="100%",this.stylesForDiv.height="100%"),this.applyStyleToDiv(),n.rowChanged||n.columnChanged?this.term.resize(null!==(a=this._colsInput)&&void 0!==a?a:this.term.cols,null!==(l=this._rowsInput)&&void 0!==l?l:this.term.rows):(this.term.element.style.paddingLeft=`${this.paddingSize}px`,this.term.element.style.paddingRight=`${this.paddingSize}px`,this.fitAddon.fit(),this.term.element.style.padding="0px");let u=this.term.element.getElementsByClassName("xterm-screen")[0],m=this.term.element.getElementsByClassName("xterm-viewport")[0];const E=u.clientWidth,O=u.clientHeight,F=this.underlying._core.viewport.scrollBarWidth;this.renderer.setStyle(m,"width",`${E+F}px`),console.debug(E+F+2*this.paddingSize,E,F,2*this.paddingSize),console.debug(O+2*this.paddingSize,O),this.stylesForDiv=Object.assign(Object.assign({},this.stylesForDiv),{width:`${E+F+2*this.paddingSize}px`,height:`${O+2*this.paddingSize}px`}),this.applyStyleToDiv(),this.ref.markForCheck()}observeTerminalDimension(){let n=this.terminalOuter.nativeElement.querySelector(".xterm-viewport");if(n){const r=new xw(i=>{const s=parseFloat(getComputedStyle(this.terminalOuter.nativeElement).width),o=parseFloat(getComputedStyle(this.terminalOuter.nativeElement).height);let a,l;for(let u of i)u.contentBoxSize?u.target instanceof HTMLElement&&(a=parseFloat(getComputedStyle(u.target).width),l=parseFloat(getComputedStyle(u.target).height)):(a=parseFloat(getComputedStyle(u.target).width),l=parseFloat(getComputedStyle(u.target).height));(a>s||l>o)&&this.requestRenderFromAPI.next({whenTerminalDimensionIsOverOuterDiv:{width:`${a}px`,height:`${l}px`}})});return r.observe(n),r}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}observeHostDimension(){let n=this.hostRef.nativeElement;if(n){const r=new xw(i=>{let s,o;for(let a of i)a.contentBoxSize?a.target instanceof HTMLElement&&(s=parseFloat(getComputedStyle(a.target).width),o=parseFloat(getComputedStyle(a.target).height)):(s=parseFloat(getComputedStyle(a.target).width),o=parseFloat(getComputedStyle(a.target).height));this.requestRenderFromAPI.next({hostResized:{width:`${s}px`,height:`${o}px`}})});return r.observe(n),r}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}ngOnDestroy(){this.keyInputSubjectSubscription&&this.keyInputSubjectSubscription.unsubscribe(),this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.keyEventSubjectSubscription&&this.keyEventSubjectSubscription.unsubscribe(),this.requestRenderSubscription&&this.requestRenderSubscription.unsubscribe(),this.allLogsSubjectSubscription&&this.allLogsSubjectSubscription.unsubscribe(),this.interval&&clearInterval(this.interval),this.lazyContainerCheckHandle&&clearInterval(this.lazyContainerCheckHandle),this.term&&this.term.dispose(),this.resizableObservers.forEach(n=>n.disconnect())}write(n){this.term.write(n)}get keyInput(){return this.keyInputSubject}onData(){return this.keyInputSubject}get keyEventInput(){return this.keyEventSubject}onKey(){return this.keyEventSubject}get underlying(){return this.term}get isDraggableOnEdgeActivated(){return this._draggableInput}onResizeEnd(n,r,i,s){this.setOuterDimensions(n,r,i,s)}validatorFactory(){return r=>{var i,s;return!!this._draggableInput&&!(r.rectangle.width<(null!==(i=this._minWidthInput)&&void 0!==i?i:100)||r.rectangle.height<(null!==(s=this._minHeightInput)&&void 0!==s?s:50))}}findCssStyleRule(n){for(let r=0;r<document.styleSheets.length;r++){let i=document.styleSheets.item(r);for(let s=0;s<i.cssRules.length;s++){let o=i.cssRules.item(s);if("selectorText"in o&&o.selectorText.includes(n))return o}}}}return e.\u0275fac=function(n){return new(n||e)(Y(yn),Y(fo),Y(Lt))},e.\u0275cmp=br({type:e,selectors:[["ng-terminal"]],viewQuery:function(n,r){if(1&n&&(co(N2,7),co(B2,7)),2&n){let i;Zi(i=Qi())&&(r.terminalOuter=i.first),Zi(i=Qi())&&(r.resizeBox=i.first)}},inputs:{_dataSource:["dataSource","_dataSource"],_rowsInput:["rows","_rowsInput"],_colsInput:["cols","_colsInput"],_minWidthInput:["minWidth","_minWidthInput"],_minHeightInput:["minHeight","_minHeightInput"],draggable:"draggable",_xtermOptions:["xtermOptions","_xtermOptions"]},outputs:{keyInputEmitter:"keyInput",keyEventEmitter:"keyEvent"},features:[cn],decls:9,vars:24,consts:[["mwlResizable","",1,"resize-box",3,"validateResize","enableGhostResize","resizeEnd"],["resizeBox",""],[1,"terminal-outer"],["terminal",""],["mwlResizeHandle","",1,"resize-handle","resize-handle-top",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-left",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-right",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-bottom",3,"ngClass","resizeEdges"]],template:function(n,r){1&n&&($t(0,"global-style"),Pe(1,"div",0,1),Nt("resizeEnd",function(s){return r.onResizeEnd(s.rectangle.left,s.rectangle.top,s.rectangle.width,s.rectangle.height)}),$t(3,"div",2,3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),Be()),2&n&&($e(1),Dt("validateResize",r.validatorFactory())("enableGhostResize",!0),$e(4),Dt("ngClass",oo(10,dc,r.isDraggableOnEdgeActivated))("resizeEdges",ei(12,H2)),$e(1),Dt("ngClass",oo(13,dc,r.isDraggableOnEdgeActivated))("resizeEdges",ei(15,V2)),$e(1),Dt("ngClass",oo(16,dc,r.isDraggableOnEdgeActivated))("resizeEdges",r.isDraggableOnEdgeActivated?ei(18,j2):ei(19,U2)),$e(1),Dt("ngClass",oo(20,dc,r.isDraggableOnEdgeActivated))("resizeEdges",r.isDraggableOnEdgeActivated?ei(22,$2):ei(23,z2)))},dependencies:[W2,Hw,L2,jy],styles:[".terminal-outer[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;padding:5px}[_nghost-%COMP%]{display:block;height:100%;width:100%}.resize-box[_ngcontent-%COMP%]{height:100%;width:100%;position:relative}div[_ngcontent-%COMP%] > .handle-active[_ngcontent-%COMP%]{z-index:100;background-color:#85858a!important}.resize-handle[_ngcontent-%COMP%]{background-color:#000}.resize-handle-top.handle-active[_ngcontent-%COMP%], .resize-handle-bottom.handle-active[_ngcontent-%COMP%]{cursor:row-resize}.resize-handle-left.handle-active[_ngcontent-%COMP%], .resize-handle-right.handle-active[_ngcontent-%COMP%]{cursor:col-resize}.resize-handle-top[_ngcontent-%COMP%], .resize-handle-bottom[_ngcontent-%COMP%]{position:absolute;height:5px;width:100%}.resize-handle-top[_ngcontent-%COMP%]{top:0px}.resize-handle-bottom[_ngcontent-%COMP%]{bottom:0px}.resize-handle-left[_ngcontent-%COMP%], .resize-handle-right[_ngcontent-%COMP%]{position:absolute;height:calc(100%);width:5px}.resize-handle-left[_ngcontent-%COMP%]{left:0px;top:0px}.resize-handle-right[_ngcontent-%COMP%]{right:0px;top:0px}"],changeDetection:0}),e})(),q2=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xt({type:e}),e.\u0275inj=Ht({imports:[[F2,Xy]]}),e})();const K2=["audioPlayer"],X2=["term"];function Y2(e,t){if(1&e&&(Pe(0,"div",21),$t(1,"img",22),Pe(2,"h3"),Je(3),Be(),Pe(4,"p"),Je(5),Be()()),2&e){const n=t.$implicit;$e(1),Qs("alt",n.name),Dt("src","assets/images/"+n.logo,Ti),$e(2),Tn(n.name),$e(2),Tn(n.description)}}function J2(e,t){if(1&e&&$t(0,"img",28),2&e){const n=Zs().$implicit;Ua("alt","",n.title," logo"),Dt("src","assets/images/"+n.image,Ti)}}function Z2(e,t){if(1&e&&(Pe(0,"span"),Je(1),Be()),2&e){const n=t.$implicit;$e(1),Tn(n)}}function Q2(e,t){if(1&e&&(Pe(0,"div",23)(1,"a",24),Er(2,J2,1,2,"img",25),Pe(3,"h3"),Je(4),Be()(),Pe(5,"div",26),Er(6,Z2,2,1,"span",27),Be()()),2&e){const n=t.$implicit;$e(1),Qs("href",n.link,Ti),$e(1),Dt("ngIf",n.image),$e(2),Tn(n.title),$e(2),Dt("ngForOf",n.keywords)}}function eB(e,t){if(1&e){const n=ja();Pe(0,"div",29),Nt("click",function(){const s=oa(n).$implicit;return aa(Zs().navigate(s.link))}),$t(1,"img",30),Pe(2,"h3"),Je(3),Be(),Pe(4,"p"),Je(5),Be()()}if(2&e){const n=t.$implicit;$e(1),Qs("alt",n.title),Dt("src","assets/images/"+n.image,Ti),$e(2),Tn(n.title),$e(2),Tn(n.description)}}function nB(e,t){if(1&e){const n=ja();Pe(0,"div",2)(1,"h2"),Je(2),Be(),Pe(3,"div",3)(4,"p"),Je(5),Be(),Pe(6,"a",4),Nt("click",function(){const s=oa(n).$implicit;return aa(Zs().navigateToPost(s.id,"programming"))}),Je(7,"Read more"),Be()()()}if(2&e){const n=t.$implicit;$e(2),Tn(n.title),$e(3),Ki("",n.content.substring(0,100),"...")}}function rB(e,t){if(1&e){const n=ja();Pe(0,"div",2)(1,"h2"),Je(2),Be(),Pe(3,"div",3)(4,"p"),Je(5),Be(),Pe(6,"a",4),Nt("click",function(){const s=oa(n).$implicit;return aa(Zs().navigateToPost(s.id,"programming"))}),Je(7,"Read more"),Be()()()}if(2&e){const n=t.$implicit;$e(2),Tn(n.title),$e(3),Ki("",n.content.substring(0,100),"...")}}const iB=[{path:"",component:(()=>{class e{constructor(n,r,i){this.route=n,this.locationService=r,this.fingerprintjsProAngularService=i,this.isUserInteraction=!1,this.skills=[{name:"HTML & CSS",description:"Semantic HTML markup and modern CSS techniques for responsive design.",logo:"html.png"},{name:"JavaScript",description:"ES6 and modern JavaScript features, including promises, async/await, etc.",logo:"javascript.png"},{name:"TypeScript",description:"Building robust, scalable applications using TypeScript language.",logo:"typescript.png"},{name:"React",description:"Creating fast, interactive UIs using the React library and its ecosystem.",logo:"react.svg"},{name:"Angular",description:"Building dynamic, scalable web applications using Angular framework.",logo:"angular.png"},{name:"Node.js",description:"Building server-side applications and APIs using Node.js runtime environment.",logo:"node.png"},{name:"MySQL",description:"Designing and managing databases using MySQL, including complex queries and optimization.",logo:"mysql.png"},{name:"MongoDB",description:"Working with NoSQL databases using MongoDB, including data modeling and querying.",logo:"mongodb.png"},{name:"Git",description:"Managing source code using Git version control system.",logo:"git.png"},{name:"Ubuntu",description:"Experienced with the Ubuntu operating system, including command line tools, system administration, and scripting.",logo:"ubuntu.png"},{name:"AWS",description:"Proficient in deploying and managing applications on AWS cloud platform.",logo:"aws.webp"}],this.packages=[{title:"Express JS",description:"Most award .",image:"express.png",keywords:["npm","module","tool"],link:"https://expressjs.com/"},{title:"JSON Web Token",description:"Another description of your package.",image:"jwt.webp",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/jsonwebtoken"},{title:"Sequelize",description:"Another description of your package.",image:"sequelize.svg",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/sequelize"},{title:"Socket IO",description:"Another description of your package.",image:"socketio.webp",keywords:["npm","module","tool"],link:"https://socket.io/"},{title:"Validator",description:"Another description of your package.",image:"validator.png",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/validator"},{title:"Joi",description:"Another description of your package.",image:"joi.png",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/validator"},{title:"Date-fns",description:"Another description of your package.",image:"date-fns.png",keywords:["npm","module","tool"],link:"https://date-fns.org/"},{title:"Momentjs",description:"Another description of your package.",image:"momentjs.png",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/moment"},{title:"bcrypt",description:"Another description of your package.",image:"bycrypt.png",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/bcrypt"},{title:"uuid",description:"Another description of your package.",image:"uuid.png",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/uuid"},{title:"Winston",description:"Another description of your package.",image:"",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/winston"},{title:"Eslint",description:"Another description of your package.",image:"",keywords:["npm","module","tool"],link:"https://eslint.org/"},{title:"dotenv",description:"Another description of your package.",image:"",keywords:["npm","module","tool"],link:"https://eslint.org/"},{title:"chalk",description:"Another description of your package.",image:"",keywords:["npm","module","tool"],link:"https://eslint.org/"},{title:"@aws-sdk",description:"Another description of your package.",image:"",keywords:["npm","module","tool"],link:"https://eslint.org/"},{title:"axios",description:"Another description of your package.",image:"",keywords:["npm","module","tool"],link:"https://eslint.org/"},{title:"mongoose",description:"Another description of your package.",image:"",keywords:["npm","module","tool"],link:"https://eslint.org/"},{title:"Nodemon",description:"A description of your package.",image:"nodemon.png",keywords:["npm","package","utility"],link:"https://www.npmjs.com/package/package1"},{title:"Concurrently",description:"Another description of your package.",image:"concurrently.gif",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/concurrently"},{title:"Husky",description:"To write git hooks, such as precomit to check message and mismatch of environment files.",image:"husky.png",keywords:["npm","module","tool"],link:"https://typicode.github.io/husky/"}],this.projects=[{title:"GVTkart",description:"An eCommerce application developed in Flutter for streamlined online shopping experiences.",image:"gvtkart.webp",link:"https://play.google.com/store/apps/details?id=com.gvtkart.gvt_kart"},{title:"Subween ",description:"A static website built as a demonstration of basic web development skills.",image:"subween.png",link:"https://subween.com/"},{title:"Approx Object npm Package",description:'Created the "Approx Object" npm package, a versatile JavaScript utility designed to convert arrays into objects and identify unique values in an array using object logic.',image:"npm.png",link:"https://www.npmjs.com/package/aproxobject"},{title:" Integrated POS and Food Ordering System",description:"Developed a comprehensive Angular-based POS system and a customer-centric Flutter food ordering app to streamline restaurant operations and elevate user experience.",image:"food_booking.jpeg",link:"https://github.com/manojmula/vindoos_employee_front"},{title:"AI Trading Bot Using Brain.js",description:" Developed an intelligent trading bot leveraging Brain.js, a powerful JavaScript library for neural network training. The bot was designed to autonomously analyze and learn from a diverse dataset that included news data and historical stock market information.",image:"stock.png",link:"https://github.com/manojmula/automateTrading"},{title:"News List App",description:"An Angular front-end application, powered by Node.js, integrated with Google News for real-time updates. Allows region-based filtering and timeline view of news.",image:"newspaper.png",link:"https://github.com/manojmula/automateTrading"}],this.prompt="\n\n\n\n\n  \n\n\n\n\n\nHello, I'm Manoj Mulakala, Journeying through the world of web development, I've discovered a powerful alliance in Express and MySQL, tackling challenges and creating impactful solutions. Angular isn't just another framework to me; it's a reliable companion that enables me to craft interactive and user-friendly web experiences. As a MEAN stack aficionado, I'm here to turn ideas into digital realities."}ngOnInit(){this.countUserVisits(),this.getLocation(),this.locationService.getGeoLocationFromIP().subscribe(n=>{console.log(n),this.userLocation=n},n=>{console.log(n)})}getLocation(){var n=this;return WS(function*(){const r=yield n.fingerprintjsProAngularService.getVisitorData();n.visitorId=r.visitorId,n.extendedResult=r,console.log(r)})()}countUserVisits(){localStorage?localStorage.getItem("visitCount")?(this.visitCount=parseInt(localStorage.getItem("visitCount")),this.visitCount+=1,localStorage.setItem("visitCount",this.visitCount.toString())):(localStorage.setItem("visitCount","1"),this.visitCount=1):console.log("Sorry, your browser does not support Web Storage...")}scrollToPortfolio(){}playSound(){this.isUserInteraction=!0,this.audioPlayerRef.nativeElement.play()}ngAfterViewInit(){let n=0;setInterval(()=>{n<this.prompt.length&&(this.child.write(this.prompt[n]),n++,this.playSound())},20),this.child.onData().subscribe(r=>{console.log(r)})}navigate(n){window.open(n,"_blank")}}return e.\u0275fac=function(n){return new(n||e)(Y(Nr),Y(hN),Y(pw))},e.\u0275cmp=br({type:e,selectors:[["app-home"]],viewQuery:function(n,r){if(1&n&&(co(K2,5),co(X2,5)),2&n){let i;Zi(i=Qi())&&(r.audioPlayerRef=i.first),Zi(i=Qi())&&(r.child=i.first)}},decls:43,vars:7,consts:[["id","terminal"],["audioPlayer",""],["src","/assets/sound/mech-count.mp3","type","audio/mpeg"],["term",""],[1,"button-group"],["routerLink","/blogs-list",1,"terminal-button"],[1,"visitor-info"],[1,"visitor-details"],[1,"detail"],["src","assets/images/working.png","alt","",1,"icon-img"],["src","assets/images/visits.png","alt","",1,"icon-img"],["src","assets/images/location.png","alt","",1,"icon-img"],[1,"skills"],[1,"skills-content"],["class","skill-card",4,"ngFor","ngForOf"],[1,"npm"],[1,"packages"],["class","package-card",4,"ngFor","ngForOf"],[1,"portfolio"],[1,"projects"],["class","project-card",3,"click",4,"ngFor","ngForOf"],[1,"skill-card"],[1,"skill-logo",3,"src","alt"],[1,"package-card"],["target","_blank",3,"href"],["class","package-logo",3,"src","alt",4,"ngIf"],[1,"keywords"],[4,"ngFor","ngForOf"],[1,"package-logo",3,"src","alt"],[1,"project-card",3,"click"],[1,"project-image",3,"src","alt"]],template:function(n,r){1&n&&(Pe(0,"div",0)(1,"audio",null,1),$t(3,"source",2),Be(),$t(4,"ng-terminal",null,3),Pe(6,"div",4)(7,"button",5),Je(8,"Blogs"),Be()()(),Pe(9,"section",6)(10,"div",7)(11,"h3"),Je(12,"Welcome, Visitor! Here are Your Details"),Be(),Pe(13,"p",8),$t(14,"img",9),Je(15," User Name : "),Pe(16,"span"),Je(17),Be()(),Pe(18,"p",8),$t(19,"img",10),Je(20," Visit Count : "),Pe(21,"span"),Je(22),Be()(),Pe(23,"p",8),$t(24,"img",11),Je(25," Location : "),Pe(26,"span"),Je(27),Be()()()(),Pe(28,"section",12)(29,"h2"),Je(30,"Skills I Acquired"),Be(),Pe(31,"div",13),Er(32,Y2,6,4,"div",14),Be()(),Pe(33,"section",15)(34,"h2"),Je(35,"NPM Packages I've Used"),Be(),Pe(36,"div",16),Er(37,Q2,7,4,"div",17),Be()(),Pe(38,"section",18)(39,"h2"),Je(40,"Portfolio I have built"),Be(),Pe(41,"div",19),Er(42,eB,6,4,"div",20),Be()()),2&n&&($e(17),Ki("",r.visitorId," (Stays Unique across your visit)"),$e(5),Tn(r.visitCount),$e(5),id("",null==r.userLocation?null:r.userLocation.city,", ",null==r.userLocation?null:r.userLocation.country,""),$e(5),Dt("ngForOf",r.skills),$e(5),Dt("ngForOf",r.packages),$e(5),Dt("ngForOf",r.projects))},dependencies:[Qd,Wy,tc,G2],styles:['.hero[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#333;color:#fff;text-align:center}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:.5em}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5em;margin-bottom:1em}.cta-button[_ngcontent-%COMP%]{font-size:1.2em;padding:10px 20px;margin:1rem;border:none;color:#fff;background-color:#007bff;cursor:pointer;transition:background-color .3s ease,transform .3s ease;position:relative;overflow:hidden}.cta-button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05)}.cta-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff1a;z-index:1;transition:transform .3s ease;transform:scaleX(0);transform-origin:left}.cta-button[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.cta-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.about-me[_ngcontent-%COMP%]{padding:5rem;color:#333;background-color:#fff}.about-me[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px;text-align:center}.about-content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;flex-wrap:wrap}.profile-pic[_ngcontent-%COMP%]{border-radius:50%;width:200px;height:200px;object-fit:cover;margin:20px}.about-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;line-height:1.6}@media (max-width: 768px){.about-content[_ngcontent-%COMP%]{flex-direction:column}}.skills[_ngcontent-%COMP%]{padding:50px 0;background-color:#f9f9f9;color:#333}.skills[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px;text-align:center}.skills-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}.skill-card[_ngcontent-%COMP%]{flex-basis:200px;margin:20px;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;text-align:center}.skill-logo[_ngcontent-%COMP%]{height:50px;margin-bottom:10px}@media (max-width: 768px){.skills-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}.portfolio[_ngcontent-%COMP%]{padding:50px 0;background-color:#f9f9f9;color:#333}.portfolio[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px;text-align:center}.projects[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}.project-card[_ngcontent-%COMP%]{flex-basis:300px;margin:20px;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;text-align:center}.project-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}.project-image[_ngcontent-%COMP%]{border-radius:5px;width:100%;height:auto;object-fit:cover;margin-bottom:10px}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}.npm[_ngcontent-%COMP%]{padding:50px 0;background-color:#f9f9f9;color:#333}.npm[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px;text-align:center}.packages[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}.package-card[_ngcontent-%COMP%]{flex-basis:300px;margin:20px;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;text-align:center}.package-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}.keywords[_ngcontent-%COMP%]{margin-top:10px}.keywords[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin-right:5px;padding:5px 10px;border-radius:20px;background-color:#333;color:#fff;font-size:.8em}.package-logo[_ngcontent-%COMP%]{display:block;margin:0 auto 10px;max-width:40%;height:auto}#terminal[_ngcontent-%COMP%]{border:2px solid #0f0;border-radius:10px;padding:20px;background-color:#333;box-shadow:0 0 10px #00ff004d}.terminal-button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;background-color:#f2e8dc;border:2px outset #e6d7c2;color:#383838;font-size:14px;font-weight:700;text-transform:uppercase;border-radius:4px;cursor:pointer;margin-right:10px;text-decoration:none}.terminal-button[_ngcontent-%COMP%]:hover{background-color:#e6d7c2}.terminal-button[_ngcontent-%COMP%]:active{border:2px inset #e6d7c2;background-color:#c1b6a2}.skills[_ngcontent-%COMP%]{text-align:center;padding:20px}.skills[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px}.skills-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px}.skill-card[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:8px;padding:20px;width:200px;box-shadow:0 4px 8px #0003;transition:.3s}.skill-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003;transform:translateY(-10px)}.skill-logo[_ngcontent-%COMP%]{width:50px;height:auto}.skill-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:10px 0}.skill-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;color:#333}.npm[_ngcontent-%COMP%]{text-align:center;padding:20px}.npm[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px}.packages[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;overflow-y:auto;max-height:500px}.package-card[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:8px;padding:20px;width:200px;box-shadow:0 4px 8px #0003;transition:.3s}.package-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003;transform:translateY(-10px)}.package-logo[_ngcontent-%COMP%]{width:50px;height:auto}.package-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:10px 0}.package-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;color:#333}.keywords[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;margin-top:10px}.keywords[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:2px 5px;border-radius:4px;font-size:.8em}.portfolio[_ngcontent-%COMP%]{text-align:center;padding:20px}.portfolio[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px}.projects[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;cursor:pointer}.project-card[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:8px;padding:20px;width:300px;box-shadow:0 4px 8px #0003;transition:.5s all ease-in-out;overflow:hidden;position:relative;perspective:1000px}.project-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-110%;left:-210%;width:200%;height:200%;background-color:#007bff26;transform:rotate(45deg);transition:.5s all ease-in-out}.project-card[_ngcontent-%COMP%]:hover:before{top:-30%;left:-30%}.project-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003;transform:scale(1.05) rotateX(10deg) rotateY(10deg)}.project-image[_ngcontent-%COMP%]{display:inline-block;align-items:center;width:10rem;height:10rem}.project-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:10px 0}.project-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;color:#333}@keyframes _ngcontent-%COMP%_loading{0%{background-position:-100% 0}to{background-position:100% 0}}.visitor-info[_ngcontent-%COMP%]{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;width:80%;max-width:500px;margin:40px auto;padding:20px;background-color:#f9f9f9;box-shadow:0 2px 15px #0000001a;border-radius:10px;overflow:hidden;position:relative;animation:_ngcontent-%COMP%_loading 2s linear infinite;background:linear-gradient(90deg,#f9f9f9 25%,#e0e0e0 50%,#f9f9f9 75%);background-size:200% 100%}.visitor-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;opacity:0;animation:1s ease-out .5s 1 normal forwards running _ngcontent-%COMP%_fadeIn}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.detail[_ngcontent-%COMP%]{color:#333;font-size:16px;transition:color .3s ease-in-out}.detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#777;font-weight:700}.detail[_ngcontent-%COMP%]:hover{color:#08c}.detail[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#005999}.icon-img[_ngcontent-%COMP%]{width:2rem}']}),e})()},{path:"blogs-list",component:(()=>{class e{constructor(n){this.router=n,this.postsPersonal=[{id:"schoolAhead",content:"",title:"School Ahead of its time.",date:new Date(2022,4,15)}],this.postsProgramming=[{id:"whyMathInProgramming",content:"",title:"Mathematics for programmers",date:new Date(2022,4,15)},{id:"ERPApplication",content:"",title:"What makes application an ERP",date:new Date(2022,5,1)},{id:"ORMorQuery",content:"",title:"Query or ORM: A Balanced Perspective",date:new Date(2022,5,1)},{id:"resourceOfSelfLearning",content:"",title:"Resources for Self Learning",date:new Date(2022,5,1)},{id:"areNewsLettersRelevant",content:"",title:"Are Newsletters still relevant?",date:new Date(2022,5,1)},{id:"isEuntrprunershipForEveryOne",content:"",title:"Is euntrprunership for everyone?",date:new Date(2022,5,1)},{id:"sequelizeOptionalParameters",content:"",title:"Optional Parameters in Sequelize",date:new Date(2022,5,1)},{id:"affectOfAIOnDevelopment",content:"",title:"How Developer role is going to change with AI?",date:new Date(2022,5,1)}]}navigateToPost(n,r){this.router.navigate(["/read-blog",n,r])}}return e.\u0275fac=function(n){return new(n||e)(Y(rn))},e.\u0275cmp=br({type:e,selectors:[["app-blog"]],decls:8,vars:2,consts:[[1,"blog-list"],["class","blog-item",4,"ngFor","ngForOf"],[1,"blog-item"],[1,"post"],[1,"read-more",3,"click"]],template:function(n,r){1&n&&(Pe(0,"div",0)(1,"h1"),Je(2,"Programming"),Be(),Er(3,nB,8,2,"div",1),Be(),Pe(4,"div",0)(5,"h1"),Je(6,"Personal"),Be(),Er(7,rB,8,2,"div",1),Be()),2&n&&($e(3),Dt("ngForOf",r.postsProgramming),$e(4),Dt("ngForOf",r.postsPersonal))},dependencies:[Qd],styles:[".blog-list[_ngcontent-%COMP%]{width:80%;margin:auto;padding:20px;font-family:Arial,sans-serif;background:#f5f5f5;border-radius:10px;box-shadow:0 0 10px #0000001a}.blog-list[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#333;transition:color .5s}.blog-list[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:hover{color:#888}.blog-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;margin:20px 0;padding:20px;border-radius:5px;transition:all .3s ease-in-out;box-shadow:0 0 10px #0000001a}.blog-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.blog-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin:0 0 10px}.post[_ngcontent-%COMP%]{font-size:14px;color:#666;transition:color .5s}.blog-item[_ngcontent-%COMP%]:hover   .post[_ngcontent-%COMP%]{color:#999}.read-more[_ngcontent-%COMP%]{display:inline-block;margin-top:10px;text-decoration:none;color:#666;border:1px solid #666;padding:5px 10px;border-radius:5px;transition:all .3s ease-in-out}.read-more[_ngcontent-%COMP%]:hover{background:#666;color:#fff}"]}),e})()},{path:"read-blog/:id/:category",component:(()=>{class e{constructor(n,r,i){this.route=n,this.http=r,this.sanitizer=i}ngOnInit(){this.postId=this.route.snapshot.paramMap.get("id"),this.category=this.route.snapshot.paramMap.get("category"),this.http.get(`assets/blogs/${this.category}/${this.postId}.html`,{responseType:"text"}).subscribe(n=>{this.content=this.sanitizer.bypassSecurityTrustHtml(n)})}}return e.\u0275fac=function(n){return new(n||e)(Y(Nr),Y(yf),Y(D0))},e.\u0275cmp=br({type:e,selectors:[["app-read-blog"]],decls:2,vars:1,consts:[[1,"blog-container"],[3,"innerHTML"]],template:function(n,r){1&n&&(Pe(0,"div",0),$t(1,"div",1),Be()),2&n&&($e(1),Dt("innerHTML",r.content,Fg))},styles:[".blog-container[_ngcontent-%COMP%]{max-width:40em;margin:0 auto;padding:5px;font-family:Georgia,serif;font-size:20px;line-height:30px;background-color:#fff;color:#000;text-align:justify}@media only screen and (max-width: 768px){.blog-container[_ngcontent-%COMP%]{max-width:100%;font-size:18px;line-height:26px}}@media only screen and (max-width: 480px){.blog-container[_ngcontent-%COMP%]{max-width:100%;font-size:16px;line-height:22px}}"]}),e})()}];let sB=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xt({type:e}),e.\u0275inj=Ht({imports:[US.forRoot(iB),US]}),e})(),oB=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=br({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&$t(0,"router-outlet")},dependencies:[ef]}),e})(),aB=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xt({type:e,bootstrap:[oB]}),e.\u0275inj=Ht({imports:[JO,e2.forRoot({loadOptions:{apiKey:"en5IfhLlm6QiwsNnBOeQ",region:"ap"}}),gP,sB,dN,q2]}),e})();YO().bootstrapModule(aB).catch(e=>console.error(e))},162:Vr=>{self,Vr.exports=(()=>{"use strict";var qt,nr={};return qt=nr,Object.defineProperty(qt,"__esModule",{value:!0}),qt.FitAddon=void 0,qt.FitAddon=class{constructor(){}activate(_e){this._terminal=_e}dispose(){}fit(){const _e=this.proposeDimensions();_e&&this._terminal&&!isNaN(_e.cols)&&!isNaN(_e.rows)&&(this._terminal.rows===_e.rows&&this._terminal.cols===_e.cols||(this._terminal._core._renderService.clear(),this._terminal.resize(_e.cols,_e.rows)))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const _e=this._terminal._core,Kt=_e._renderService.dimensions;if(0===Kt.css.cell.width||0===Kt.css.cell.height)return;const Q=0===this._terminal.options.scrollback?0:_e.viewport.scrollBarWidth,h=window.getComputedStyle(this._terminal.element.parentElement),v=parseInt(h.getPropertyValue("height")),y=Math.max(0,parseInt(h.getPropertyValue("width"))),M=window.getComputedStyle(this._terminal.element),w=v-(parseInt(M.getPropertyValue("padding-top"))+parseInt(M.getPropertyValue("padding-bottom"))),b=y-(parseInt(M.getPropertyValue("padding-right"))+parseInt(M.getPropertyValue("padding-left")))-Q;return{cols:Math.max(2,Math.floor(b/Kt.css.cell.width)),rows:Math.max(1,Math.floor(w/Kt.css.cell.height))}}},nr})()},793:Vr=>{self,Vr.exports=(()=>{"use strict";var nr={4567:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.AccessibilityManager=void 0;const y=v(9042),M=v(6114),w=v(9924),b=v(3656),A=v(844),I=v(5596),C=v(9631);h.AccessibilityManager=class c extends A.Disposable{constructor(g,d){super(),this._terminal=g,this._renderService=d,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityTreeRoot=document.createElement("div"),this._accessibilityTreeRoot.classList.add("xterm-accessibility"),this._accessibilityTreeRoot.tabIndex=0,this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let p=0;p<this._terminal.rows;p++)this._rowElements[p]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[p]);if(this._topBoundaryFocusListener=p=>this._handleBoundaryFocus(p,0),this._bottomBoundaryFocusListener=p=>this._handleBoundaryFocus(p,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityTreeRoot.appendChild(this._rowContainer),this._renderRowsDebouncer=new w.TimeBasedDebouncer(this._renderRows.bind(this)),this._refreshRows(),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityTreeRoot.appendChild(this._liveRegion),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityTreeRoot),this.register(this._renderRowsDebouncer),this.register(this._terminal.onResize(p=>this._handleResize(p.rows))),this.register(this._terminal.onRender(p=>this._refreshRows(p.start,p.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(p=>this._handleChar(p))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab(p=>this._handleTab(p))),this.register(this._terminal.onKey(p=>this._handleKey(p.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new I.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,b.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this.register((0,A.toDisposable)(()=>{(0,C.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0}))}_handleBoundaryFocus(g,d){const p=g.target,S=this._rowElements[0===d?1:this._rowElements.length-2];if(p.getAttribute("aria-posinset")===(0===d?"1":`${this._terminal.buffer.lines.length}`)||g.relatedTarget!==S)return;let D,T;if(0===d?(D=p,T=this._rowElements.pop(),this._rowContainer.removeChild(T)):(D=this._rowElements.shift(),T=p,this._rowContainer.removeChild(D)),D.removeEventListener("focus",this._topBoundaryFocusListener),T.removeEventListener("focus",this._bottomBoundaryFocusListener),0===d){const _=this._createAccessibilityTreeNode();this._rowElements.unshift(_),this._rowContainer.insertAdjacentElement("afterbegin",_)}else{const _=this._createAccessibilityTreeNode();this._rowElements.push(_),this._rowContainer.appendChild(_)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===d?-1:1),this._rowElements[0===d?1:this._rowElements.length-2].focus(),g.preventDefault(),g.stopImmediatePropagation()}_handleResize(g){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let d=this._rowContainer.children.length;d<this._terminal.rows;d++)this._rowElements[d]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[d]);for(;this._rowElements.length>g;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const g=document.createElement("div");return g.setAttribute("role","listitem"),g.tabIndex=-1,this._refreshRowDimensions(g),g}_handleTab(g){for(let d=0;d<g;d++)this._handleChar(" ")}_handleChar(g){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==g&&(this._charsToAnnounce+=g):this._charsToAnnounce+=g,"\n"===g&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=y.tooMuchOutput)),M.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityTreeRoot.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,M.isMac&&(0,C.removeElementFromParent)(this._liveRegion)}_handleKey(g){this._clearLiveRegion(),/\p{Control}/u.test(g)||this._charsToConsume.push(g)}_refreshRows(g,d){this._renderRowsDebouncer.refresh(g,d,this._terminal.rows)}_renderRows(g,d){const p=this._terminal.buffer,S=p.lines.length.toString();for(let D=g;D<=d;D++){const T=p.translateBufferLineToString(p.ydisp+D,!0),_=(p.ydisp+D+1).toString(),R=this._rowElements[D];R&&(0===T.length?R.innerText="\xa0":R.textContent=T,R.setAttribute("aria-posinset",_),R.setAttribute("aria-setsize",S))}this._announceCharacters()}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityTreeRoot.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let g=0;g<this._terminal.rows;g++)this._refreshRowDimensions(this._rowElements[g])}}_refreshRowDimensions(g){g.style.height=`${this._renderService.dimensions.css.cell.height}px`}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}}},3614:(Q,h)=>{function v(b){return b.replace(/\r?\n/g,"\r")}function y(b,A){return A?"\x1b[200~"+b+"\x1b[201~":b}function M(b,A,I){b=y(b=v(b),I.decPrivateModes.bracketedPasteMode),I.triggerDataEvent(b,!0),A.value=""}function w(b,A,I){const C=I.getBoundingClientRect(),c=b.clientX-C.left-10,f=b.clientY-C.top-10;A.style.width="20px",A.style.height="20px",A.style.left=`${c}px`,A.style.top=`${f}px`,A.style.zIndex="1000",A.focus()}Object.defineProperty(h,"__esModule",{value:!0}),h.rightClickHandler=h.moveTextAreaUnderMouseCursor=h.paste=h.handlePasteEvent=h.copyHandler=h.bracketTextForPaste=h.prepareTextForTerminal=void 0,h.prepareTextForTerminal=v,h.bracketTextForPaste=y,h.copyHandler=function(b,A){b.clipboardData&&b.clipboardData.setData("text/plain",A.selectionText),b.preventDefault()},h.handlePasteEvent=function(b,A,I){b.stopPropagation(),b.clipboardData&&M(b.clipboardData.getData("text/plain"),A,I)},h.paste=M,h.moveTextAreaUnderMouseCursor=w,h.rightClickHandler=function(b,A,I,C,c){w(b,A,I),c&&C.rightClickSelect(b),A.value=C.selectionText,A.select()}},7239:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ColorContrastCache=void 0;const y=v(1505);h.ColorContrastCache=class{constructor(){this._color=new y.TwoKeyMap,this._css=new y.TwoKeyMap}setCss(M,w,b){this._css.set(M,w,b)}getCss(M,w){return this._css.get(M,w)}setColor(M,w,b){this._color.set(M,w,b)}getColor(M,w){return this._color.get(M,w)}clear(){this._color.clear(),this._css.clear()}}},9631:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.removeElementFromParent=void 0,h.removeElementFromParent=function(...v){var y;for(const M of v)null===(y=M?.parentElement)||void 0===y||y.removeChild(M)}},3656:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.addDisposableDomListener=void 0,h.addDisposableDomListener=function(v,y,M,w){v.addEventListener(y,M,w);let b=!1;return{dispose:()=>{b||(b=!0,v.removeEventListener(y,M,w))}}}},6465:function(Q,h,v){var y=this&&this.__decorate||function(c,f,g,d){var p,S=arguments.length,D=S<3?f:null===d?d=Object.getOwnPropertyDescriptor(f,g):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(c,f,g,d);else for(var T=c.length-1;T>=0;T--)(p=c[T])&&(D=(S<3?p(D):S>3?p(f,g,D):p(f,g))||D);return S>3&&D&&Object.defineProperty(f,g,D),D},M=this&&this.__param||function(c,f){return function(g,d){f(g,d,c)}};Object.defineProperty(h,"__esModule",{value:!0}),h.Linkifier2=void 0;const w=v(2585),b=v(8460),A=v(844),I=v(3656);let C=class extends A.Disposable{constructor(c){super(),this._bufferService=c,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._activeLine=-1,this._onShowLinkUnderline=this.register(new b.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new b.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,A.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,A.toDisposable)(()=>{this._lastMouseEvent=void 0}))}get currentLink(){return this._currentLink}registerLinkProvider(c){return this._linkProviders.push(c),{dispose:()=>{const f=this._linkProviders.indexOf(c);-1!==f&&this._linkProviders.splice(f,1)}}}attachToDom(c,f,g){this._element=c,this._mouseService=f,this._renderService=g,this.register((0,I.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,I.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,I.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,I.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(c){if(this._lastMouseEvent=c,!this._element||!this._mouseService)return;const f=this._positionFromMouseEvent(c,this._element,this._mouseService);if(!f)return;this._isMouseOut=!1;const g=c.composedPath();for(let d=0;d<g.length;d++){const p=g[d];if(p.classList.contains("xterm"))break;if(p.classList.contains("xterm-hover"))return}this._lastBufferCell&&f.x===this._lastBufferCell.x&&f.y===this._lastBufferCell.y||(this._handleHover(f),this._lastBufferCell=f)}_handleHover(c){if(this._activeLine!==c.y)return this._clearCurrentLink(),void this._askForLink(c,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,c)||(this._clearCurrentLink(),this._askForLink(c,!0))}_askForLink(c,f){var g,d;this._activeProviderReplies&&f||(null===(g=this._activeProviderReplies)||void 0===g||g.forEach(S=>{S?.forEach(D=>{D.link.dispose&&D.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=c.y);let p=!1;for(const[S,D]of this._linkProviders.entries())f?null!==(d=this._activeProviderReplies)&&void 0!==d&&d.get(S)&&(p=this._checkLinkProviderResult(S,c,p)):D.provideLinks(c.y,T=>{var _,R;if(this._isMouseOut)return;const P=T?.map(N=>({link:N}));null===(_=this._activeProviderReplies)||void 0===_||_.set(S,P),p=this._checkLinkProviderResult(S,c,p),(null===(R=this._activeProviderReplies)||void 0===R?void 0:R.size)===this._linkProviders.length&&this._removeIntersectingLinks(c.y,this._activeProviderReplies)})}_removeIntersectingLinks(c,f){const g=new Set;for(let d=0;d<f.size;d++){const p=f.get(d);if(p)for(let S=0;S<p.length;S++){const D=p[S],_=D.link.range.end.y>c?this._bufferService.cols:D.link.range.end.x;for(let R=D.link.range.start.y<c?0:D.link.range.start.x;R<=_;R++){if(g.has(R)){p.splice(S--,1);break}g.add(R)}}}}_checkLinkProviderResult(c,f,g){var d;if(!this._activeProviderReplies)return g;const p=this._activeProviderReplies.get(c);let S=!1;for(let D=0;D<c;D++)this._activeProviderReplies.has(D)&&!this._activeProviderReplies.get(D)||(S=!0);if(!S&&p){const D=p.find(T=>this._linkAtPosition(T.link,f));D&&(g=!0,this._handleNewLink(D))}if(this._activeProviderReplies.size===this._linkProviders.length&&!g)for(let D=0;D<this._activeProviderReplies.size;D++){const T=null===(d=this._activeProviderReplies.get(D))||void 0===d?void 0:d.find(_=>this._linkAtPosition(_.link,f));if(T){g=!0,this._handleNewLink(T);break}}return g}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(c){if(!this._element||!this._mouseService||!this._currentLink)return;const f=this._positionFromMouseEvent(c,this._element,this._mouseService);f&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,f)&&this._currentLink.link.activate(c,this._currentLink.link.text)}_clearCurrentLink(c,f){this._element&&this._currentLink&&this._lastMouseEvent&&(!c||!f||this._currentLink.link.range.start.y>=c&&this._currentLink.link.range.end.y<=f)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,A.disposeArray)(this._linkCacheDisposables))}_handleNewLink(c){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const f=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);f&&this._linkAtPosition(c.link,f)&&(this._currentLink=c,this._currentLink.state={decorations:{underline:void 0===c.link.decorations||c.link.decorations.underline,pointerCursor:void 0===c.link.decorations||c.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,c.link,this._lastMouseEvent),c.link.decorations={},Object.defineProperties(c.link.decorations,{pointerCursor:{get:()=>{var g,d;return null===(d=null===(g=this._currentLink)||void 0===g?void 0:g.state)||void 0===d?void 0:d.decorations.pointerCursor},set:g=>{var d,p;null!==(d=this._currentLink)&&void 0!==d&&d.state&&this._currentLink.state.decorations.pointerCursor!==g&&(this._currentLink.state.decorations.pointerCursor=g,this._currentLink.state.isHovered&&(null===(p=this._element)||void 0===p||p.classList.toggle("xterm-cursor-pointer",g)))}},underline:{get:()=>{var g,d;return null===(d=null===(g=this._currentLink)||void 0===g?void 0:g.state)||void 0===d?void 0:d.decorations.underline},set:g=>{var d,p,S;null!==(d=this._currentLink)&&void 0!==d&&d.state&&(null===(S=null===(p=this._currentLink)||void 0===p?void 0:p.state)||void 0===S?void 0:S.decorations.underline)!==g&&(this._currentLink.state.decorations.underline=g,this._currentLink.state.isHovered&&this._fireUnderlineEvent(c.link,g))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(g=>{const p=this._currentLink?this._lastMouseEvent:void 0;if(this._clearCurrentLink(0===g.start?0:g.start+1+this._bufferService.buffer.ydisp,g.end+1+this._bufferService.buffer.ydisp),p&&this._element){const S=this._positionFromMouseEvent(p,this._element,this._mouseService);S&&this._askForLink(S,!1)}})))}_linkHover(c,f,g){var d;!(null===(d=this._currentLink)||void 0===d)&&d.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!0),this._currentLink.state.decorations.pointerCursor&&c.classList.add("xterm-cursor-pointer")),f.hover&&f.hover(g,f.text)}_fireUnderlineEvent(c,f){const g=c.range,d=this._bufferService.buffer.ydisp,p=this._createLinkUnderlineEvent(g.start.x-1,g.start.y-d-1,g.end.x,g.end.y-d-1,void 0);(f?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(p)}_linkLeave(c,f,g){var d;!(null===(d=this._currentLink)||void 0===d)&&d.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!1),this._currentLink.state.decorations.pointerCursor&&c.classList.remove("xterm-cursor-pointer")),f.leave&&f.leave(g,f.text)}_linkAtPosition(c,f){const p=f.y*this._bufferService.cols+f.x;return c.range.start.y*this._bufferService.cols+c.range.start.x<=p&&p<=c.range.end.y*this._bufferService.cols+c.range.end.x}_positionFromMouseEvent(c,f,g){const d=g.getCoords(c,f,this._bufferService.cols,this._bufferService.rows);if(d)return{x:d[0],y:d[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(c,f,g,d,p){return{x1:c,y1:f,x2:g,y2:d,cols:this._bufferService.cols,fg:p}}};C=y([M(0,w.IBufferService)],C),h.Linkifier2=C},9042:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.tooMuchOutput=h.promptLabel=void 0,h.promptLabel="Terminal input",h.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(Q,h,v){var y=this&&this.__decorate||function(C,c,f,g){var d,p=arguments.length,S=p<3?c:null===g?g=Object.getOwnPropertyDescriptor(c,f):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(C,c,f,g);else for(var D=C.length-1;D>=0;D--)(d=C[D])&&(S=(p<3?d(S):p>3?d(c,f,S):d(c,f))||S);return p>3&&S&&Object.defineProperty(c,f,S),S},M=this&&this.__param||function(C,c){return function(f,g){c(f,g,C)}};Object.defineProperty(h,"__esModule",{value:!0}),h.OscLinkProvider=void 0;const w=v(511),b=v(2585);let A=class{constructor(C,c,f){this._bufferService=C,this._optionsService=c,this._oscLinkService=f}provideLinks(C,c){var f;const g=this._bufferService.buffer.lines.get(C-1);if(!g)return void c(void 0);const d=[],p=this._optionsService.rawOptions.linkHandler,S=new w.CellData,D=g.getTrimmedLength();let T=-1,_=-1,R=!1;for(let P=0;P<D;P++)if(-1!==_||g.hasContent(P)){if(g.loadCell(P,S),S.hasExtendedAttrs()&&S.extended.urlId){if(-1===_){_=P,T=S.extended.urlId;continue}R=S.extended.urlId!==T}else-1!==_&&(R=!0);if(R||-1!==_&&P===D-1){const N=null===(f=this._oscLinkService.getLinkData(T))||void 0===f?void 0:f.uri;if(N){const H={start:{x:_+1,y:C},end:{x:P+(R||P!==D-1?0:1),y:C}};let $=!1;if(!p?.allowNonHttpProtocols)try{const J=new URL(N);["http:","https:"].includes(J.protocol)||($=!0)}catch{$=!0}$||d.push({text:N,range:H,activate:(J,ie)=>p?p.activate(J,ie,H):I(0,ie),hover:(J,ie)=>{var oe;return null===(oe=p?.hover)||void 0===oe?void 0:oe.call(p,J,ie,H)},leave:(J,ie)=>{var oe;return null===(oe=p?.leave)||void 0===oe?void 0:oe.call(p,J,ie,H)}})}R=!1,S.hasExtendedAttrs()&&S.extended.urlId?(_=P,T=S.extended.urlId):(_=-1,T=-1)}}c(d)}};function I(C,c){if(confirm(`Do you want to navigate to ${c}?\n\nWARNING: This link could potentially be dangerous`)){const f=window.open();if(f){try{f.opener=null}catch{}f.location.href=c}else console.warn("Opening link blocked as opener could not be cleared")}}A=y([M(0,b.IBufferService),M(1,b.IOptionsService),M(2,b.IOscLinkService)],A),h.OscLinkProvider=A},6193:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RenderDebouncer=void 0,h.RenderDebouncer=class{constructor(v,y){this._parentWindow=v,this._renderCallback=y,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(v){return this._refreshCallbacks.push(v),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(v,y,M){this._rowCount=M,v=void 0!==v?v:0,y=void 0!==y?y:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,v):v,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,y):y,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();const v=Math.max(this._rowStart,0),y=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(v,y),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const v of this._refreshCallbacks)v(0);this._refreshCallbacks=[]}}},5596:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ScreenDprMonitor=void 0;const y=v(844);h.ScreenDprMonitor=class M extends y.Disposable{constructor(b){super(),this._parentWindow=b,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,y.toDisposable)(()=>{this.clearListener()}))}setListener(b){this._listener&&this.clearListener(),this._listener=b,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var b;this._outerListener&&(null===(b=this._resolutionMediaMatchList)||void 0===b||b.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}},3236:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Terminal=void 0;const y=v(2950),M=v(1680),w=v(3614),b=v(2584),A=v(5435),I=v(9312),C=v(6114),c=v(3656),f=v(9042),g=v(4567),d=v(1296),p=v(7399),S=v(8460),D=v(8437),T=v(3230),_=v(4725),R=v(428),P=v(8934),N=v(6465),H=v(5114),$=v(8969),J=v(8055),ie=v(4269),oe=v(5941),x=v(3107),L=v(5744),j=v(9074),B=v(2585),te=v(3730),ue=v(844),De=v(6731),re=typeof window<"u"?window.document:null;h.Terminal=class ae extends $.CoreTerminal{constructor(V={}){super(V),this.browser=C,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._onCursorMove=this.register(new S.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new S.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new S.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new S.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new S.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new S.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new S.EventEmitter),this._onBlur=this.register(new S.EventEmitter),this._onA11yCharEmitter=this.register(new S.EventEmitter),this._onA11yTabEmitter=this.register(new S.EventEmitter),this._onWillOpen=this.register(new S.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(N.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(te.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(j.DecorationService),this._instantiationService.setService(B.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((z,K)=>this.refresh(z,K))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(z=>this._reportWindowsOptions(z))),this.register(this._inputHandler.onColor(z=>this._handleColorEvent(z))),this.register((0,S.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,S.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,S.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,S.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(z=>this._afterResize(z.cols,z.rows))),this.register((0,ue.toDisposable)(()=>{var z,K;this._customKeyEventHandler=void 0,null===(K=null===(z=this.element)||void 0===z?void 0:z.parentNode)||void 0===K||K.removeChild(this.element)}))}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(V){if(this._themeService)for(const z of V){let K,se="";switch(z.index){case 256:K="foreground",se="10";break;case 257:K="background",se="11";break;case 258:K="cursor",se="12";break;default:K="ansi",se="4;"+z.index}switch(z.type){case 0:const de=J.color.toColorRGB("ansi"===K?this._themeService.colors.ansi[z.index]:this._themeService.colors[K]);this.coreService.triggerDataEvent(`${b.C0.ESC}]${se};${(0,oe.toRgbString)(de)}${b.C1_ESCAPED.ST}`);break;case 1:if("ansi"===K)this._themeService.modifyColors(le=>le.ansi[z.index]=J.rgba.toColor(...z.color));else{const le=K;this._themeService.modifyColors(vt=>vt[le]=J.rgba.toColor(...z.color))}break;case 2:this._themeService.restoreColor(z.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(V){var z;V?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new g.AccessibilityManager(this,this._renderService)):(null===(z=this._accessibilityManager)||void 0===z||z.dispose(),this._accessibilityManager=void 0)}_handleTextAreaFocus(V){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(b.C0.ESC+"[I"),this.updateCursorStyle(V),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var V;return null===(V=this.textarea)||void 0===V?void 0:V.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(b.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const z=this.buffer.lines.get(this.buffer.ybase+this.buffer.y);if(!z)return;const K=Math.min(this.buffer.x,this.cols-1),se=this._renderService.dimensions.css.cell.height,de=z.getWidth(K),le=this._renderService.dimensions.css.cell.width*de,vt=this.buffer.y*this._renderService.dimensions.css.cell.height;this.textarea.style.left=K*this._renderService.dimensions.css.cell.width+"px",this.textarea.style.top=vt+"px",this.textarea.style.width=le+"px",this.textarea.style.height=se+"px",this.textarea.style.lineHeight=se+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,c.addDisposableDomListener)(this.element,"copy",z=>{this.hasSelection()&&(0,w.copyHandler)(z,this._selectionService)}));const V=z=>(0,w.handlePasteEvent)(z,this.textarea,this.coreService);this.register((0,c.addDisposableDomListener)(this.textarea,"paste",V)),this.register((0,c.addDisposableDomListener)(this.element,"paste",V)),this.register(C.isFirefox?(0,c.addDisposableDomListener)(this.element,"mousedown",z=>{2===z.button&&(0,w.rightClickHandler)(z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}):(0,c.addDisposableDomListener)(this.element,"contextmenu",z=>{(0,w.rightClickHandler)(z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),C.isLinux&&this.register((0,c.addDisposableDomListener)(this.element,"auxclick",z=>{1===z.button&&(0,w.moveTextAreaUnderMouseCursor)(z,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,c.addDisposableDomListener)(this.textarea,"keyup",V=>this._keyUp(V),!0)),this.register((0,c.addDisposableDomListener)(this.textarea,"keydown",V=>this._keyDown(V),!0)),this.register((0,c.addDisposableDomListener)(this.textarea,"keypress",V=>this._keyPress(V),!0)),this.register((0,c.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,c.addDisposableDomListener)(this.textarea,"compositionupdate",V=>this._compositionHelper.compositionupdate(V))),this.register((0,c.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,c.addDisposableDomListener)(this.textarea,"input",V=>this._inputEvent(V),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(V){var z;if(!V)throw new Error("Terminal requires a parent element.");V.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=V.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),V.appendChild(this.element);const K=re.createDocumentFragment();this._viewportElement=re.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),K.appendChild(this._viewportElement),this._viewportScrollArea=re.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=re.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=re.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),K.appendChild(this.screenElement),this.textarea=re.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",f.promptLabel),C.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(H.CoreBrowserService,this.textarea,null!==(z=this._document.defaultView)&&void 0!==z?z:window),this._instantiationService.setService(_.ICoreBrowserService,this._coreBrowserService),this.register((0,c.addDisposableDomListener)(this.textarea,"focus",se=>this._handleTextAreaFocus(se))),this.register((0,c.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(R.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(_.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(De.ThemeService),this._instantiationService.setService(_.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(ie.CharacterJoinerService),this._instantiationService.setService(_.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(T.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(_.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(se=>this._onRender.fire(se))),this.onResize(se=>this._renderService.resize(se.cols,se.rows)),this._compositionView=re.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(y.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(K);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(P.MouseService),this._instantiationService.setService(_.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(M.Viewport,se=>this.scrollLines(se,!0,1),this._viewportElement,this._viewportScrollArea),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(I.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(_.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(se=>this.scrollLines(se.amount,se.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(se=>this._renderService.handleSelectionChanged(se.start,se.end,se.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(se=>{this.textarea.value=se,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(se=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,c.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(x.BufferDecorationRenderer,this.screenElement)),this.register((0,c.addDisposableDomListener)(this.element,"mousedown",se=>this._selectionService.handleMouseDown(se))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new g.AccessibilityManager(this,this._renderService)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",se=>this._handleScreenReaderModeOptionChange(se))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(L.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",se=>{!this._overviewRulerRenderer&&se&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(L.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(d.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const V=this,z=this.element;function K(le){const vt=V._mouseService.getMouseReportCoords(le,V.screenElement);if(!vt)return!1;let lt,ft;switch(le.overrideType||le.type){case"mousemove":ft=32,void 0===le.buttons?(lt=3,void 0!==le.button&&(lt=le.button<3?le.button:3)):lt=1&le.buttons?0:4&le.buttons?1:2&le.buttons?2:3;break;case"mouseup":ft=0,lt=le.button<3?le.button:3;break;case"mousedown":ft=1,lt=le.button<3?le.button:3;break;case"wheel":if(0===V.viewport.getLinesScrolled(le))return!1;ft=le.deltaY<0?0:1,lt=4;break;default:return!1}return!(void 0===ft||void 0===lt||lt>4)&&V.coreMouseService.triggerMouseEvent({col:vt.col,row:vt.row,x:vt.x,y:vt.y,button:lt,action:ft,ctrl:le.ctrlKey,alt:le.altKey,shift:le.shiftKey})}const se={mouseup:null,wheel:null,mousedrag:null,mousemove:null},de={mouseup:le=>(K(le),le.buttons||(this._document.removeEventListener("mouseup",se.mouseup),se.mousedrag&&this._document.removeEventListener("mousemove",se.mousedrag)),this.cancel(le)),wheel:le=>(K(le),this.cancel(le,!0)),mousedrag:le=>{le.buttons&&K(le)},mousemove:le=>{le.buttons||K(le)}};this.register(this.coreMouseService.onProtocolChange(le=>{le?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(le)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&le?se.mousemove||(z.addEventListener("mousemove",de.mousemove),se.mousemove=de.mousemove):(z.removeEventListener("mousemove",se.mousemove),se.mousemove=null),16&le?se.wheel||(z.addEventListener("wheel",de.wheel,{passive:!1}),se.wheel=de.wheel):(z.removeEventListener("wheel",se.wheel),se.wheel=null),2&le?se.mouseup||(se.mouseup=de.mouseup):(this._document.removeEventListener("mouseup",se.mouseup),se.mouseup=null),4&le?se.mousedrag||(se.mousedrag=de.mousedrag):(this._document.removeEventListener("mousemove",se.mousedrag),se.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,c.addDisposableDomListener)(z,"mousedown",le=>{if(le.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(le))return K(le),se.mouseup&&this._document.addEventListener("mouseup",se.mouseup),se.mousedrag&&this._document.addEventListener("mousemove",se.mousedrag),this.cancel(le)})),this.register((0,c.addDisposableDomListener)(z,"wheel",le=>{if(!se.wheel){if(!this.buffer.hasScrollback){const vt=this.viewport.getLinesScrolled(le);if(0===vt)return;const lt=b.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(le.deltaY<0?"A":"B");let ft="";for(let qe=0;qe<Math.abs(vt);qe++)ft+=lt;return this.coreService.triggerDataEvent(ft,!0),this.cancel(le,!0)}return this.viewport.handleWheel(le)?this.cancel(le):void 0}},{passive:!1})),this.register((0,c.addDisposableDomListener)(z,"touchstart",le=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(le),this.cancel(le)},{passive:!0})),this.register((0,c.addDisposableDomListener)(z,"touchmove",le=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(le)?void 0:this.cancel(le)},{passive:!1}))}refresh(V,z){var K;null===(K=this._renderService)||void 0===K||K.refreshRows(V,z)}updateCursorStyle(V){var z;null!==(z=this._selectionService)&&void 0!==z&&z.shouldColumnSelect(V)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(V,z,K=0){super.scrollLines(V,z,K),this.refresh(0,this.rows-1)}paste(V){(0,w.paste)(V,this.textarea,this.coreService)}attachCustomKeyEventHandler(V){this._customKeyEventHandler=V}registerLinkProvider(V){return this.linkifier2.registerLinkProvider(V)}registerCharacterJoiner(V){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const z=this._characterJoinerService.register(V);return this.refresh(0,this.rows-1),z}deregisterCharacterJoiner(V){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(V)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}addMarker(V){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+V)}registerDecoration(V){return this._decorationService.registerDecoration(V)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(V,z,K){this._selectionService.setSelection(V,z,K)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var V;null===(V=this._selectionService)||void 0===V||V.clearSelection()}selectAll(){var V;null===(V=this._selectionService)||void 0===V||V.selectAll()}selectLines(V,z){var K;null===(K=this._selectionService)||void 0===K||K.selectLines(V,z)}_keyDown(V){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(V))return!1;const z=this.browser.isMac&&this.options.macOptionIsMeta&&V.altKey;if(!z&&!this._compositionHelper.keydown(V))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;z||"Dead"!==V.key&&"AltGraph"!==V.key||(this._unprocessedDeadKey=!0);const K=(0,p.evaluateKeyboardEvent)(V,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(V),3===K.type||2===K.type){const se=this.rows-1;return this.scrollLines(2===K.type?-se:se),this.cancel(V,!0)}return 1===K.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,V)||(K.cancel&&this.cancel(V,!0),!K.key||!!(V.key&&!V.ctrlKey&&!V.altKey&&!V.metaKey&&1===V.key.length&&V.key.charCodeAt(0)>=65&&V.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(K.key!==b.C0.ETX&&K.key!==b.C0.CR||(this.textarea.value=""),this._onKey.fire({key:K.key,domEvent:V}),this._showCursor(),this.coreService.triggerDataEvent(K.key,!0),!this.optionsService.rawOptions.screenReaderMode||V.altKey||V.ctrlKey?this.cancel(V,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(V,z){const K=V.isMac&&!this.options.macOptionIsMeta&&z.altKey&&!z.ctrlKey&&!z.metaKey||V.isWindows&&z.altKey&&z.ctrlKey&&!z.metaKey||V.isWindows&&z.getModifierState("AltGraph");return"keypress"===z.type?K:K&&(!z.keyCode||z.keyCode>47)}_keyUp(V){var z;this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(V)||(16===(z=V).keyCode||17===z.keyCode||18===z.keyCode||this.focus(),this.updateCursorStyle(V),this._keyPressHandled=!1)}_keyPress(V){let z;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(V))return!1;if(this.cancel(V),V.charCode)z=V.charCode;else if(null==V.which)z=V.keyCode;else{if(0===V.which||0===V.charCode)return!1;z=V.which}return!(!z||(V.altKey||V.ctrlKey||V.metaKey)&&!this._isThirdLevelShift(this.browser,V)||(z=String.fromCharCode(z),this._onKey.fire({key:z,domEvent:V}),this._showCursor(),this.coreService.triggerDataEvent(z,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(V){return!(!V.data||"insertText"!==V.inputType||V.composed&&this._keyDownSeen||this.optionsService.rawOptions.screenReaderMode||this._keyPressHandled||(this._unprocessedDeadKey=!1,this.coreService.triggerDataEvent(V.data,!0),this.cancel(V),0))}resize(V,z){V!==this.cols||z!==this.rows?super.resize(V,z):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(V,z){var K,se;null===(K=this._charSizeService)||void 0===K||K.measure(),null===(se=this.viewport)||void 0===se||se.syncScrollArea(!0)}clear(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let V=1;V<this.rows;V++)this.buffer.lines.push(this.buffer.getBlankLine(D.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}}reset(){var V,z;this.options.rows=this.rows,this.options.cols=this.cols;const K=this._customKeyEventHandler;this._setup(),super.reset(),null===(V=this._selectionService)||void 0===V||V.reset(),this._decorationService.reset(),this._customKeyEventHandler=K,this.refresh(0,this.rows-1),null===(z=this.viewport)||void 0===z||z.syncScrollArea()}clearTextureAtlas(){var V;null===(V=this._renderService)||void 0===V||V.clearTextureAtlas()}_reportFocus(){var V;null!==(V=this.element)&&void 0!==V&&V.classList.contains("focus")?this.coreService.triggerDataEvent(b.C0.ESC+"[I"):this.coreService.triggerDataEvent(b.C0.ESC+"[O")}_reportWindowsOptions(V){if(this._renderService)switch(V){case A.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const z=this._renderService.dimensions.css.canvas.width.toFixed(0),K=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${b.C0.ESC}[4;${K};${z}t`);break;case A.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const se=this._renderService.dimensions.css.cell.width.toFixed(0),de=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${b.C0.ESC}[6;${de};${se}t`)}}cancel(V,z){if(this.options.cancelEvents||z)return V.preventDefault(),V.stopPropagation(),!1}}},9924:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TimeBasedDebouncer=void 0,h.TimeBasedDebouncer=class{constructor(v,y=1e3){this._renderCallback=v,this._debounceThresholdMS=y,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(v,y,M){this._rowCount=M,v=void 0!==v?v:0,y=void 0!==y?y:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,v):v,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,y):y;const w=Date.now();if(w-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=w,this._innerRefresh();else if(!this._additionalRefreshRequested){const A=this._debounceThresholdMS-(w-this._lastRefreshMs);this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},A)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;const v=Math.max(this._rowStart,0),y=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(v,y)}}},1680:function(Q,h,v){var y=this&&this.__decorate||function(c,f,g,d){var p,S=arguments.length,D=S<3?f:null===d?d=Object.getOwnPropertyDescriptor(f,g):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(c,f,g,d);else for(var T=c.length-1;T>=0;T--)(p=c[T])&&(D=(S<3?p(D):S>3?p(f,g,D):p(f,g))||D);return S>3&&D&&Object.defineProperty(f,g,D),D},M=this&&this.__param||function(c,f){return function(g,d){f(g,d,c)}};Object.defineProperty(h,"__esModule",{value:!0}),h.Viewport=void 0;const w=v(844),b=v(3656),A=v(4725),I=v(2585);let C=class extends w.Disposable{constructor(c,f,g,d,p,S,D,T,_){super(),this._scrollLines=c,this._viewportElement=f,this._scrollArea=g,this._bufferService=d,this._optionsService=p,this._charSizeService=S,this._renderService=D,this._coreBrowserService=T,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,b.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(R=>this._activeBuffer=R.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(R=>this._renderDimensions=R)),this._handleThemeChange(_.colors),this.register(_.onChangeColors(R=>this._handleThemeChange(R))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea(),0)}_handleThemeChange(c){this._viewportElement.style.backgroundColor=c.background.css}_refresh(c){if(c)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const f=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==f&&(this._lastRecordedBufferHeight=f,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const c=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==c&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=c),this._refreshAnimationFrame=null}syncScrollArea(c=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(c);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(c)}_handleScroll(c){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);const f=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(f)}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;const c=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(c*(this._smoothScrollState.target-this._smoothScrollState.origin)),c<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(c,f){return!(f<0&&0!==this._viewportElement.scrollTop||f>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(c.cancelable&&c.preventDefault(),!1)}handleWheel(c){const f=this._getPixelsScrolled(c);return 0!==f&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+f:this._smoothScrollState.target+=f,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=f,this._bubbleScroll(c,f))}_getPixelsScrolled(c){if(0===c.deltaY||c.shiftKey)return 0;let f=this._applyScrollModifier(c.deltaY,c);return c.deltaMode===WheelEvent.DOM_DELTA_LINE?f*=this._currentRowHeight:c.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(f*=this._currentRowHeight*this._bufferService.rows),f}getLinesScrolled(c){if(0===c.deltaY||c.shiftKey)return 0;let f=this._applyScrollModifier(c.deltaY,c);return c.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(f/=this._currentRowHeight+0,this._wheelPartialScroll+=f,f=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):c.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(f*=this._bufferService.rows),f}_applyScrollModifier(c,f){const g=this._optionsService.rawOptions.fastScrollModifier;return"alt"===g&&f.altKey||"ctrl"===g&&f.ctrlKey||"shift"===g&&f.shiftKey?c*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:c*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(c){this._lastTouchY=c.touches[0].pageY}handleTouchMove(c){const f=this._lastTouchY-c.touches[0].pageY;return this._lastTouchY=c.touches[0].pageY,0!==f&&(this._viewportElement.scrollTop+=f,this._bubbleScroll(c,f))}};C=y([M(3,I.IBufferService),M(4,I.IOptionsService),M(5,A.ICharSizeService),M(6,A.IRenderService),M(7,A.ICoreBrowserService),M(8,A.IThemeService)],C),h.Viewport=C},3107:function(Q,h,v){var y=this&&this.__decorate||function(c,f,g,d){var p,S=arguments.length,D=S<3?f:null===d?d=Object.getOwnPropertyDescriptor(f,g):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(c,f,g,d);else for(var T=c.length-1;T>=0;T--)(p=c[T])&&(D=(S<3?p(D):S>3?p(f,g,D):p(f,g))||D);return S>3&&D&&Object.defineProperty(f,g,D),D},M=this&&this.__param||function(c,f){return function(g,d){f(g,d,c)}};Object.defineProperty(h,"__esModule",{value:!0}),h.BufferDecorationRenderer=void 0;const w=v(3656),b=v(4725),A=v(844),I=v(2585);let C=class extends A.Disposable{constructor(c,f,g,d){super(),this._screenElement=c,this._bufferService=f,this._decorationService=g,this._renderService=d,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,w.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(p=>this._removeDecoration(p))),this.register((0,A.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const c of this._decorationService.decorations)this._renderDecoration(c);this._dimensionsChanged=!1}_renderDecoration(c){this._refreshStyle(c),this._dimensionsChanged&&this._refreshXPosition(c)}_createElement(c){var f;const g=document.createElement("div");g.classList.add("xterm-decoration"),g.style.width=`${Math.round((c.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,g.style.height=(c.options.height||1)*this._renderService.dimensions.css.cell.height+"px",g.style.top=(c.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",g.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const d=null!==(f=c.options.x)&&void 0!==f?f:0;return d&&d>this._bufferService.cols&&(g.style.display="none"),this._refreshXPosition(c,g),g}_refreshStyle(c){const f=c.marker.line-this._bufferService.buffers.active.ydisp;if(f<0||f>=this._bufferService.rows)c.element&&(c.element.style.display="none",c.onRenderEmitter.fire(c.element));else{let g=this._decorationElements.get(c);g||(g=this._createElement(c),c.element=g,this._decorationElements.set(c,g),this._container.appendChild(g)),g.style.top=f*this._renderService.dimensions.css.cell.height+"px",g.style.display=this._altBufferIsActive?"none":"block",c.onRenderEmitter.fire(g)}}_refreshXPosition(c,f=c.element){var g;if(!f)return;const d=null!==(g=c.options.x)&&void 0!==g?g:0;"right"===(c.options.anchor||"left")?f.style.right=d?d*this._renderService.dimensions.css.cell.width+"px":"":f.style.left=d?d*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(c){var f;null===(f=this._decorationElements.get(c))||void 0===f||f.remove(),this._decorationElements.delete(c),c.dispose()}};C=y([M(1,I.IBufferService),M(2,I.IDecorationService),M(3,b.IRenderService)],C),h.BufferDecorationRenderer=C},5871:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ColorZoneStore=void 0,h.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(v){if(v.options.overviewRulerOptions){for(const y of this._zones)if(y.color===v.options.overviewRulerOptions.color&&y.position===v.options.overviewRulerOptions.position){if(this._lineIntersectsZone(y,v.marker.line))return;if(this._lineAdjacentToZone(y,v.marker.line,v.options.overviewRulerOptions.position))return void this._addLineToZone(y,v.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=v.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=v.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=v.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=v.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:v.options.overviewRulerOptions.color,position:v.options.overviewRulerOptions.position,startBufferLine:v.marker.line,endBufferLine:v.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(v){this._linePadding=v}_lineIntersectsZone(v,y){return y>=v.startBufferLine&&y<=v.endBufferLine}_lineAdjacentToZone(v,y,M){return y>=v.startBufferLine-this._linePadding[M||"full"]&&y<=v.endBufferLine+this._linePadding[M||"full"]}_addLineToZone(v,y){v.startBufferLine=Math.min(v.startBufferLine,y),v.endBufferLine=Math.max(v.endBufferLine,y)}}},5744:function(Q,h,v){var y=this&&this.__decorate||function(p,S,D,T){var _,R=arguments.length,P=R<3?S:null===T?T=Object.getOwnPropertyDescriptor(S,D):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(p,S,D,T);else for(var N=p.length-1;N>=0;N--)(_=p[N])&&(P=(R<3?_(P):R>3?_(S,D,P):_(S,D))||P);return R>3&&P&&Object.defineProperty(S,D,P),P},M=this&&this.__param||function(p,S){return function(D,T){S(D,T,p)}};Object.defineProperty(h,"__esModule",{value:!0}),h.OverviewRulerRenderer=void 0;const w=v(5871),b=v(3656),A=v(4725),I=v(844),C=v(2585),c={full:0,left:0,center:0,right:0},f={full:0,left:0,center:0,right:0},g={full:0,left:0,center:0,right:0};let d=class extends I.Disposable{constructor(p,S,D,T,_,R,P){var N;super(),this._viewportElement=p,this._screenElement=S,this._bufferService=D,this._decorationService=T,this._renderService=_,this._optionsService=R,this._coreBrowseService=P,this._colorZoneStore=new w.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),null===(N=this._viewportElement.parentElement)||void 0===N||N.insertBefore(this._canvas,this._viewportElement);const H=this._canvas.getContext("2d");if(!H)throw new Error("Ctx cannot be null");this._ctx=H,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,I.toDisposable)(()=>{var $;null===($=this._canvas)||void 0===$||$.remove()}))}get _width(){return this._optionsService.options.overviewRulerWidth||0}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,b.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const p=Math.floor(this._canvas.width/3),S=Math.ceil(this._canvas.width/3);f.full=this._canvas.width,f.left=p,f.center=S,f.right=p,this._refreshDrawHeightConstants(),g.full=0,g.left=0,g.center=f.left,g.right=f.left+f.center}_refreshDrawHeightConstants(){c.full=Math.round(2*this._coreBrowseService.dpr);const S=Math.round(Math.max(Math.min(this._canvas.height/this._bufferService.buffer.lines.length,12),6)*this._coreBrowseService.dpr);c.left=S,c.center=S,c.right=S}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const S of this._decorationService.decorations)this._colorZoneStore.addDecoration(S);this._ctx.lineWidth=1;const p=this._colorZoneStore.zones;for(const S of p)"full"!==S.position&&this._renderColorZone(S);for(const S of p)"full"===S.position&&this._renderColorZone(S);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(p){this._ctx.fillStyle=p.color,this._ctx.fillRect(g[p.position||"full"],Math.round(p.startBufferLine/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)-c[p.position||"full"]/2),f[p.position||"full"],Math.round((p.endBufferLine-p.startBufferLine)/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)+c[p.position||"full"]))}_queueRefresh(p,S){this._shouldUpdateDimensions=p||this._shouldUpdateDimensions,this._shouldUpdateAnchor=S||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};d=y([M(2,C.IBufferService),M(3,C.IDecorationService),M(4,A.IRenderService),M(5,C.IOptionsService),M(6,A.ICoreBrowserService)],d),h.OverviewRulerRenderer=d},2950:function(Q,h,v){var y=this&&this.__decorate||function(C,c,f,g){var d,p=arguments.length,S=p<3?c:null===g?g=Object.getOwnPropertyDescriptor(c,f):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(C,c,f,g);else for(var D=C.length-1;D>=0;D--)(d=C[D])&&(S=(p<3?d(S):p>3?d(c,f,S):d(c,f))||S);return p>3&&S&&Object.defineProperty(c,f,S),S},M=this&&this.__param||function(C,c){return function(f,g){c(f,g,C)}};Object.defineProperty(h,"__esModule",{value:!0}),h.CompositionHelper=void 0;const w=v(4725),b=v(2585),A=v(2584);let I=class{constructor(C,c,f,g,d,p){this._textarea=C,this._compositionView=c,this._bufferService=f,this._optionsService=g,this._coreService=d,this._renderService=p,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(C){this._compositionView.textContent=C.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(C){if(this._isComposing||this._isSendingComposition){if(229===C.keyCode||16===C.keyCode||17===C.keyCode||18===C.keyCode)return!1;this._finalizeComposition(!1)}return 229!==C.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(C){if(this._compositionView.classList.remove("active"),this._isComposing=!1,C){const c={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let f;this._isSendingComposition=!1,c.start+=this._dataAlreadySent.length,f=this._isComposing?this._textarea.value.substring(c.start,c.end):this._textarea.value.substring(c.start),f.length>0&&this._coreService.triggerDataEvent(f,!0)}},0)}else{this._isSendingComposition=!1;const c=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(c,!0)}}_handleAnyTextareaChanges(){const C=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const c=this._textarea.value,f=c.replace(C,"");this._dataAlreadySent=f,c.length>C.length?this._coreService.triggerDataEvent(f,!0):c.length<C.length?this._coreService.triggerDataEvent(`${A.C0.DEL}`,!0):c.length===C.length&&c!==C&&this._coreService.triggerDataEvent(c,!0)}},0)}updateCompositionElements(C){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const c=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),f=this._renderService.dimensions.css.cell.height,g=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,d=c*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=d+"px",this._compositionView.style.top=g+"px",this._compositionView.style.height=f+"px",this._compositionView.style.lineHeight=f+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const p=this._compositionView.getBoundingClientRect();this._textarea.style.left=d+"px",this._textarea.style.top=g+"px",this._textarea.style.width=Math.max(p.width,1)+"px",this._textarea.style.height=Math.max(p.height,1)+"px",this._textarea.style.lineHeight=p.height+"px"}C||setTimeout(()=>this.updateCompositionElements(!0),0)}}};I=y([M(2,b.IBufferService),M(3,b.IOptionsService),M(4,b.ICoreService),M(5,w.IRenderService)],I),h.CompositionHelper=I},9806:(Q,h)=>{function v(y,M,w){const b=w.getBoundingClientRect(),A=y.getComputedStyle(w),I=parseInt(A.getPropertyValue("padding-left")),C=parseInt(A.getPropertyValue("padding-top"));return[M.clientX-b.left-I,M.clientY-b.top-C]}Object.defineProperty(h,"__esModule",{value:!0}),h.getCoords=h.getCoordsRelativeToElement=void 0,h.getCoordsRelativeToElement=v,h.getCoords=function(y,M,w,b,A,I,C,c,f){if(!I)return;const g=v(y,M,w);return g?(g[0]=Math.ceil((g[0]+(f?C/2:0))/C),g[1]=Math.ceil(g[1]/c),g[0]=Math.min(Math.max(g[0],1),b+(f?1:0)),g[1]=Math.min(Math.max(g[1],1),A),g):void 0}},9504:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.moveToCellSequence=void 0;const y=v(2584);function M(c,f,g,d){const p=c-w(c,g),S=f-w(f,g);return C(Math.abs(p-S)-function(T,_,R){let P=0;const N=T-w(T,R),H=_-w(_,R);for(let $=0;$<Math.abs(N-H);$++){const J="A"===b(T,_)?-1:1;R.buffer.lines.get(N+J*$)?.isWrapped&&P++}return P}(c,f,g),I(b(c,f),d))}function w(c,f){let g=0,d=f.buffer.lines.get(c),p=d?.isWrapped;for(;p&&c>=0&&c<f.rows;)g++,d=f.buffer.lines.get(--c),p=d?.isWrapped;return g}function b(c,f){return c>f?"A":"B"}function A(c,f,g,d,p,S){let D=c,T=f,_="";for(;D!==g||T!==d;)D+=p?1:-1,p&&D>S.cols-1?(_+=S.buffer.translateBufferLineToString(T,!1,c,D),D=0,c=0,T++):!p&&D<0&&(_+=S.buffer.translateBufferLineToString(T,!1,0,c+1),D=S.cols-1,c=D,T--);return _+S.buffer.translateBufferLineToString(T,!1,c,D)}function I(c,f){return y.C0.ESC+(f?"O":"[")+c}function C(c,f){c=Math.floor(c);let g="";for(let d=0;d<c;d++)g+=f;return g}h.moveToCellSequence=function(c,f,g,d){const p=g.buffer.x,S=g.buffer.y;if(!g.buffer.hasScrollback)return _=p,(0===M(R=S,f,H=g,$=d).length?"":C(A(_,R,_,R-w(R,H),!1,H).length,I("D",$)))+M(S,f,g,d)+function(_,R,P,N,H,$){let J;J=M(R,N,H,$).length>0?N-w(N,H):R;const ie=N,oe=function(x,L,j,B,te,ue){let De;return De=M(j,B,te,ue).length>0?B-w(B,te):L,x<j&&De<=B||x>=j&&De<B?"C":"D"}(_,R,P,N,H,$);return C(A(_,J,P,ie,"C"===oe,H).length,I(oe,$))}(p,S,c,f,g,d);var _,R,H,$;let D;if(S===f)return D=p>c?"D":"C",C(Math.abs(p-c),I(D,d));D=S>f?"D":"C";const T=Math.abs(S-f);return C(function(_,R){return R.cols-_}(S>f?c:p,g)+(T-1)*g.cols+1+((S>f?p:c)-1),I(D,d))}},1296:function(Q,h,v){var y=this&&this.__decorate||function(_,R,P,N){var H,$=arguments.length,J=$<3?R:null===N?N=Object.getOwnPropertyDescriptor(R,P):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(_,R,P,N);else for(var ie=_.length-1;ie>=0;ie--)(H=_[ie])&&(J=($<3?H(J):$>3?H(R,P,J):H(R,P))||J);return $>3&&J&&Object.defineProperty(R,P,J),J},M=this&&this.__param||function(_,R){return function(P,N){R(P,N,_)}};Object.defineProperty(h,"__esModule",{value:!0}),h.DomRenderer=void 0;const w=v(9631),b=v(3787),A=v(2223),I=v(6171),C=v(4725),c=v(8055),f=v(8460),g=v(844),d=v(2585),p="xterm-dom-renderer-owner-",S="xterm-focus";let D=1,T=class extends g.Disposable{constructor(_,R,P,N,H,$,J,ie,oe,x){super(),this._element=_,this._screenElement=R,this._viewportElement=P,this._linkifier2=N,this._charSizeService=$,this._optionsService=J,this._bufferService=ie,this._coreBrowserService=oe,this._terminalClass=D++,this._rowElements=[],this._cellToRowElements=[],this.onRequestRedraw=this.register(new f.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add("xterm-rows"),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add("xterm-selection"),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,I.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(x.onChangeColors(L=>this._injectCss(L))),this._injectCss(x.colors),this._rowFactory=H.createInstance(b.DomRendererRowFactory,document),this._element.classList.add(p+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(L=>this._handleLinkHover(L))),this.register(this._linkifier2.onHideLinkUnderline(L=>this._handleLinkLeave(L))),this.register((0,g.toDisposable)(()=>{this._element.classList.remove(p+this._terminalClass),(0,w.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement)}))}_updateDimensions(){const _=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*_,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*_),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/_),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/_),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const P of this._rowElements)P.style.width=`${this.dimensions.css.canvas.width}px`,P.style.height=`${this.dimensions.css.cell.height}px`,P.style.lineHeight=`${this.dimensions.css.cell.height}px`,P.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.textContent=`${this._terminalSelector} .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: ${this.dimensions.css.cell.width}px}`,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(_){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let R=`${this._terminalSelector} .xterm-rows { color: ${_.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px;}`;R+=`${this._terminalSelector} span:not(.${b.BOLD_CLASS}) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.${b.BOLD_CLASS} { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.${b.ITALIC_CLASS} { font-style: italic;}`,R+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",R+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${_.cursor.css};  color: ${_.cursorAccent.css}; } 50% {  background-color: ${_.cursorAccent.css};  color: ${_.cursor.css}; }}`,R+=`${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${b.CURSOR_CLASS}.${b.CURSOR_STYLE_BLOCK_CLASS} { outline: 1px solid ${_.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .xterm-rows.xterm-focus .${b.CURSOR_CLASS}.${b.CURSOR_BLINK_CLASS}:not(.${b.CURSOR_STYLE_BLOCK_CLASS}) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${b.CURSOR_CLASS}.${b.CURSOR_BLINK_CLASS}.${b.CURSOR_STYLE_BLOCK_CLASS} { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${b.CURSOR_CLASS}.${b.CURSOR_STYLE_BLOCK_CLASS} { background-color: ${_.cursor.css}; color: ${_.cursorAccent.css};}${this._terminalSelector} .xterm-rows .${b.CURSOR_CLASS}.${b.CURSOR_STYLE_BAR_CLASS} { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${_.cursor.css} inset;}${this._terminalSelector} .xterm-rows .${b.CURSOR_CLASS}.${b.CURSOR_STYLE_UNDERLINE_CLASS} { box-shadow: 0 -1px 0 ${_.cursor.css} inset;}`,R+=`${this._terminalSelector} .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .xterm-selection div { position: absolute; background-color: ${_.selectionBackgroundOpaque.css};}${this._terminalSelector} .xterm-selection div { position: absolute; background-color: ${_.selectionInactiveBackgroundOpaque.css};}`;for(const[P,N]of _.ansi.entries())R+=`${this._terminalSelector} .xterm-fg-${P} { color: ${N.css}; }${this._terminalSelector} .xterm-bg-${P} { background-color: ${N.css}; }`;R+=`${this._terminalSelector} .xterm-fg-${A.INVERTED_DEFAULT_COLOR} { color: ${c.color.opaque(_.background).css}; }${this._terminalSelector} .xterm-bg-${A.INVERTED_DEFAULT_COLOR} { background-color: ${_.foreground.css}; }`,this._themeStyleElement.textContent=R}handleDevicePixelRatioChange(){this._updateDimensions()}_refreshRowElements(_,R){for(let P=this._rowElements.length;P<=R;P++){const N=document.createElement("div");this._rowContainer.appendChild(N),this._rowElements.push(N)}for(;this._rowElements.length>R;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(_,R){this._refreshRowElements(_,R),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions()}handleBlur(){this._rowContainer.classList.remove(S)}handleFocus(){this._rowContainer.classList.add(S)}handleSelectionChanged(_,R,P){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.handleSelectionChanged(_,R,P),this.renderRows(0,this._bufferService.rows-1),!_||!R)return;const N=_[1]-this._bufferService.buffer.ydisp,H=R[1]-this._bufferService.buffer.ydisp,$=Math.max(N,0),J=Math.min(H,this._bufferService.rows-1);if($>=this._bufferService.rows||J<0)return;const ie=document.createDocumentFragment();if(P){const oe=_[0]>R[0];ie.appendChild(this._createSelectionElement($,oe?R[0]:_[0],oe?_[0]:R[0],J-$+1))}else ie.appendChild(this._createSelectionElement($,N===$?_[0]:0,$===H?R[0]:this._bufferService.cols)),ie.appendChild(this._createSelectionElement($+1,0,this._bufferService.cols,J-$-1)),$!==J&&ie.appendChild(this._createSelectionElement(J,0,H===J?R[0]:this._bufferService.cols));this._selectionContainer.appendChild(ie)}_createSelectionElement(_,R,P,N=1){const H=document.createElement("div");return H.style.height=N*this.dimensions.css.cell.height+"px",H.style.top=_*this.dimensions.css.cell.height+"px",H.style.left=R*this.dimensions.css.cell.width+"px",H.style.width=this.dimensions.css.cell.width*(P-R)+"px",H}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions()}clear(){for(const _ of this._rowElements)_.replaceChildren()}renderRows(_,R){const P=this._bufferService.buffer.ybase+this._bufferService.buffer.y,N=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),H=this._optionsService.rawOptions.cursorBlink;for(let $=_;$<=R;$++){const J=this._rowElements[$],ie=$+this._bufferService.buffer.ydisp,oe=this._bufferService.buffer.lines.get(ie),x=this._optionsService.rawOptions.cursorStyle;this._cellToRowElements[$]&&this._cellToRowElements[$].length===this._bufferService.cols||(this._cellToRowElements[$]=new Int16Array(this._bufferService.cols)),J.replaceChildren(this._rowFactory.createRow(oe,ie,ie===P,x,N,H,this.dimensions.css.cell.width,this._bufferService.cols,this._cellToRowElements[$]))}}get _terminalSelector(){return`.${p}${this._terminalClass}`}_handleLinkHover(_){this._setCellUnderline(_.x1,_.x2,_.y1,_.y2,_.cols,!0)}_handleLinkLeave(_){this._setCellUnderline(_.x1,_.x2,_.y1,_.y2,_.cols,!1)}_setCellUnderline(_,R,P,N,H,$){if(R=this._cellToRowElements[N][R],-1!==(_=this._cellToRowElements[P][_])&&-1!==R)for(;_!==R||P!==N;){const J=this._rowElements[P];if(!J)return;const ie=J.children[_];ie&&(ie.style.textDecoration=$?"underline":"none"),++_>=H&&(_=0,P++)}}};T=y([M(4,d.IInstantiationService),M(5,C.ICharSizeService),M(6,d.IOptionsService),M(7,d.IBufferService),M(8,C.ICoreBrowserService),M(9,C.IThemeService)],T),h.DomRenderer=T},3787:function(Q,h,v){var y=this&&this.__decorate||function(D,T,_,R){var P,N=arguments.length,H=N<3?T:null===R?R=Object.getOwnPropertyDescriptor(T,_):R;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(D,T,_,R);else for(var $=D.length-1;$>=0;$--)(P=D[$])&&(H=(N<3?P(H):N>3?P(T,_,H):P(T,_))||H);return N>3&&H&&Object.defineProperty(T,_,H),H},M=this&&this.__param||function(D,T){return function(_,R){T(_,R,D)}};Object.defineProperty(h,"__esModule",{value:!0}),h.DomRendererRowFactory=h.CURSOR_STYLE_UNDERLINE_CLASS=h.CURSOR_STYLE_BAR_CLASS=h.CURSOR_STYLE_BLOCK_CLASS=h.CURSOR_BLINK_CLASS=h.CURSOR_CLASS=h.STRIKETHROUGH_CLASS=h.UNDERLINE_CLASS=h.ITALIC_CLASS=h.DIM_CLASS=h.BOLD_CLASS=void 0;const w=v(2223),b=v(643),A=v(511),I=v(2585),C=v(8055),c=v(4725),f=v(4269),g=v(6171),d=v(3734);h.BOLD_CLASS="xterm-bold",h.DIM_CLASS="xterm-dim",h.ITALIC_CLASS="xterm-italic",h.UNDERLINE_CLASS="xterm-underline",h.STRIKETHROUGH_CLASS="xterm-strikethrough",h.CURSOR_CLASS="xterm-cursor",h.CURSOR_BLINK_CLASS="xterm-cursor-blink",h.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",h.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",h.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";let p=class{constructor(D,T,_,R,P,N,H){this._document=D,this._characterJoinerService=T,this._optionsService=_,this._coreBrowserService=R,this._coreService=P,this._decorationService=N,this._themeService=H,this._workCell=new A.CellData,this._columnSelectMode=!1}handleSelectionChanged(D,T,_){this._selectionStart=D,this._selectionEnd=T,this._columnSelectMode=_}createRow(D,T,_,R,P,N,H,$,J){const ie=this._document.createDocumentFragment(),oe=this._characterJoinerService.getJoinedCharacters(T);let x=0;for(let te=Math.min(D.length,$)-1;te>=0;te--)if(D.loadCell(te,this._workCell).getCode()!==b.NULL_CELL_CODE||_&&te===P){x=te+1;break}const L=this._themeService.colors;let j=-1,B=0;for(;B<x;B++){D.loadCell(B,this._workCell);let te=this._workCell.getWidth();if(0===te){J[B]=j;continue}let ue=!1,De=B,re=this._workCell;if(oe.length>0&&B===oe[0][0]){ue=!0;const qe=oe.shift();re=new f.JoinedCellData(this._workCell,D.translateToString(!0,qe[0],qe[1]),qe[1]-qe[0]),De=qe[1]-1,te=re.getWidth()}const ae=this._document.createElement("span");if(te>1&&(ae.style.width=H*te+"px"),ue&&(ae.style.display="inline",P>=B&&P<=De&&(P=B)),!this._coreService.isCursorHidden&&_&&B===P)switch(ae.classList.add(h.CURSOR_CLASS),N&&ae.classList.add(h.CURSOR_BLINK_CLASS),R){case"bar":ae.classList.add(h.CURSOR_STYLE_BAR_CLASS);break;case"underline":ae.classList.add(h.CURSOR_STYLE_UNDERLINE_CLASS);break;default:ae.classList.add(h.CURSOR_STYLE_BLOCK_CLASS)}if(re.isBold()&&ae.classList.add(h.BOLD_CLASS),re.isItalic()&&ae.classList.add(h.ITALIC_CLASS),re.isDim()&&ae.classList.add(h.DIM_CLASS),ae.textContent=re.isInvisible()?b.WHITESPACE_CELL_CHAR:re.getChars()||b.WHITESPACE_CELL_CHAR,re.isUnderline()&&(ae.classList.add(`${h.UNDERLINE_CLASS}-${re.extended.underlineStyle}`)," "===ae.textContent&&(ae.textContent="\xa0"),!re.isUnderlineColorDefault()))if(re.isUnderlineColorRGB())ae.style.textDecorationColor=`rgb(${d.AttributeData.toColorRGB(re.getUnderlineColor()).join(",")})`;else{let qe=re.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&re.isBold()&&qe<8&&(qe+=8),ae.style.textDecorationColor=L.ansi[qe].css}re.isStrikethrough()&&ae.classList.add(h.STRIKETHROUGH_CLASS);let U=re.getFgColor(),V=re.getFgColorMode(),z=re.getBgColor(),K=re.getBgColorMode();const se=!!re.isInverse();if(se){const qe=U;U=z,z=qe;const xf=V;V=K,K=xf}let de,le,vt=!1;this._decorationService.forEachDecorationAtCell(B,T,void 0,qe=>{"top"!==qe.options.layer&&vt||(qe.backgroundColorRGB&&(K=50331648,z=qe.backgroundColorRGB.rgba>>8&16777215,de=qe.backgroundColorRGB),qe.foregroundColorRGB&&(V=50331648,U=qe.foregroundColorRGB.rgba>>8&16777215,le=qe.foregroundColorRGB),vt="top"===qe.options.layer)});const lt=this._isCellInSelection(B,T);let ft;switch(vt||L.selectionForeground&&lt&&(V=50331648,U=L.selectionForeground.rgba>>8&16777215,le=L.selectionForeground),lt&&(de=this._coreBrowserService.isFocused?L.selectionBackgroundOpaque:L.selectionInactiveBackgroundOpaque,vt=!0),vt&&ae.classList.add("xterm-decoration-top"),K){case 16777216:case 33554432:ft=L.ansi[z],ae.classList.add(`xterm-bg-${z}`);break;case 50331648:ft=C.rgba.toColor(z>>16,z>>8&255,255&z),this._addStyle(ae,`background-color:#${S((z>>>0).toString(16),"0",6)}`);break;default:se?(ft=L.foreground,ae.classList.add(`xterm-bg-${w.INVERTED_DEFAULT_COLOR}`)):ft=L.background}switch(de||re.isDim()&&(de=C.color.multiplyOpacity(ft,.5)),V){case 16777216:case 33554432:re.isBold()&&U<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(U+=8),this._applyMinimumContrast(ae,ft,L.ansi[U],re,de,void 0)||ae.classList.add(`xterm-fg-${U}`);break;case 50331648:const qe=C.rgba.toColor(U>>16&255,U>>8&255,255&U);this._applyMinimumContrast(ae,ft,qe,re,de,le)||this._addStyle(ae,`color:#${S(U.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(ae,ft,L.foreground,re,de,void 0)||se&&ae.classList.add(`xterm-fg-${w.INVERTED_DEFAULT_COLOR}`)}ie.appendChild(ae),J[B]=++j,B=De}return B<$-1&&J.subarray(B).fill(++j),ie}_applyMinimumContrast(D,T,_,R,P,N){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,g.excludeFromContrastRatioDemands)(R.getCode()))return!1;let H;return P||N||(H=this._themeService.colors.contrastCache.getColor(T.rgba,_.rgba)),void 0===H&&(H=C.color.ensureContrastRatio(P||T,N||_,this._optionsService.rawOptions.minimumContrastRatio),this._themeService.colors.contrastCache.setColor((P||T).rgba,(N||_).rgba,H??null)),!!H&&(this._addStyle(D,`color:${H.css}`),!0)}_addStyle(D,T){D.setAttribute("style",`${D.getAttribute("style")||""}${T};`)}_isCellInSelection(D,T){const _=this._selectionStart,R=this._selectionEnd;return!(!_||!R)&&(this._columnSelectMode?_[0]<=R[0]?D>=_[0]&&T>=_[1]&&D<R[0]&&T<=R[1]:D<_[0]&&T>=_[1]&&D>=R[0]&&T<=R[1]:T>_[1]&&T<R[1]||_[1]===R[1]&&T===_[1]&&D>=_[0]&&D<R[0]||_[1]<R[1]&&T===R[1]&&D<R[0]||_[1]<R[1]&&T===_[1]&&D>=_[0])}};function S(D,T,_){for(;D.length<_;)D=T+D;return D}p=y([M(1,c.ICharacterJoinerService),M(2,I.IOptionsService),M(3,c.ICoreBrowserService),M(4,I.ICoreService),M(5,I.IDecorationService),M(6,c.IThemeService)],p),h.DomRendererRowFactory=p},2223:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TEXT_BASELINE=h.DIM_OPACITY=h.INVERTED_DEFAULT_COLOR=void 0;const y=v(6114);h.INVERTED_DEFAULT_COLOR=257,h.DIM_OPACITY=.5,h.TEXT_BASELINE=y.isFirefox||y.isLegacyEdge?"bottom":"ideographic"},6171:(Q,h)=>{function v(y){return 57508<=y&&y<=57558}Object.defineProperty(h,"__esModule",{value:!0}),h.createRenderDimensions=h.excludeFromContrastRatioDemands=h.isRestrictedPowerlineGlyph=h.isPowerlineGlyph=h.throwIfFalsy=void 0,h.throwIfFalsy=function(y){if(!y)throw new Error("value must not be falsy");return y},h.isPowerlineGlyph=v,h.isRestrictedPowerlineGlyph=function(y){return 57520<=y&&y<=57527},h.excludeFromContrastRatioDemands=function(y){return v(y)||9472<=(M=y)&&M<=9631;var M},h.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.SelectionModel=void 0,h.SelectionModel=class{constructor(v){this._bufferService=v,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const v=this.selectionStart[0]+this.selectionStartLength;return v>this._bufferService.cols?v%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(v/this._bufferService.cols)-1]:[v%this._bufferService.cols,this.selectionStart[1]+Math.floor(v/this._bufferService.cols)]:[v,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const v=this.selectionStart[0]+this.selectionStartLength;return v>this._bufferService.cols?[v%this._bufferService.cols,this.selectionStart[1]+Math.floor(v/this._bufferService.cols)]:[Math.max(v,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const v=this.selectionStart,y=this.selectionEnd;return!(!v||!y)&&(v[1]>y[1]||v[1]===y[1]&&v[0]>y[0])}handleTrim(v){return this.selectionStart&&(this.selectionStart[1]-=v),this.selectionEnd&&(this.selectionEnd[1]-=v),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(Q,h,v){var y=this&&this.__decorate||function(c,f,g,d){var p,S=arguments.length,D=S<3?f:null===d?d=Object.getOwnPropertyDescriptor(f,g):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(c,f,g,d);else for(var T=c.length-1;T>=0;T--)(p=c[T])&&(D=(S<3?p(D):S>3?p(f,g,D):p(f,g))||D);return S>3&&D&&Object.defineProperty(f,g,D),D},M=this&&this.__param||function(c,f){return function(g,d){f(g,d,c)}};Object.defineProperty(h,"__esModule",{value:!0}),h.CharSizeService=void 0;const w=v(2585),b=v(8460),A=v(844);let I=class extends A.Disposable{constructor(c,f,g){super(),this._optionsService=g,this.width=0,this.height=0,this._onCharSizeChange=this.register(new b.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new C(c,f,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){const c=this._measureStrategy.measure();c.width===this.width&&c.height===this.height||(this.width=c.width,this.height=c.height,this._onCharSizeChange.fire())}};I=y([M(2,w.IOptionsService)],I),h.CharSizeService=I;class C{constructor(f,g,d){this._document=f,this._parentElement=g,this._optionsService=d,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const f=this._measureElement.getBoundingClientRect();return 0!==f.width&&0!==f.height&&(this._result.width=f.width,this._result.height=Math.ceil(f.height)),this._result}}},4269:function(Q,h,v){var y=this&&this.__decorate||function(f,g,d,p){var S,D=arguments.length,T=D<3?g:null===p?p=Object.getOwnPropertyDescriptor(g,d):p;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(f,g,d,p);else for(var _=f.length-1;_>=0;_--)(S=f[_])&&(T=(D<3?S(T):D>3?S(g,d,T):S(g,d))||T);return D>3&&T&&Object.defineProperty(g,d,T),T},M=this&&this.__param||function(f,g){return function(d,p){g(d,p,f)}};Object.defineProperty(h,"__esModule",{value:!0}),h.CharacterJoinerService=h.JoinedCellData=void 0;const w=v(3734),b=v(643),A=v(511),I=v(2585);h.JoinedCellData=class C extends w.AttributeData{constructor(g,d,p){super(),this.content=0,this.combinedData="",this.fg=g.fg,this.bg=g.bg,this.combinedData=d,this._width=p}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(g){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}};let c=class Uw{constructor(g){this._bufferService=g,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new A.CellData}register(g){const d={id:this._nextCharacterJoinerId++,handler:g};return this._characterJoiners.push(d),d.id}deregister(g){for(let d=0;d<this._characterJoiners.length;d++)if(this._characterJoiners[d].id===g)return this._characterJoiners.splice(d,1),!0;return!1}getJoinedCharacters(g){if(0===this._characterJoiners.length)return[];const d=this._bufferService.buffer.lines.get(g);if(!d||0===d.length)return[];const p=[],S=d.translateToString(!0);let D=0,T=0,_=0,R=d.getFg(0),P=d.getBg(0);for(let N=0;N<d.getTrimmedLength();N++)if(d.loadCell(N,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==R||this._workCell.bg!==P){if(N-D>1){const H=this._getJoinedRanges(S,_,T,d,D);for(let $=0;$<H.length;$++)p.push(H[$])}D=N,_=T,R=this._workCell.fg,P=this._workCell.bg}T+=this._workCell.getChars().length||b.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-D>1){const N=this._getJoinedRanges(S,_,T,d,D);for(let H=0;H<N.length;H++)p.push(N[H])}return p}_getJoinedRanges(g,d,p,S,D){const T=g.substring(d,p);let _=[];try{_=this._characterJoiners[0].handler(T)}catch(R){console.error(R)}for(let R=1;R<this._characterJoiners.length;R++)try{const P=this._characterJoiners[R].handler(T);for(let N=0;N<P.length;N++)Uw._mergeRanges(_,P[N])}catch(P){console.error(P)}return this._stringRangesToCellRanges(_,S,D),_}_stringRangesToCellRanges(g,d,p){let S=0,D=!1,T=0,_=g[S];if(_){for(let R=p;R<this._bufferService.cols;R++){const P=d.getWidth(R),N=d.getString(R).length||b.WHITESPACE_CELL_CHAR.length;if(0!==P){if(!D&&_[0]<=T&&(_[0]=R,D=!0),_[1]<=T){if(_[1]=R,_=g[++S],!_)break;_[0]<=T?(_[0]=R,D=!0):D=!1}T+=N}}_&&(_[1]=this._bufferService.cols)}}static _mergeRanges(g,d){let p=!1;for(let S=0;S<g.length;S++){const D=g[S];if(p){if(d[1]<=D[0])return g[S-1][1]=d[1],g;if(d[1]<=D[1])return g[S-1][1]=Math.max(d[1],D[1]),g.splice(S,1),g;g.splice(S,1),S--}else{if(d[1]<=D[0])return g.splice(S,0,d),g;if(d[1]<=D[1])return D[0]=Math.min(d[0],D[0]),g;d[0]<D[1]&&(D[0]=Math.min(d[0],D[0]),p=!0)}}return p?g[g.length-1][1]=d[1]:g.push(d),g}};c=y([M(0,I.IBufferService)],c),h.CharacterJoinerService=c},5114:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CoreBrowserService=void 0,h.CoreBrowserService=class{constructor(v,y){this._textarea=v,this.window=y,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return void 0===this._cachedIsFocused&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(Q,h,v){var y=this&&this.__decorate||function(I,C,c,f){var g,d=arguments.length,p=d<3?C:null===f?f=Object.getOwnPropertyDescriptor(C,c):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(I,C,c,f);else for(var S=I.length-1;S>=0;S--)(g=I[S])&&(p=(d<3?g(p):d>3?g(C,c,p):g(C,c))||p);return d>3&&p&&Object.defineProperty(C,c,p),p},M=this&&this.__param||function(I,C){return function(c,f){C(c,f,I)}};Object.defineProperty(h,"__esModule",{value:!0}),h.MouseService=void 0;const w=v(4725),b=v(9806);let A=class{constructor(I,C){this._renderService=I,this._charSizeService=C}getCoords(I,C,c,f,g){return(0,b.getCoords)(window,I,C,c,f,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,g)}getMouseReportCoords(I,C){const c=(0,b.getCoordsRelativeToElement)(window,I,C);if(!(!this._charSizeService.hasValidSize||c[0]<0||c[1]<0||c[0]>=this._renderService.dimensions.css.canvas.width||c[1]>=this._renderService.dimensions.css.canvas.height))return{col:Math.floor(c[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(c[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(c[0]),y:Math.floor(c[1])}}};A=y([M(0,w.IRenderService),M(1,w.ICharSizeService)],A),h.MouseService=A},3230:function(Q,h,v){var y=this&&this.__decorate||function(p,S,D,T){var _,R=arguments.length,P=R<3?S:null===T?T=Object.getOwnPropertyDescriptor(S,D):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(p,S,D,T);else for(var N=p.length-1;N>=0;N--)(_=p[N])&&(P=(R<3?_(P):R>3?_(S,D,P):_(S,D))||P);return R>3&&P&&Object.defineProperty(S,D,P),P},M=this&&this.__param||function(p,S){return function(D,T){S(D,T,p)}};Object.defineProperty(h,"__esModule",{value:!0}),h.RenderService=void 0;const w=v(6193),b=v(8460),A=v(844),I=v(5596),C=v(3656),c=v(2585),f=v(4725),g=v(7226);let d=class extends A.Disposable{constructor(p,S,D,T,_,R,P,N){if(super(),this._rowCount=p,this._charSizeService=T,this._pausedResizeTask=new g.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new b.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new b.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new b.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new b.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this.register({dispose:()=>{var H;return null===(H=this._renderer)||void 0===H?void 0:H.dispose()}}),this._renderDebouncer=new w.RenderDebouncer(P.window,(H,$)=>this._renderRows(H,$)),this.register(this._renderDebouncer),this._screenDprMonitor=new I.ScreenDprMonitor(P.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(R.onResize(()=>this._fullRefresh())),this.register(R.buffers.onBufferActivate(()=>{var H;return null===(H=this._renderer)||void 0===H?void 0:H.clear()})),this.register(D.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(_.onDecorationRegistered(()=>this._fullRefresh())),this.register(_.onDecorationRemoved(()=>this._fullRefresh())),this.register(D.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(R.cols,R.rows),this._fullRefresh()})),this.register(D.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(R.buffer.y,R.buffer.y,!0))),this.register((0,C.addDisposableDomListener)(P.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(N.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in P.window){const H=new P.window.IntersectionObserver($=>this._handleIntersectionChange($[$.length-1]),{threshold:0});H.observe(S),this.register({dispose:()=>H.disconnect()})}}get dimensions(){return this._renderer.dimensions}_handleIntersectionChange(p){this._isPaused=void 0===p.isIntersecting?0===p.intersectionRatio:!p.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(p,S,D=!1){this._isPaused?this._needsFullRefresh=!0:(D||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(p,S,this._rowCount))}_renderRows(p,S){this._renderer&&(this._renderer.renderRows(p,S),this._needsSelectionRefresh&&(this._renderer.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:p,end:S}),this._onRender.fire({start:p,end:S}),this._isNextRenderRedrawOnly=!0)}resize(p,S){this._rowCount=S,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer&&(this._renderer.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions))}hasRenderer(){return!!this._renderer}setRenderer(p){var S;null===(S=this._renderer)||void 0===S||S.dispose(),this._renderer=p,this._renderer.onRequestRedraw(D=>this.refreshRows(D.start,D.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(p){return this._renderDebouncer.addRefreshCallback(p)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var p,S;this._renderer&&(null===(S=(p=this._renderer).clearTextureAtlas)||void 0===S||S.call(p),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer&&(this._renderer.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(p,S){this._renderer&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.handleResize(p,S)):this._renderer.handleResize(p,S),this._fullRefresh())}handleCharSizeChanged(){var p;null===(p=this._renderer)||void 0===p||p.handleCharSizeChanged()}handleBlur(){var p;null===(p=this._renderer)||void 0===p||p.handleBlur()}handleFocus(){var p;null===(p=this._renderer)||void 0===p||p.handleFocus()}handleSelectionChanged(p,S,D){var T;this._selectionState.start=p,this._selectionState.end=S,this._selectionState.columnSelectMode=D,null===(T=this._renderer)||void 0===T||T.handleSelectionChanged(p,S,D)}handleCursorMove(){var p;null===(p=this._renderer)||void 0===p||p.handleCursorMove()}clear(){var p;null===(p=this._renderer)||void 0===p||p.clear()}};d=y([M(2,c.IOptionsService),M(3,f.ICharSizeService),M(4,c.IDecorationService),M(5,c.IBufferService),M(6,f.ICoreBrowserService),M(7,f.IThemeService)],d),h.RenderService=d},9312:function(Q,h,v){var y=this&&this.__decorate||function(_,R,P,N){var H,$=arguments.length,J=$<3?R:null===N?N=Object.getOwnPropertyDescriptor(R,P):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(_,R,P,N);else for(var ie=_.length-1;ie>=0;ie--)(H=_[ie])&&(J=($<3?H(J):$>3?H(R,P,J):H(R,P))||J);return $>3&&J&&Object.defineProperty(R,P,J),J},M=this&&this.__param||function(_,R){return function(P,N){R(P,N,_)}};Object.defineProperty(h,"__esModule",{value:!0}),h.SelectionService=void 0;const w=v(6114),b=v(456),A=v(511),I=v(8460),C=v(4725),c=v(2585),f=v(9806),g=v(9504),d=v(844),p=v(4841),S=String.fromCharCode(160),D=new RegExp(S,"g");let T=class extends d.Disposable{constructor(_,R,P,N,H,$,J,ie,oe){super(),this._element=_,this._screenElement=R,this._linkifier=P,this._bufferService=N,this._coreService=H,this._mouseService=$,this._optionsService=J,this._renderService=ie,this._coreBrowserService=oe,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new A.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new I.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new I.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new I.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new I.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=x=>this._handleMouseMove(x),this._mouseUpListener=x=>this._handleMouseUp(x),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(x=>this._handleTrim(x)),this.register(this._bufferService.buffers.onBufferActivate(x=>this._handleBufferActivate(x))),this.enable(),this._model=new b.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,d.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const _=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;return!(!_||!R||_[0]===R[0]&&_[1]===R[1])}get selectionText(){const _=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;if(!_||!R)return"";const P=this._bufferService.buffer,N=[];if(3===this._activeSelectionMode){if(_[0]===R[0])return"";const H=_[0]<R[0]?_[0]:R[0],$=_[0]<R[0]?R[0]:_[0];for(let J=_[1];J<=R[1];J++){const ie=P.translateBufferLineToString(J,!0,H,$);N.push(ie)}}else{N.push(P.translateBufferLineToString(_[1],!0,_[0],_[1]===R[1]?R[0]:void 0));for(let $=_[1]+1;$<=R[1]-1;$++){const J=P.lines.get($),ie=P.translateBufferLineToString($,!0);J?.isWrapped?N[N.length-1]+=ie:N.push(ie)}if(_[1]!==R[1]){const $=P.lines.get(R[1]),J=P.translateBufferLineToString(R[1],!0,0,R[0]);$&&$.isWrapped?N[N.length-1]+=J:N.push(J)}}return N.map(H=>H.replace(D," ")).join(w.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(_){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),w.isLinux&&_&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(_){const R=this._getMouseBufferCoords(_),P=this._model.finalSelectionStart,N=this._model.finalSelectionEnd;return!!(P&&N&&R)&&this._areCoordsInSelection(R,P,N)}isCellInSelection(_,R){const P=this._model.finalSelectionStart,N=this._model.finalSelectionEnd;return!(!P||!N)&&this._areCoordsInSelection([_,R],P,N)}_areCoordsInSelection(_,R,P){return _[1]>R[1]&&_[1]<P[1]||R[1]===P[1]&&_[1]===R[1]&&_[0]>=R[0]&&_[0]<P[0]||R[1]<P[1]&&_[1]===P[1]&&_[0]<P[0]||R[1]<P[1]&&_[1]===R[1]&&_[0]>=R[0]}_selectWordAtCursor(_,R){var P,N;const H=null===(N=null===(P=this._linkifier.currentLink)||void 0===P?void 0:P.link)||void 0===N?void 0:N.range;if(H)return this._model.selectionStart=[H.start.x-1,H.start.y-1],this._model.selectionStartLength=(0,p.getRangeLength)(H,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const $=this._getMouseBufferCoords(_);return!!$&&(this._selectWordAt($,R),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(_,R){this._model.clearSelection(),_=Math.max(_,0),R=Math.min(R,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,_],this._model.selectionEnd=[this._bufferService.cols,R],this.refresh(),this._onSelectionChange.fire()}_handleTrim(_){this._model.handleTrim(_)&&this.refresh()}_getMouseBufferCoords(_){const R=this._mouseService.getCoords(_,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(R)return R[0]--,R[1]--,R[1]+=this._bufferService.buffer.ydisp,R}_getMouseEventScrollAmount(_){let R=(0,f.getCoordsRelativeToElement)(this._coreBrowserService.window,_,this._screenElement)[1];const P=this._renderService.dimensions.css.canvas.height;return R>=0&&R<=P?0:(R>P&&(R-=P),R=Math.min(Math.max(R,-50),50),R/=50,R/Math.abs(R)+Math.round(14*R))}shouldForceSelection(_){return w.isMac?_.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:_.shiftKey}handleMouseDown(_){if(this._mouseDownTimeStamp=_.timeStamp,(2!==_.button||!this.hasSelection)&&0===_.button){if(!this._enabled){if(!this.shouldForceSelection(_))return;_.stopPropagation()}_.preventDefault(),this._dragScrollAmount=0,this._enabled&&_.shiftKey?this._handleIncrementalClick(_):1===_.detail?this._handleSingleClick(_):2===_.detail?this._handleDoubleClick(_):3===_.detail&&this._handleTripleClick(_),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(_){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(_))}_handleSingleClick(_){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(_)?3:0,this._model.selectionStart=this._getMouseBufferCoords(_),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const R=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);R&&R.length!==this._model.selectionStart[0]&&0===R.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_handleDoubleClick(_){this._selectWordAtCursor(_,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(_){const R=this._getMouseBufferCoords(_);R&&(this._activeSelectionMode=2,this._selectLineAt(R[1]))}shouldColumnSelect(_){return _.altKey&&!(w.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(_){if(_.stopImmediatePropagation(),!this._model.selectionStart)return;const R=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(_),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(_),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const P=this._bufferService.buffer;if(this._model.selectionEnd[1]<P.lines.length){const N=P.lines.get(this._model.selectionEnd[1]);N&&0===N.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}R&&R[0]===this._model.selectionEnd[0]&&R[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const _=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(_.ydisp+this._bufferService.rows,_.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=_.ydisp),this.refresh()}}_handleMouseUp(_){const R=_.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&R<500&&_.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const P=this._mouseService.getCoords(_,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(P&&void 0!==P[0]&&void 0!==P[1]){const N=(0,g.moveToCellSequence)(P[0]-1,P[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(N,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const _=this._model.finalSelectionStart,R=this._model.finalSelectionEnd,P=!(!_||!R||_[0]===R[0]&&_[1]===R[1]);P?_&&R&&(this._oldSelectionStart&&this._oldSelectionEnd&&_[0]===this._oldSelectionStart[0]&&_[1]===this._oldSelectionStart[1]&&R[0]===this._oldSelectionEnd[0]&&R[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(_,R,P)):this._oldHasSelection&&this._fireOnSelectionChange(_,R,P)}_fireOnSelectionChange(_,R,P){this._oldSelectionStart=_,this._oldSelectionEnd=R,this._oldHasSelection=P,this._onSelectionChange.fire()}_handleBufferActivate(_){this.clearSelection(),this._trimListener.dispose(),this._trimListener=_.activeBuffer.lines.onTrim(R=>this._handleTrim(R))}_convertViewportColToCharacterIndex(_,R){let P=R;for(let N=0;R>=N;N++){const H=_.loadCell(N,this._workCell).getChars().length;0===this._workCell.getWidth()?P--:H>1&&R!==N&&(P+=H-1)}return P}setSelection(_,R,P){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[_,R],this._model.selectionStartLength=P,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(_){this._isClickInSelection(_)||(this._selectWordAtCursor(_,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(_,R,P=!0,N=!0){if(_[0]>=this._bufferService.cols)return;const H=this._bufferService.buffer,$=H.lines.get(_[1]);if(!$)return;const J=H.translateBufferLineToString(_[1],!1);let ie=this._convertViewportColToCharacterIndex($,_[0]),oe=ie;const x=_[0]-ie;let L=0,j=0,B=0,te=0;if(" "===J.charAt(ie)){for(;ie>0&&" "===J.charAt(ie-1);)ie--;for(;oe<J.length&&" "===J.charAt(oe+1);)oe++}else{let re=_[0],ae=_[0];0===$.getWidth(re)&&(L++,re--),2===$.getWidth(ae)&&(j++,ae++);const U=$.getString(ae).length;for(U>1&&(te+=U-1,oe+=U-1);re>0&&ie>0&&!this._isCharWordSeparator($.loadCell(re-1,this._workCell));){$.loadCell(re-1,this._workCell);const V=this._workCell.getChars().length;0===this._workCell.getWidth()?(L++,re--):V>1&&(B+=V-1,ie-=V-1),ie--,re--}for(;ae<$.length&&oe+1<J.length&&!this._isCharWordSeparator($.loadCell(ae+1,this._workCell));){$.loadCell(ae+1,this._workCell);const V=this._workCell.getChars().length;2===this._workCell.getWidth()?(j++,ae++):V>1&&(te+=V-1,oe+=V-1),oe++,ae++}}oe++;let ue=ie+x-L+B,De=Math.min(this._bufferService.cols,oe-ie+L+j-B-te);if(R||""!==J.slice(ie,oe).trim()){if(P&&0===ue&&32!==$.getCodePoint(0)){const re=H.lines.get(_[1]-1);if(re&&$.isWrapped&&32!==re.getCodePoint(this._bufferService.cols-1)){const ae=this._getWordAt([this._bufferService.cols-1,_[1]-1],!1,!0,!1);if(ae){const U=this._bufferService.cols-ae.start;ue-=U,De+=U}}}if(N&&ue+De===this._bufferService.cols&&32!==$.getCodePoint(this._bufferService.cols-1)){const re=H.lines.get(_[1]+1);if(re?.isWrapped&&32!==re.getCodePoint(0)){const ae=this._getWordAt([0,_[1]+1],!1,!1,!0);ae&&(De+=ae.length)}}return{start:ue,length:De}}}_selectWordAt(_,R){const P=this._getWordAt(_,R);if(P){for(;P.start<0;)P.start+=this._bufferService.cols,_[1]--;this._model.selectionStart=[P.start,_[1]],this._model.selectionStartLength=P.length}}_selectToWordAt(_){const R=this._getWordAt(_,!0);if(R){let P=_[1];for(;R.start<0;)R.start+=this._bufferService.cols,P--;if(!this._model.areSelectionValuesReversed())for(;R.start+R.length>this._bufferService.cols;)R.length-=this._bufferService.cols,P++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?R.start:R.start+R.length,P]}}_isCharWordSeparator(_){return 0!==_.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(_.getChars())>=0}_selectLineAt(_){const R=this._bufferService.buffer.getWrappedRangeForLine(_),P={start:{x:0,y:R.first},end:{x:this._bufferService.cols-1,y:R.last}};this._model.selectionStart=[0,R.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,p.getRangeLength)(P,this._bufferService.cols)}};T=y([M(3,c.IBufferService),M(4,c.ICoreService),M(5,C.IMouseService),M(6,c.IOptionsService),M(7,C.IRenderService),M(8,C.ICoreBrowserService)],T),h.SelectionService=T},4725:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.IThemeService=h.ICharacterJoinerService=h.ISelectionService=h.IRenderService=h.IMouseService=h.ICoreBrowserService=h.ICharSizeService=void 0;const y=v(8343);h.ICharSizeService=(0,y.createDecorator)("CharSizeService"),h.ICoreBrowserService=(0,y.createDecorator)("CoreBrowserService"),h.IMouseService=(0,y.createDecorator)("MouseService"),h.IRenderService=(0,y.createDecorator)("RenderService"),h.ISelectionService=(0,y.createDecorator)("SelectionService"),h.ICharacterJoinerService=(0,y.createDecorator)("CharacterJoinerService"),h.IThemeService=(0,y.createDecorator)("ThemeService")},6731:function(Q,h,v){var y=this&&this.__decorate||function(T,_,R,P){var N,H=arguments.length,$=H<3?_:null===P?P=Object.getOwnPropertyDescriptor(_,R):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(T,_,R,P);else for(var J=T.length-1;J>=0;J--)(N=T[J])&&($=(H<3?N($):H>3?N(_,R,$):N(_,R))||$);return H>3&&$&&Object.defineProperty(_,R,$),$},M=this&&this.__param||function(T,_){return function(R,P){_(R,P,T)}};Object.defineProperty(h,"__esModule",{value:!0}),h.ThemeService=h.DEFAULT_ANSI_COLORS=void 0;const w=v(7239),b=v(8055),A=v(8460),I=v(844),C=v(2585),c=b.css.toColor("#ffffff"),f=b.css.toColor("#000000"),g=b.css.toColor("#ffffff"),d=b.css.toColor("#000000"),p={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};h.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const T=[b.css.toColor("#2e3436"),b.css.toColor("#cc0000"),b.css.toColor("#4e9a06"),b.css.toColor("#c4a000"),b.css.toColor("#3465a4"),b.css.toColor("#75507b"),b.css.toColor("#06989a"),b.css.toColor("#d3d7cf"),b.css.toColor("#555753"),b.css.toColor("#ef2929"),b.css.toColor("#8ae234"),b.css.toColor("#fce94f"),b.css.toColor("#729fcf"),b.css.toColor("#ad7fa8"),b.css.toColor("#34e2e2"),b.css.toColor("#eeeeec")],_=[0,95,135,175,215,255];for(let R=0;R<216;R++){const P=_[R/36%6|0],N=_[R/6%6|0],H=_[R%6];T.push({css:b.channels.toCss(P,N,H),rgba:b.channels.toRgba(P,N,H)})}for(let R=0;R<24;R++){const P=8+10*R;T.push({css:b.channels.toCss(P,P,P),rgba:b.channels.toRgba(P,P,P)})}return T})());let S=class extends I.Disposable{constructor(T){super(),this._optionsService=T,this._onChangeColors=this.register(new A.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._contrastCache=new w.ColorContrastCache,this._colors={foreground:c,background:f,cursor:g,cursorAccent:d,selectionForeground:void 0,selectionBackgroundTransparent:p,selectionBackgroundOpaque:b.color.blend(f,p),selectionInactiveBackgroundTransparent:p,selectionInactiveBackgroundOpaque:b.color.blend(f,p),ansi:h.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(T={}){const _=this._colors;if(_.foreground=D(T.foreground,c),_.background=D(T.background,f),_.cursor=D(T.cursor,g),_.cursorAccent=D(T.cursorAccent,d),_.selectionBackgroundTransparent=D(T.selectionBackground,p),_.selectionBackgroundOpaque=b.color.blend(_.background,_.selectionBackgroundTransparent),_.selectionInactiveBackgroundTransparent=D(T.selectionInactiveBackground,_.selectionBackgroundTransparent),_.selectionInactiveBackgroundOpaque=b.color.blend(_.background,_.selectionInactiveBackgroundTransparent),_.selectionForeground=T.selectionForeground?D(T.selectionForeground,b.NULL_COLOR):void 0,_.selectionForeground===b.NULL_COLOR&&(_.selectionForeground=void 0),b.color.isOpaque(_.selectionBackgroundTransparent)&&(_.selectionBackgroundTransparent=b.color.opacity(_.selectionBackgroundTransparent,.3)),b.color.isOpaque(_.selectionInactiveBackgroundTransparent)&&(_.selectionInactiveBackgroundTransparent=b.color.opacity(_.selectionInactiveBackgroundTransparent,.3)),_.ansi=h.DEFAULT_ANSI_COLORS.slice(),_.ansi[0]=D(T.black,h.DEFAULT_ANSI_COLORS[0]),_.ansi[1]=D(T.red,h.DEFAULT_ANSI_COLORS[1]),_.ansi[2]=D(T.green,h.DEFAULT_ANSI_COLORS[2]),_.ansi[3]=D(T.yellow,h.DEFAULT_ANSI_COLORS[3]),_.ansi[4]=D(T.blue,h.DEFAULT_ANSI_COLORS[4]),_.ansi[5]=D(T.magenta,h.DEFAULT_ANSI_COLORS[5]),_.ansi[6]=D(T.cyan,h.DEFAULT_ANSI_COLORS[6]),_.ansi[7]=D(T.white,h.DEFAULT_ANSI_COLORS[7]),_.ansi[8]=D(T.brightBlack,h.DEFAULT_ANSI_COLORS[8]),_.ansi[9]=D(T.brightRed,h.DEFAULT_ANSI_COLORS[9]),_.ansi[10]=D(T.brightGreen,h.DEFAULT_ANSI_COLORS[10]),_.ansi[11]=D(T.brightYellow,h.DEFAULT_ANSI_COLORS[11]),_.ansi[12]=D(T.brightBlue,h.DEFAULT_ANSI_COLORS[12]),_.ansi[13]=D(T.brightMagenta,h.DEFAULT_ANSI_COLORS[13]),_.ansi[14]=D(T.brightCyan,h.DEFAULT_ANSI_COLORS[14]),_.ansi[15]=D(T.brightWhite,h.DEFAULT_ANSI_COLORS[15]),T.extendedAnsi){const R=Math.min(_.ansi.length-16,T.extendedAnsi.length);for(let P=0;P<R;P++)_.ansi[P+16]=D(T.extendedAnsi[P],h.DEFAULT_ANSI_COLORS[P+16])}this._contrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(T){this._restoreColor(T),this._onChangeColors.fire(this.colors)}_restoreColor(T){if(void 0!==T)switch(T){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[T]=this._restoreColors.ansi[T]}else for(let _=0;_<this._restoreColors.ansi.length;++_)this._colors.ansi[_]=this._restoreColors.ansi[_]}modifyColors(T){T(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function D(T,_){if(void 0!==T)try{return b.css.toColor(T)}catch{}return _}S=y([M(0,C.IOptionsService)],S),h.ThemeService=S},6349:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CircularList=void 0;const y=v(8460),M=v(844);h.CircularList=class w extends M.Disposable{constructor(A){super(),this._maxLength=A,this.onDeleteEmitter=this.register(new y.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new y.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new y.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(A){if(this._maxLength===A)return;const I=new Array(A);for(let C=0;C<Math.min(A,this.length);C++)I[C]=this._array[this._getCyclicIndex(C)];this._array=I,this._maxLength=A,this._startIndex=0}get length(){return this._length}set length(A){if(A>this._length)for(let I=this._length;I<A;I++)this._array[I]=void 0;this._length=A}get(A){return this._array[this._getCyclicIndex(A)]}set(A,I){this._array[this._getCyclicIndex(A)]=I}push(A){this._array[this._getCyclicIndex(this._length)]=A,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(A,I,...C){if(I){for(let c=A;c<this._length-I;c++)this._array[this._getCyclicIndex(c)]=this._array[this._getCyclicIndex(c+I)];this._length-=I,this.onDeleteEmitter.fire({index:A,amount:I})}for(let c=this._length-1;c>=A;c--)this._array[this._getCyclicIndex(c+C.length)]=this._array[this._getCyclicIndex(c)];for(let c=0;c<C.length;c++)this._array[this._getCyclicIndex(A+c)]=C[c];if(C.length&&this.onInsertEmitter.fire({index:A,amount:C.length}),this._length+C.length>this._maxLength){const c=this._length+C.length-this._maxLength;this._startIndex+=c,this._length=this._maxLength,this.onTrimEmitter.fire(c)}else this._length+=C.length}trimStart(A){A>this._length&&(A=this._length),this._startIndex+=A,this._length-=A,this.onTrimEmitter.fire(A)}shiftElements(A,I,C){if(!(I<=0)){if(A<0||A>=this._length)throw new Error("start argument out of range");if(A+C<0)throw new Error("Cannot shift elements in list beyond index 0");if(C>0){for(let f=I-1;f>=0;f--)this.set(A+f+C,this.get(A+f));const c=A+I+C-this._length;if(c>0)for(this._length+=c;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let c=0;c<I;c++)this.set(A+c+C,this.get(A+c))}}_getCyclicIndex(A){return(this._startIndex+A)%this._maxLength}}},1439:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.clone=void 0,h.clone=function v(y,M=5){if("object"!=typeof y)return y;const w=Array.isArray(y)?[]:{};for(const b in y)w[b]=M<=1?y[b]:y[b]&&v(y[b],M-1);return w}},8055:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.contrastRatio=h.toPaddedHex=h.rgba=h.rgb=h.css=h.color=h.channels=h.NULL_COLOR=void 0;const y=v(6114);let M=0,w=0,b=0,A=0;var I,C,c,d;function f(d){const p=d.toString(16);return p.length<2?"0"+p:p}function g(d,p){return d<p?(p+.05)/(d+.05):(d+.05)/(p+.05)}h.NULL_COLOR={css:"#00000000",rgba:0},(d=I=h.channels||(h.channels={})).toCss=function(p,S,D,T){return void 0!==T?`#${f(p)}${f(S)}${f(D)}${f(T)}`:`#${f(p)}${f(S)}${f(D)}`},d.toRgba=function(p,S,D,T=255){return(p<<24|S<<16|D<<8|T)>>>0},function(d){function p(S,D){return A=Math.round(255*D),[M,w,b]=c.toChannels(S.rgba),{css:I.toCss(M,w,b,A),rgba:I.toRgba(M,w,b,A)}}d.blend=function(S,D){if(A=(255&D.rgba)/255,1===A)return{css:D.css,rgba:D.rgba};const _=D.rgba>>16&255,R=D.rgba>>8&255,P=S.rgba>>24&255,N=S.rgba>>16&255,H=S.rgba>>8&255;return M=P+Math.round(((D.rgba>>24&255)-P)*A),w=N+Math.round((_-N)*A),b=H+Math.round((R-H)*A),{css:I.toCss(M,w,b),rgba:I.toRgba(M,w,b)}},d.isOpaque=function(S){return 255==(255&S.rgba)},d.ensureContrastRatio=function(S,D,T){const _=c.ensureContrastRatio(S.rgba,D.rgba,T);if(_)return c.toColor(_>>24&255,_>>16&255,_>>8&255)},d.opaque=function(S){const D=(255|S.rgba)>>>0;return[M,w,b]=c.toChannels(D),{css:I.toCss(M,w,b),rgba:D}},d.opacity=p,d.multiplyOpacity=function(S,D){return A=255&S.rgba,p(S,A*D/255)},d.toColorRGB=function(S){return[S.rgba>>24&255,S.rgba>>16&255,S.rgba>>8&255]}}(h.color||(h.color={})),function(d){let p,S;if(!y.isNode){const D=document.createElement("canvas");D.width=1,D.height=1;const T=D.getContext("2d",{willReadFrequently:!0});T&&(p=T,p.globalCompositeOperation="copy",S=p.createLinearGradient(0,0,1,1))}d.toColor=function(D){if(D.match(/#[\da-f]{3,8}/i))switch(D.length){case 4:return M=parseInt(D.slice(1,2).repeat(2),16),w=parseInt(D.slice(2,3).repeat(2),16),b=parseInt(D.slice(3,4).repeat(2),16),c.toColor(M,w,b);case 5:return M=parseInt(D.slice(1,2).repeat(2),16),w=parseInt(D.slice(2,3).repeat(2),16),b=parseInt(D.slice(3,4).repeat(2),16),A=parseInt(D.slice(4,5).repeat(2),16),c.toColor(M,w,b,A);case 7:return{css:D,rgba:(parseInt(D.slice(1),16)<<8|255)>>>0};case 9:return{css:D,rgba:parseInt(D.slice(1),16)>>>0}}const T=D.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(T)return M=parseInt(T[1]),w=parseInt(T[2]),b=parseInt(T[3]),A=Math.round(255*(void 0===T[5]?1:parseFloat(T[5]))),c.toColor(M,w,b,A);if(!p||!S)throw new Error("css.toColor: Unsupported css format");if(p.fillStyle=S,p.fillStyle=D,"string"!=typeof p.fillStyle)throw new Error("css.toColor: Unsupported css format");if(p.fillRect(0,0,1,1),[M,w,b,A]=p.getImageData(0,0,1,1).data,255!==A)throw new Error("css.toColor: Unsupported css format");return{rgba:I.toRgba(M,w,b,A),css:D}}}(h.css||(h.css={})),function(d){function p(S,D,T){const _=S/255,R=D/255,P=T/255;return.2126*(_<=.03928?_/12.92:Math.pow((_+.055)/1.055,2.4))+.7152*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))+.0722*(P<=.03928?P/12.92:Math.pow((P+.055)/1.055,2.4))}d.relativeLuminance=function(S){return p(S>>16&255,S>>8&255,255&S)},d.relativeLuminance2=p}(C=h.rgb||(h.rgb={})),function(d){function p(D,T,_){const R=D>>24&255,P=D>>16&255,N=D>>8&255;let H=T>>24&255,$=T>>16&255,J=T>>8&255,ie=g(C.relativeLuminance2(H,$,J),C.relativeLuminance2(R,P,N));for(;ie<_&&(H>0||$>0||J>0);)H-=Math.max(0,Math.ceil(.1*H)),$-=Math.max(0,Math.ceil(.1*$)),J-=Math.max(0,Math.ceil(.1*J)),ie=g(C.relativeLuminance2(H,$,J),C.relativeLuminance2(R,P,N));return(H<<24|$<<16|J<<8|255)>>>0}function S(D,T,_){const R=D>>24&255,P=D>>16&255,N=D>>8&255;let H=T>>24&255,$=T>>16&255,J=T>>8&255,ie=g(C.relativeLuminance2(H,$,J),C.relativeLuminance2(R,P,N));for(;ie<_&&(H<255||$<255||J<255);)H=Math.min(255,H+Math.ceil(.1*(255-H))),$=Math.min(255,$+Math.ceil(.1*(255-$))),J=Math.min(255,J+Math.ceil(.1*(255-J))),ie=g(C.relativeLuminance2(H,$,J),C.relativeLuminance2(R,P,N));return(H<<24|$<<16|J<<8|255)>>>0}d.ensureContrastRatio=function(D,T,_){const R=C.relativeLuminance(D>>8),P=C.relativeLuminance(T>>8);if(g(R,P)<_){if(P<R){const $=p(D,T,_),J=g(R,C.relativeLuminance($>>8));if(J<_){const ie=S(D,T,_);return J>g(R,C.relativeLuminance(ie>>8))?$:ie}return $}const N=S(D,T,_),H=g(R,C.relativeLuminance(N>>8));if(H<_){const $=p(D,T,_);return H>g(R,C.relativeLuminance($>>8))?N:$}return N}},d.reduceLuminance=p,d.increaseLuminance=S,d.toChannels=function(D){return[D>>24&255,D>>16&255,D>>8&255,255&D]},d.toColor=function(D,T,_,R){return{css:I.toCss(D,T,_,R),rgba:I.toRgba(D,T,_,R)}}}(c=h.rgba||(h.rgba={})),h.toPaddedHex=f,h.contrastRatio=g},8969:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CoreTerminal=void 0;const y=v(844),M=v(2585),w=v(4348),b=v(7866),A=v(744),I=v(7302),C=v(6975),c=v(8460),f=v(1753),g=v(1480),d=v(7994),p=v(9282),S=v(5435),D=v(5981),T=v(2660);let _=!1;h.CoreTerminal=class R extends y.Disposable{constructor(N){super(),this._onBinary=this.register(new c.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new c.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new c.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new c.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new c.EventEmitter),this._instantiationService=new w.InstantiationService,this.optionsService=this.register(new I.OptionsService(N)),this._instantiationService.setService(M.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(A.BufferService)),this._instantiationService.setService(M.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(b.LogService)),this._instantiationService.setService(M.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(C.CoreService)),this._instantiationService.setService(M.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(f.CoreMouseService)),this._instantiationService.setService(M.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(g.UnicodeService)),this._instantiationService.setService(M.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(d.CharsetService),this._instantiationService.setService(M.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(T.OscLinkService),this._instantiationService.setService(M.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new S.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,c.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,c.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,c.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,c.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onSpecificOptionChange("windowsMode",H=>this._handleWindowsModeOptionChange(H))),this.register(this._bufferService.onScroll(H=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(H=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new D.WriteBuffer((H,$)=>this._inputHandler.parse(H,$))),this.register((0,c.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed)),this.register((0,y.toDisposable)(()=>{var H;null===(H=this._windowsMode)||void 0===H||H.dispose(),this._windowsMode=void 0}))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new c.EventEmitter),this._onScroll.event(N=>{var H;null===(H=this._onScrollApi)||void 0===H||H.fire(N.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(N){for(const H in N)this.optionsService.options[H]=N[H]}write(N,H){this._writeBuffer.write(N,H)}writeSync(N,H){this._logService.logLevel<=M.LogLevelEnum.WARN&&!_&&(this._logService.warn("writeSync is unreliable and will be removed soon."),_=!0),this._writeBuffer.writeSync(N,H)}resize(N,H){isNaN(N)||isNaN(H)||(N=Math.max(N,A.MINIMUM_COLS),H=Math.max(H,A.MINIMUM_ROWS),this._bufferService.resize(N,H))}scroll(N,H=!1){this._bufferService.scroll(N,H)}scrollLines(N,H,$){this._bufferService.scrollLines(N,H,$)}scrollPages(N){this._bufferService.scrollPages(N)}scrollToTop(){this._bufferService.scrollToTop()}scrollToBottom(){this._bufferService.scrollToBottom()}scrollToLine(N){this._bufferService.scrollToLine(N)}registerEscHandler(N,H){return this._inputHandler.registerEscHandler(N,H)}registerDcsHandler(N,H){return this._inputHandler.registerDcsHandler(N,H)}registerCsiHandler(N,H){return this._inputHandler.registerCsiHandler(N,H)}registerOscHandler(N,H){return this._inputHandler.registerOscHandler(N,H)}_setup(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsModeOptionChange(N){var H;N?this._enableWindowsMode():(null===(H=this._windowsMode)||void 0===H||H.dispose(),this._windowsMode=void 0)}_enableWindowsMode(){if(!this._windowsMode){const N=[];N.push(this.onLineFeed(p.updateWindowsModeWrappedState.bind(null,this._bufferService))),N.push(this.registerCsiHandler({final:"H"},()=>((0,p.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsMode={dispose:()=>{for(const H of N)H.dispose()}}}}}},8460:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.forwardEvent=h.EventEmitter=void 0,h.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=v=>(this._listeners.push(v),{dispose:()=>{if(!this._disposed)for(let y=0;y<this._listeners.length;y++)if(this._listeners[y]===v)return void this._listeners.splice(y,1)}})),this._event}fire(v,y){const M=[];for(let w=0;w<this._listeners.length;w++)M.push(this._listeners[w]);for(let w=0;w<M.length;w++)M[w].call(void 0,v,y)}dispose(){this._listeners&&(this._listeners.length=0),this._disposed=!0}},h.forwardEvent=function(v,y){return v(M=>y.fire(M))}},5435:function(Q,h,v){var y=this&&this.__decorate||function(oe,x,L,j){var B,te=arguments.length,ue=te<3?x:null===j?j=Object.getOwnPropertyDescriptor(x,L):j;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(oe,x,L,j);else for(var De=oe.length-1;De>=0;De--)(B=oe[De])&&(ue=(te<3?B(ue):te>3?B(x,L,ue):B(x,L))||ue);return te>3&&ue&&Object.defineProperty(x,L,ue),ue},M=this&&this.__param||function(oe,x){return function(L,j){x(L,j,oe)}};Object.defineProperty(h,"__esModule",{value:!0}),h.InputHandler=h.WindowsOptionsReportType=void 0;const w=v(2584),b=v(7116),A=v(2015),I=v(844),C=v(482),c=v(8437),f=v(8460),g=v(643),d=v(511),p=v(3734),S=v(2585),D=v(6242),T=v(6351),_=v(5941),R={"(":0,")":1,"*":2,"+":3,"-":1,".":2},P=131072;function N(oe,x){if(oe>24)return x.setWinLines||!1;switch(oe){case 1:return!!x.restoreWin;case 2:return!!x.minimizeWin;case 3:return!!x.setWinPosition;case 4:return!!x.setWinSizePixels;case 5:return!!x.raiseWin;case 6:return!!x.lowerWin;case 7:return!!x.refreshWin;case 8:return!!x.setWinSizeChars;case 9:return!!x.maximizeWin;case 10:return!!x.fullscreenWin;case 11:return!!x.getWinState;case 13:return!!x.getWinPosition;case 14:return!!x.getWinSizePixels;case 15:return!!x.getScreenSizePixels;case 16:return!!x.getCellSizePixels;case 18:return!!x.getWinSizeChars;case 19:return!!x.getScreenSizeChars;case 20:return!!x.getIconTitle;case 21:return!!x.getWinTitle;case 22:return!!x.pushTitle;case 23:return!!x.popTitle;case 24:return!!x.setWinLines}return!1}var H,oe;(oe=H=h.WindowsOptionsReportType||(h.WindowsOptionsReportType={}))[oe.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",oe[oe.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";let $=0;h.InputHandler=class J extends I.Disposable{constructor(x,L,j,B,te,ue,De,re,ae=new A.EscapeSequenceParser){super(),this._bufferService=x,this._charsetService=L,this._coreService=j,this._logService=B,this._optionsService=te,this._oscLinkService=ue,this._coreMouseService=De,this._unicodeService=re,this._parser=ae,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new C.StringToUtf32,this._utf8Decoder=new C.Utf8ToUtf32,this._workCell=new d.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=c.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new f.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new f.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new f.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new f.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new f.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new f.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new f.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new f.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new f.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new f.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new f.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new f.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new ie(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(U=>this._activeBuffer=U.activeBuffer)),this._parser.setCsiHandlerFallback((U,V)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(U),params:V.toArray()})}),this._parser.setEscHandlerFallback(U=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(U)})}),this._parser.setExecuteHandlerFallback(U=>{this._logService.debug("Unknown EXECUTE code: ",{code:U})}),this._parser.setOscHandlerFallback((U,V,z)=>{this._logService.debug("Unknown OSC code: ",{identifier:U,action:V,data:z})}),this._parser.setDcsHandlerFallback((U,V,z)=>{"HOOK"===V&&(z=z.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(U),action:V,payload:z})}),this._parser.setPrintHandler((U,V,z)=>this.print(U,V,z)),this._parser.registerCsiHandler({final:"@"},U=>this.insertChars(U)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},U=>this.scrollLeft(U)),this._parser.registerCsiHandler({final:"A"},U=>this.cursorUp(U)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},U=>this.scrollRight(U)),this._parser.registerCsiHandler({final:"B"},U=>this.cursorDown(U)),this._parser.registerCsiHandler({final:"C"},U=>this.cursorForward(U)),this._parser.registerCsiHandler({final:"D"},U=>this.cursorBackward(U)),this._parser.registerCsiHandler({final:"E"},U=>this.cursorNextLine(U)),this._parser.registerCsiHandler({final:"F"},U=>this.cursorPrecedingLine(U)),this._parser.registerCsiHandler({final:"G"},U=>this.cursorCharAbsolute(U)),this._parser.registerCsiHandler({final:"H"},U=>this.cursorPosition(U)),this._parser.registerCsiHandler({final:"I"},U=>this.cursorForwardTab(U)),this._parser.registerCsiHandler({final:"J"},U=>this.eraseInDisplay(U,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},U=>this.eraseInDisplay(U,!0)),this._parser.registerCsiHandler({final:"K"},U=>this.eraseInLine(U,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},U=>this.eraseInLine(U,!0)),this._parser.registerCsiHandler({final:"L"},U=>this.insertLines(U)),this._parser.registerCsiHandler({final:"M"},U=>this.deleteLines(U)),this._parser.registerCsiHandler({final:"P"},U=>this.deleteChars(U)),this._parser.registerCsiHandler({final:"S"},U=>this.scrollUp(U)),this._parser.registerCsiHandler({final:"T"},U=>this.scrollDown(U)),this._parser.registerCsiHandler({final:"X"},U=>this.eraseChars(U)),this._parser.registerCsiHandler({final:"Z"},U=>this.cursorBackwardTab(U)),this._parser.registerCsiHandler({final:"`"},U=>this.charPosAbsolute(U)),this._parser.registerCsiHandler({final:"a"},U=>this.hPositionRelative(U)),this._parser.registerCsiHandler({final:"b"},U=>this.repeatPrecedingCharacter(U)),this._parser.registerCsiHandler({final:"c"},U=>this.sendDeviceAttributesPrimary(U)),this._parser.registerCsiHandler({prefix:">",final:"c"},U=>this.sendDeviceAttributesSecondary(U)),this._parser.registerCsiHandler({final:"d"},U=>this.linePosAbsolute(U)),this._parser.registerCsiHandler({final:"e"},U=>this.vPositionRelative(U)),this._parser.registerCsiHandler({final:"f"},U=>this.hVPosition(U)),this._parser.registerCsiHandler({final:"g"},U=>this.tabClear(U)),this._parser.registerCsiHandler({final:"h"},U=>this.setMode(U)),this._parser.registerCsiHandler({prefix:"?",final:"h"},U=>this.setModePrivate(U)),this._parser.registerCsiHandler({final:"l"},U=>this.resetMode(U)),this._parser.registerCsiHandler({prefix:"?",final:"l"},U=>this.resetModePrivate(U)),this._parser.registerCsiHandler({final:"m"},U=>this.charAttributes(U)),this._parser.registerCsiHandler({final:"n"},U=>this.deviceStatus(U)),this._parser.registerCsiHandler({prefix:"?",final:"n"},U=>this.deviceStatusPrivate(U)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},U=>this.softReset(U)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},U=>this.setCursorStyle(U)),this._parser.registerCsiHandler({final:"r"},U=>this.setScrollRegion(U)),this._parser.registerCsiHandler({final:"s"},U=>this.saveCursor(U)),this._parser.registerCsiHandler({final:"t"},U=>this.windowOptions(U)),this._parser.registerCsiHandler({final:"u"},U=>this.restoreCursor(U)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},U=>this.insertColumns(U)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},U=>this.deleteColumns(U)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},U=>this.selectProtected(U)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},U=>this.requestMode(U,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},U=>this.requestMode(U,!1)),this._parser.setExecuteHandler(w.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(w.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(w.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(w.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(w.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(w.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(w.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(w.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(w.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(w.C1.IND,()=>this.index()),this._parser.setExecuteHandler(w.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(w.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new D.OscHandler(U=>(this.setTitle(U),this.setIconName(U),!0))),this._parser.registerOscHandler(1,new D.OscHandler(U=>this.setIconName(U))),this._parser.registerOscHandler(2,new D.OscHandler(U=>this.setTitle(U))),this._parser.registerOscHandler(4,new D.OscHandler(U=>this.setOrReportIndexedColor(U))),this._parser.registerOscHandler(8,new D.OscHandler(U=>this.setHyperlink(U))),this._parser.registerOscHandler(10,new D.OscHandler(U=>this.setOrReportFgColor(U))),this._parser.registerOscHandler(11,new D.OscHandler(U=>this.setOrReportBgColor(U))),this._parser.registerOscHandler(12,new D.OscHandler(U=>this.setOrReportCursorColor(U))),this._parser.registerOscHandler(104,new D.OscHandler(U=>this.restoreIndexedColor(U))),this._parser.registerOscHandler(110,new D.OscHandler(U=>this.restoreFgColor(U))),this._parser.registerOscHandler(111,new D.OscHandler(U=>this.restoreBgColor(U))),this._parser.registerOscHandler(112,new D.OscHandler(U=>this.restoreCursorColor(U))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const U in b.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:U},()=>this.selectCharset("("+U)),this._parser.registerEscHandler({intermediates:")",final:U},()=>this.selectCharset(")"+U)),this._parser.registerEscHandler({intermediates:"*",final:U},()=>this.selectCharset("*"+U)),this._parser.registerEscHandler({intermediates:"+",final:U},()=>this.selectCharset("+"+U)),this._parser.registerEscHandler({intermediates:"-",final:U},()=>this.selectCharset("-"+U)),this._parser.registerEscHandler({intermediates:".",final:U},()=>this.selectCharset("."+U)),this._parser.registerEscHandler({intermediates:"/",final:U},()=>this.selectCharset("/"+U));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(U=>(this._logService.error("Parsing error: ",U),U)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new T.DcsHandler((U,V)=>this.requestStatusString(U,V)))}getAttrData(){return this._curAttrData}_preserveStack(x,L,j,B){this._parseStack.paused=!0,this._parseStack.cursorStartX=x,this._parseStack.cursorStartY=L,this._parseStack.decodedLength=j,this._parseStack.position=B}_logSlowResolvingAsync(x){this._logService.logLevel<=S.LogLevelEnum.WARN&&Promise.race([x,new Promise((L,j)=>setTimeout(()=>j("#SLOW_TIMEOUT"),5e3))]).catch(L=>{if("#SLOW_TIMEOUT"!==L)throw L;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(x,L){let j,B=this._activeBuffer.x,te=this._activeBuffer.y,ue=0;const De=this._parseStack.paused;if(De){if(j=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,L))return this._logSlowResolvingAsync(j),j;B=this._parseStack.cursorStartX,te=this._parseStack.cursorStartY,this._parseStack.paused=!1,x.length>P&&(ue=this._parseStack.position+P)}if(this._logService.logLevel<=S.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof x?` "${x}"`:` "${Array.prototype.map.call(x,re=>String.fromCharCode(re)).join("")}"`),"string"==typeof x?x.split("").map(re=>re.charCodeAt(0)):x),this._parseBuffer.length<x.length&&this._parseBuffer.length<P&&(this._parseBuffer=new Uint32Array(Math.min(x.length,P))),De||this._dirtyRowTracker.clearRange(),x.length>P)for(let re=ue;re<x.length;re+=P){const ae=re+P<x.length?re+P:x.length,U="string"==typeof x?this._stringDecoder.decode(x.substring(re,ae),this._parseBuffer):this._utf8Decoder.decode(x.subarray(re,ae),this._parseBuffer);if(j=this._parser.parse(this._parseBuffer,U))return this._preserveStack(B,te,U,re),this._logSlowResolvingAsync(j),j}else if(!De){const re="string"==typeof x?this._stringDecoder.decode(x,this._parseBuffer):this._utf8Decoder.decode(x,this._parseBuffer);if(j=this._parser.parse(this._parseBuffer,re))return this._preserveStack(B,te,re,0),this._logSlowResolvingAsync(j),j}this._activeBuffer.x===B&&this._activeBuffer.y===te||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(x,L,j){let B,te;const ue=this._charsetService.charset,De=this._optionsService.rawOptions.screenReaderMode,re=this._bufferService.cols,ae=this._coreService.decPrivateModes.wraparound,U=this._coreService.modes.insertMode,V=this._curAttrData;let z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&j-L>0&&2===z.getWidth(this._activeBuffer.x-1)&&z.setCellFromCodePoint(this._activeBuffer.x-1,0,1,V.fg,V.bg,V.extended);for(let K=L;K<j;++K){if(B=x[K],te=this._unicodeService.wcwidth(B),B<127&&ue){const se=ue[String.fromCharCode(B)];se&&(B=se.charCodeAt(0))}if(De&&this._onA11yChar.fire((0,C.stringFromCodePoint)(B)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),te||!this._activeBuffer.x){if(this._activeBuffer.x+te-1>=re)if(ae){for(;this._activeBuffer.x<re;)z.setCellFromCodePoint(this._activeBuffer.x++,0,1,V.fg,V.bg,V.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=re-1,2===te)continue;if(U&&(z.insertCells(this._activeBuffer.x,te,this._activeBuffer.getNullCell(V),V),2===z.getWidth(re-1)&&z.setCellFromCodePoint(re-1,g.NULL_CELL_CODE,g.NULL_CELL_WIDTH,V.fg,V.bg,V.extended)),z.setCellFromCodePoint(this._activeBuffer.x++,B,te,V.fg,V.bg,V.extended),te>0)for(;--te;)z.setCellFromCodePoint(this._activeBuffer.x++,0,0,V.fg,V.bg,V.extended)}else z.getWidth(this._activeBuffer.x-1)?z.addCodepointToCell(this._activeBuffer.x-1,B):z.addCodepointToCell(this._activeBuffer.x-2,B)}j-L>0&&(z.loadCell(this._activeBuffer.x-1,this._workCell),this._parser.precedingCodepoint=2===this._workCell.getWidth()||this._workCell.getCode()>65535?0:this._workCell.isCombined()?this._workCell.getChars().charCodeAt(0):this._workCell.content),this._activeBuffer.x<re&&j-L>0&&0===z.getWidth(this._activeBuffer.x)&&!z.hasContent(this._activeBuffer.x)&&z.setCellFromCodePoint(this._activeBuffer.x,0,1,V.fg,V.bg,V.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(x,L){return this._parser.registerCsiHandler(x,"t"!==x.final||x.prefix||x.intermediates?L:j=>!N(j.params[0],this._optionsService.rawOptions.windowOptions)||L(j))}registerDcsHandler(x,L){return this._parser.registerDcsHandler(x,new T.DcsHandler(L))}registerEscHandler(x,L){return this._parser.registerEscHandler(x,L)}registerOscHandler(x,L){return this._parser.registerOscHandler(x,new D.OscHandler(L))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var x;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&null!==(x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))&&void 0!==x&&x.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);L.hasWidth(this._activeBuffer.x)&&!L.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const x=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-x),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(x=this._bufferService.cols-1){this._activeBuffer.x=Math.min(x,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(x,L){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=x,this._activeBuffer.y=this._activeBuffer.scrollTop+L):(this._activeBuffer.x=x,this._activeBuffer.y=L),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(x,L){this._restrictCursor(),this._setCursor(this._activeBuffer.x+x,this._activeBuffer.y+L)}cursorUp(x){const L=this._activeBuffer.y-this._activeBuffer.scrollTop;return this._moveCursor(0,L>=0?-Math.min(L,x.params[0]||1):-(x.params[0]||1)),!0}cursorDown(x){const L=this._activeBuffer.scrollBottom-this._activeBuffer.y;return this._moveCursor(0,L>=0?Math.min(L,x.params[0]||1):x.params[0]||1),!0}cursorForward(x){return this._moveCursor(x.params[0]||1,0),!0}cursorBackward(x){return this._moveCursor(-(x.params[0]||1),0),!0}cursorNextLine(x){return this.cursorDown(x),this._activeBuffer.x=0,!0}cursorPrecedingLine(x){return this.cursorUp(x),this._activeBuffer.x=0,!0}cursorCharAbsolute(x){return this._setCursor((x.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(x){return this._setCursor(x.length>=2?(x.params[1]||1)-1:0,(x.params[0]||1)-1),!0}charPosAbsolute(x){return this._setCursor((x.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(x){return this._moveCursor(x.params[0]||1,0),!0}linePosAbsolute(x){return this._setCursor(this._activeBuffer.x,(x.params[0]||1)-1),!0}vPositionRelative(x){return this._moveCursor(0,x.params[0]||1),!0}hVPosition(x){return this.cursorPosition(x),!0}tabClear(x){const L=x.params[0];return 0===L?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===L&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(x){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let L=x.params[0]||1;for(;L--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(x){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let L=x.params[0]||1;for(;L--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(x){const L=x.params[0];return 1===L&&(this._curAttrData.bg|=536870912),2!==L&&0!==L||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(x,L,j,B=!1,te=!1){const ue=this._activeBuffer.lines.get(this._activeBuffer.ybase+x);ue.replaceCells(L,j,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),te),B&&(ue.isWrapped=!1)}_resetBufferLine(x,L=!1){const j=this._activeBuffer.lines.get(this._activeBuffer.ybase+x);j.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),L),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+x),j.isWrapped=!1}eraseInDisplay(x,L=!1){let j;switch(this._restrictCursor(this._bufferService.cols),x.params[0]){case 0:for(j=this._activeBuffer.y,this._dirtyRowTracker.markDirty(j),this._eraseInBufferLine(j++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,L);j<this._bufferService.rows;j++)this._resetBufferLine(j,L);this._dirtyRowTracker.markDirty(j);break;case 1:for(j=this._activeBuffer.y,this._dirtyRowTracker.markDirty(j),this._eraseInBufferLine(j,0,this._activeBuffer.x+1,!0,L),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(j+1).isWrapped=!1);j--;)this._resetBufferLine(j,L);this._dirtyRowTracker.markDirty(0);break;case 2:for(j=this._bufferService.rows,this._dirtyRowTracker.markDirty(j-1);j--;)this._resetBufferLine(j,L);this._dirtyRowTracker.markDirty(0);break;case 3:const B=this._activeBuffer.lines.length-this._bufferService.rows;B>0&&(this._activeBuffer.lines.trimStart(B),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-B,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-B,0),this._onScroll.fire(0))}return!0}eraseInLine(x,L=!1){switch(this._restrictCursor(this._bufferService.cols),x.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,L);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,L);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,L)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(x){this._restrictCursor();let L=x.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const j=this._activeBuffer.ybase+this._activeBuffer.y,te=this._bufferService.rows-1+this._activeBuffer.ybase-(this._bufferService.rows-1-this._activeBuffer.scrollBottom)+1;for(;L--;)this._activeBuffer.lines.splice(te-1,1),this._activeBuffer.lines.splice(j,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(x){this._restrictCursor();let L=x.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const j=this._activeBuffer.ybase+this._activeBuffer.y;let B;for(B=this._bufferService.rows-1-this._activeBuffer.scrollBottom,B=this._bufferService.rows-1+this._activeBuffer.ybase-B;L--;)this._activeBuffer.lines.splice(j,1),this._activeBuffer.lines.splice(B,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(x){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.insertCells(this._activeBuffer.x,x.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(x){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.deleteCells(this._activeBuffer.x,x.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(x){let L=x.params[0]||1;for(;L--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(x){let L=x.params[0]||1;for(;L--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(c.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=x.params[0]||1;for(let j=this._activeBuffer.scrollTop;j<=this._activeBuffer.scrollBottom;++j){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);B.deleteCells(0,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),B.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=x.params[0]||1;for(let j=this._activeBuffer.scrollTop;j<=this._activeBuffer.scrollBottom;++j){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);B.insertCells(0,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),B.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=x.params[0]||1;for(let j=this._activeBuffer.scrollTop;j<=this._activeBuffer.scrollBottom;++j){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);B.insertCells(this._activeBuffer.x,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),B.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=x.params[0]||1;for(let j=this._activeBuffer.scrollTop;j<=this._activeBuffer.scrollBottom;++j){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);B.deleteCells(this._activeBuffer.x,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),B.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(x){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(x.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(x){if(!this._parser.precedingCodepoint)return!0;const L=x.params[0]||1,j=new Uint32Array(L);for(let B=0;B<L;++B)j[B]=this._parser.precedingCodepoint;return this.print(j,0,j.length),!0}sendDeviceAttributesPrimary(x){return x.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(w.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(w.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(x){return x.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(w.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(w.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(x.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(w.C0.ESC+"[>83;40003;0c")),!0}_is(x){return 0===(this._optionsService.rawOptions.termName+"").indexOf(x)}setMode(x){for(let L=0;L<x.length;L++)switch(x.params[L]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(x){for(let L=0;L<x.length;L++)switch(x.params[L]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,b.DEFAULT_CHARSET),this._charsetService.setgCharset(1,b.DEFAULT_CHARSET),this._charsetService.setgCharset(2,b.DEFAULT_CHARSET),this._charsetService.setgCharset(3,b.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(x){for(let L=0;L<x.length;L++)switch(x.params[L]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(x){for(let L=0;L<x.length;L++)switch(x.params[L]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===x.params[L]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(x,L){const j=this._coreService.decPrivateModes,{activeProtocol:B,activeEncoding:te}=this._coreMouseService,ue=this._coreService,{buffers:De,cols:re}=this._bufferService,{active:ae,alt:U}=De,V=this._optionsService.rawOptions,z=le=>le?1:2,K=x.params[0];return se=K,de=L?2===K?3:4===K?z(ue.modes.insertMode):12===K?4:20===K?z(V.convertEol):0:1===K?z(j.applicationCursorKeys):3===K?V.windowOptions.setWinLines?80===re?2:132===re?1:0:0:6===K?z(j.origin):7===K?z(j.wraparound):8===K?3:9===K?z("X10"===B):12===K?z(V.cursorBlink):25===K?z(!ue.isCursorHidden):45===K?z(j.reverseWraparound):66===K?z(j.applicationKeypad):1e3===K?z("VT200"===B):1002===K?z("DRAG"===B):1003===K?z("ANY"===B):1004===K?z(j.sendFocus):1005===K?4:1006===K?z("SGR"===te):1015===K?4:1016===K?z("SGR_PIXELS"===te):1048===K?1:47===K||1047===K||1049===K?z(ae===U):2004===K?z(j.bracketedPasteMode):0,ue.triggerDataEvent(`${w.C0.ESC}[${L?"":"?"}${se};${de}$y`),!0;var se,de}_updateAttrColor(x,L,j,B,te){return 2===L?(x|=50331648,x&=-16777216,x|=p.AttributeData.fromColorRGB([j,B,te])):5===L&&(x&=-50331904,x|=33554432|255&j),x}_extractColor(x,L,j){const B=[0,0,-1,0,0,0];let te=0,ue=0;do{if(B[ue+te]=x.params[L+ue],x.hasSubParams(L+ue)){const De=x.getSubParams(L+ue);let re=0;do{5===B[1]&&(te=1),B[ue+re+1+te]=De[re]}while(++re<De.length&&re+ue+1+te<B.length);break}if(5===B[1]&&ue+te>=2||2===B[1]&&ue+te>=5)break;B[1]&&(te=1)}while(++ue+L<x.length&&ue+te<B.length);for(let De=2;De<B.length;++De)-1===B[De]&&(B[De]=0);switch(B[0]){case 38:j.fg=this._updateAttrColor(j.fg,B[1],B[3],B[4],B[5]);break;case 48:j.bg=this._updateAttrColor(j.bg,B[1],B[3],B[4],B[5]);break;case 58:j.extended=j.extended.clone(),j.extended.underlineColor=this._updateAttrColor(j.extended.underlineColor,B[1],B[3],B[4],B[5])}return ue}_processUnderline(x,L){L.extended=L.extended.clone(),(!~x||x>5)&&(x=1),L.extended.underlineStyle=x,L.fg|=268435456,0===x&&(L.fg&=-268435457),L.updateExtended()}_processSGR0(x){x.fg=c.DEFAULT_ATTR_DATA.fg,x.bg=c.DEFAULT_ATTR_DATA.bg,x.extended=x.extended.clone(),x.extended.underlineStyle=0,x.extended.underlineColor&=-67108864,x.updateExtended()}charAttributes(x){if(1===x.length&&0===x.params[0])return this._processSGR0(this._curAttrData),!0;const L=x.length;let j;const B=this._curAttrData;for(let te=0;te<L;te++)j=x.params[te],j>=30&&j<=37?(B.fg&=-50331904,B.fg|=16777216|j-30):j>=40&&j<=47?(B.bg&=-50331904,B.bg|=16777216|j-40):j>=90&&j<=97?(B.fg&=-50331904,B.fg|=16777224|j-90):j>=100&&j<=107?(B.bg&=-50331904,B.bg|=16777224|j-100):0===j?this._processSGR0(B):1===j?B.fg|=134217728:3===j?B.bg|=67108864:4===j?(B.fg|=268435456,this._processUnderline(x.hasSubParams(te)?x.getSubParams(te)[0]:1,B)):5===j?B.fg|=536870912:7===j?B.fg|=67108864:8===j?B.fg|=1073741824:9===j?B.fg|=2147483648:2===j?B.bg|=134217728:21===j?this._processUnderline(2,B):22===j?(B.fg&=-134217729,B.bg&=-134217729):23===j?B.bg&=-67108865:24===j?(B.fg&=-268435457,this._processUnderline(0,B)):25===j?B.fg&=-536870913:27===j?B.fg&=-67108865:28===j?B.fg&=-1073741825:29===j?B.fg&=2147483647:39===j?(B.fg&=-67108864,B.fg|=16777215&c.DEFAULT_ATTR_DATA.fg):49===j?(B.bg&=-67108864,B.bg|=16777215&c.DEFAULT_ATTR_DATA.bg):38===j||48===j||58===j?te+=this._extractColor(x,te,B):59===j?(B.extended=B.extended.clone(),B.extended.underlineColor=-1,B.updateExtended()):100===j?(B.fg&=-67108864,B.fg|=16777215&c.DEFAULT_ATTR_DATA.fg,B.bg&=-67108864,B.bg|=16777215&c.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",j);return!0}deviceStatus(x){switch(x.params[0]){case 5:this._coreService.triggerDataEvent(`${w.C0.ESC}[0n`);break;case 6:this._coreService.triggerDataEvent(`${w.C0.ESC}[${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`)}return!0}deviceStatusPrivate(x){return 6===x.params[0]&&this._coreService.triggerDataEvent(`${w.C0.ESC}[?${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`),!0}softReset(x){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(x){const L=x.params[0]||1;switch(L){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=L%2==1,!0}setScrollRegion(x){const L=x.params[0]||1;let j;return(x.length<2||(j=x.params[1])>this._bufferService.rows||0===j)&&(j=this._bufferService.rows),j>L&&(this._activeBuffer.scrollTop=L-1,this._activeBuffer.scrollBottom=j-1,this._setCursor(0,0)),!0}windowOptions(x){if(!N(x.params[0],this._optionsService.rawOptions.windowOptions))return!0;const L=x.length>1?x.params[1]:0;switch(x.params[0]){case 14:2!==L&&this._onRequestWindowsOptionsReport.fire(H.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(H.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${w.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:0!==L&&2!==L||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==L&&1!==L||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==L&&2!==L||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==L&&1!==L||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(x){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(x){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(x){return this._windowTitle=x,this._onTitleChange.fire(x),!0}setIconName(x){return this._iconName=x,!0}setOrReportIndexedColor(x){const L=[],j=x.split(";");for(;j.length>1;){const B=j.shift(),te=j.shift();if(/^\d+$/.exec(B)){const ue=parseInt(B);if(0<=ue&&ue<256)if("?"===te)L.push({type:0,index:ue});else{const De=(0,_.parseColor)(te);De&&L.push({type:1,index:ue,color:De})}}}return L.length&&this._onColor.fire(L),!0}setHyperlink(x){const L=x.split(";");return!(L.length<2)&&(L[1]?this._createHyperlink(L[0],L[1]):!L[0]&&this._finishHyperlink())}_createHyperlink(x,L){this._getCurrentLinkId()&&this._finishHyperlink();const j=x.split(":");let B;const te=j.findIndex(ue=>ue.startsWith("id="));return-1!==te&&(B=j[te].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:B,uri:L}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(x,L){const j=x.split(";");for(let B=0;B<j.length&&!(L>=this._specialColors.length);++B,++L)if("?"===j[B])this._onColor.fire([{type:0,index:this._specialColors[L]}]);else{const te=(0,_.parseColor)(j[B]);te&&this._onColor.fire([{type:1,index:this._specialColors[L],color:te}])}return!0}setOrReportFgColor(x){return this._setOrReportSpecialColor(x,0)}setOrReportBgColor(x){return this._setOrReportSpecialColor(x,1)}setOrReportCursorColor(x){return this._setOrReportSpecialColor(x,2)}restoreIndexedColor(x){if(!x)return this._onColor.fire([{type:2}]),!0;const L=[],j=x.split(";");for(let B=0;B<j.length;++B)if(/^\d+$/.exec(j[B])){const te=parseInt(j[B]);0<=te&&te<256&&L.push({type:2,index:te})}return L.length&&this._onColor.fire(L),!0}restoreFgColor(x){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(x){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(x){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,b.DEFAULT_CHARSET),!0}selectCharset(x){return 2!==x.length?(this.selectDefaultCharset(),!0):("/"===x[0]||this._charsetService.setgCharset(R[x[0]],b.CHARSETS[x[1]]||b.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){return this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop?(this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)):(this._activeBuffer.y--,this._restrictCursor()),!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=c.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(x){return this._charsetService.setgLevel(x),!0}screenAlignmentPattern(){const x=new d.CellData;x.content=4194304|"E".charCodeAt(0),x.fg=this._curAttrData.fg,x.bg=this._curAttrData.bg,this._setCursor(0,0);for(let L=0;L<this._bufferService.rows;++L){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y+L);B&&(B.fill(x),B.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(x,L){const j=this._bufferService.buffer,B=this._optionsService.rawOptions;return(te=>(this._coreService.triggerDataEvent(`${w.C0.ESC}${te}${w.C0.ESC}\\`),!0))('"q'===x?`P1$r${this._curAttrData.isProtected()?1:0}"q`:'"p'===x?'P1$r61;1"p':"r"===x?`P1$r${j.scrollTop+1};${j.scrollBottom+1}r`:"m"===x?"P1$r0m":" q"===x?`P1$r${{block:2,underline:4,bar:6}[B.cursorStyle]-(B.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(x,L){this._dirtyRowTracker.markRangeDirty(x,L)}};let ie=class{constructor(oe){this._bufferService=oe,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(oe){oe<this.start?this.start=oe:oe>this.end&&(this.end=oe)}markRangeDirty(oe,x){oe>x&&($=oe,oe=x,x=$),oe<this.start&&(this.start=oe),x>this.end&&(this.end=x)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};ie=y([M(0,S.IBufferService)],ie)},844:(Q,h)=>{function v(y){for(const M of y)M.dispose();y.length=0}Object.defineProperty(h,"__esModule",{value:!0}),h.getDisposeArrayDisposable=h.disposeArray=h.toDisposable=h.Disposable=void 0,h.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const y of this._disposables)y.dispose();this._disposables.length=0}register(y){return this._disposables.push(y),y}unregister(y){const M=this._disposables.indexOf(y);-1!==M&&this._disposables.splice(M,1)}},h.toDisposable=function(y){return{dispose:y}},h.disposeArray=v,h.getDisposeArrayDisposable=function(y){return{dispose:()=>v(y)}}},1505:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.FourKeyMap=h.TwoKeyMap=void 0;class v{constructor(){this._data={}}set(M,w,b){this._data[M]||(this._data[M]={}),this._data[M][w]=b}get(M,w){return this._data[M]?this._data[M][w]:void 0}clear(){this._data={}}}h.TwoKeyMap=v,h.FourKeyMap=class{constructor(){this._data=new v}set(y,M,w,b,A){this._data.get(y,M)||this._data.set(y,M,new v),this._data.get(y,M).set(w,b,A)}get(y,M,w,b){var A;return null===(A=this._data.get(y,M))||void 0===A?void 0:A.get(w,b)}clear(){this._data.clear()}}},6114:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.isChromeOS=h.isLinux=h.isWindows=h.isIphone=h.isIpad=h.isMac=h.getSafariVersion=h.isSafari=h.isLegacyEdge=h.isFirefox=h.isNode=void 0,h.isNode=typeof navigator>"u";const v=h.isNode?"node":navigator.userAgent,y=h.isNode?"node":navigator.platform;h.isFirefox=v.includes("Firefox"),h.isLegacyEdge=v.includes("Edge"),h.isSafari=/^((?!chrome|android).)*safari/i.test(v),h.getSafariVersion=function(){if(!h.isSafari)return 0;const M=v.match(/Version\/(\d+)/);return null===M||M.length<2?0:parseInt(M[1])},h.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(y),h.isIpad="iPad"===y,h.isIphone="iPhone"===y,h.isWindows=["Windows","Win16","Win32","WinCE"].includes(y),h.isLinux=y.indexOf("Linux")>=0,h.isChromeOS=/\bCrOS\b/.test(v)},6106:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.SortedList=void 0;let v=0;h.SortedList=class{constructor(y){this._getKey=y,this._array=[]}clear(){this._array.length=0}insert(y){0!==this._array.length?(v=this._search(this._getKey(y),0,this._array.length-1),this._array.splice(v,0,y)):this._array.push(y)}delete(y){if(0===this._array.length)return!1;const M=this._getKey(y);if(void 0===M||(v=this._search(M,0,this._array.length-1),-1===v)||this._getKey(this._array[v])!==M)return!1;do{if(this._array[v]===y)return this._array.splice(v,1),!0}while(++v<this._array.length&&this._getKey(this._array[v])===M);return!1}*getKeyIterator(y){if(0!==this._array.length&&(v=this._search(y,0,this._array.length-1),!(v<0||v>=this._array.length)&&this._getKey(this._array[v])===y))do{yield this._array[v]}while(++v<this._array.length&&this._getKey(this._array[v])===y)}forEachByKey(y,M){if(0!==this._array.length&&(v=this._search(y,0,this._array.length-1),!(v<0||v>=this._array.length)&&this._getKey(this._array[v])===y))do{M(this._array[v])}while(++v<this._array.length&&this._getKey(this._array[v])===y)}values(){return this._array.values()}_search(y,M,w){if(w<M)return M;let b=Math.floor((M+w)/2);const A=this._getKey(this._array[b]);if(A>y)return this._search(y,M,b-1);if(A<y)return this._search(y,b+1,w);for(;b>0&&this._getKey(this._array[b-1])===y;)b--;return b}}},7226:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DebouncedIdleTask=h.IdleTaskQueue=h.PriorityTaskQueue=void 0;const y=v(6114);class M{constructor(){this._tasks=[],this._i=0}enqueue(A){this._tasks.push(A),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(A){this._idleCallback=void 0;let I=0,C=0,c=A.timeRemaining(),f=0;for(;this._i<this._tasks.length;){if(I=Date.now(),this._tasks[this._i]()||this._i++,I=Math.max(1,Date.now()-I),C=Math.max(I,C),f=A.timeRemaining(),1.5*C>f)return c-I<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(c-I))}ms`),void this._start();c=f}this.clear()}}class w extends M{_requestCallback(A){return setTimeout(()=>A(this._createDeadline(16)))}_cancelCallback(A){clearTimeout(A)}_createDeadline(A){const I=Date.now()+A;return{timeRemaining:()=>Math.max(0,I-Date.now())}}}h.PriorityTaskQueue=w,h.IdleTaskQueue=!y.isNode&&"requestIdleCallback"in window?class extends M{_requestCallback(b){return requestIdleCallback(b)}_cancelCallback(b){cancelIdleCallback(b)}}:w,h.DebouncedIdleTask=class{constructor(){this._queue=new h.IdleTaskQueue}set(b){this._queue.clear(),this._queue.enqueue(b)}flush(){this._queue.flush()}}},9282:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.updateWindowsModeWrappedState=void 0;const y=v(643);h.updateWindowsModeWrappedState=function(M){const b=M.buffer.lines.get(M.buffer.ybase+M.buffer.y-1)?.get(M.cols-1),A=M.buffer.lines.get(M.buffer.ybase+M.buffer.y);A&&b&&(A.isWrapped=b[y.CHAR_DATA_CODE_INDEX]!==y.NULL_CELL_CODE&&b[y.CHAR_DATA_CODE_INDEX]!==y.WHITESPACE_CELL_CODE)}},3734:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ExtendedAttrs=h.AttributeData=void 0;class v{constructor(){this.fg=0,this.bg=0,this.extended=new y}static toColorRGB(w){return[w>>>16&255,w>>>8&255,255&w]}static fromColorRGB(w){return(255&w[0])<<16|(255&w[1])<<8|255&w[2]}clone(){const w=new v;return w.fg=this.fg,w.bg=this.bg,w.extended=this.extended.clone(),w}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}h.AttributeData=v;class y{constructor(w=0,b=0){this._ext=0,this._urlId=0,this._ext=w,this._urlId=b}get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(w){this._ext=w}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(w){this._ext&=-469762049,this._ext|=w<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(w){this._ext&=-67108864,this._ext|=67108863&w}get urlId(){return this._urlId}set urlId(w){this._urlId=w}clone(){return new y(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}h.ExtendedAttrs=y},9092:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BufferStringIterator=h.Buffer=h.MAX_BUFFER_SIZE=void 0;const y=v(6349),M=v(8437),w=v(511),b=v(643),A=v(4634),I=v(4863),C=v(7116),c=v(3734),f=v(7226);h.MAX_BUFFER_SIZE=4294967295,h.Buffer=class{constructor(d,p,S){this._hasScrollback=d,this._optionsService=p,this._bufferService=S,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=M.DEFAULT_ATTR_DATA.clone(),this.savedCharset=C.DEFAULT_CHARSET,this.markers=[],this._nullCell=w.CellData.fromCharData([0,b.NULL_CELL_CHAR,b.NULL_CELL_WIDTH,b.NULL_CELL_CODE]),this._whitespaceCell=w.CellData.fromCharData([0,b.WHITESPACE_CELL_CHAR,b.WHITESPACE_CELL_WIDTH,b.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new f.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new y.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(d){return d?(this._nullCell.fg=d.fg,this._nullCell.bg=d.bg,this._nullCell.extended=d.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new c.ExtendedAttrs),this._nullCell}getWhitespaceCell(d){return d?(this._whitespaceCell.fg=d.fg,this._whitespaceCell.bg=d.bg,this._whitespaceCell.extended=d.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new c.ExtendedAttrs),this._whitespaceCell}getBlankLine(d,p){return new M.BufferLine(this._bufferService.cols,this.getNullCell(d),p)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const d=this.ybase+this.y-this.ydisp;return d>=0&&d<this._rows}_getCorrectBufferLength(d){if(!this._hasScrollback)return d;const p=d+this._optionsService.rawOptions.scrollback;return p>h.MAX_BUFFER_SIZE?h.MAX_BUFFER_SIZE:p}fillViewportRows(d){if(0===this.lines.length){void 0===d&&(d=M.DEFAULT_ATTR_DATA);let p=this._rows;for(;p--;)this.lines.push(this.getBlankLine(d))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new y.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(d,p){const S=this.getNullCell(M.DEFAULT_ATTR_DATA);let D=0;const T=this._getCorrectBufferLength(p);if(T>this.lines.maxLength&&(this.lines.maxLength=T),this.lines.length>0){if(this._cols<d)for(let R=0;R<this.lines.length;R++)D+=+this.lines.get(R).resize(d,S);let _=0;if(this._rows<p)for(let R=this._rows;R<p;R++)this.lines.length<p+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new M.BufferLine(d,S)):this.ybase>0&&this.lines.length<=this.ybase+this.y+_+1?(this.ybase--,_++,this.ydisp>0&&this.ydisp--):this.lines.push(new M.BufferLine(d,S)));else for(let R=this._rows;R>p;R--)this.lines.length>p+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(T<this.lines.maxLength){const R=this.lines.length-T;R>0&&(this.lines.trimStart(R),this.ybase=Math.max(this.ybase-R,0),this.ydisp=Math.max(this.ydisp-R,0),this.savedY=Math.max(this.savedY-R,0)),this.lines.maxLength=T}this.x=Math.min(this.x,d-1),this.y=Math.min(this.y,p-1),_&&(this.y+=_),this.savedX=Math.min(this.savedX,d-1),this.scrollTop=0}if(this.scrollBottom=p-1,this._isReflowEnabled&&(this._reflow(d,p),this._cols>d))for(let _=0;_<this.lines.length;_++)D+=+this.lines.get(_).resize(d,S);this._cols=d,this._rows=p,this._memoryCleanupQueue.clear(),D>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let d=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,d=!1);let p=0;for(;this._memoryCleanupPosition<this.lines.length;)if(p+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),p>100)return!0;return d}get _isReflowEnabled(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(d,p){this._cols!==d&&(d>this._cols?this._reflowLarger(d,p):this._reflowSmaller(d,p))}_reflowLarger(d,p){const S=(0,A.reflowLargerGetLinesToRemove)(this.lines,this._cols,d,this.ybase+this.y,this.getNullCell(M.DEFAULT_ATTR_DATA));if(S.length>0){const D=(0,A.reflowLargerCreateNewLayout)(this.lines,S);(0,A.reflowLargerApplyNewLayout)(this.lines,D.layout),this._reflowLargerAdjustViewport(d,p,D.countRemoved)}}_reflowLargerAdjustViewport(d,p,S){const D=this.getNullCell(M.DEFAULT_ATTR_DATA);let T=S;for(;T-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<p&&this.lines.push(new M.BufferLine(d,D))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-S,0)}_reflowSmaller(d,p){const S=this.getNullCell(M.DEFAULT_ATTR_DATA),D=[];let T=0;for(let _=this.lines.length-1;_>=0;_--){let R=this.lines.get(_);if(!R||!R.isWrapped&&R.getTrimmedLength()<=d)continue;const P=[R];for(;R.isWrapped&&_>0;)R=this.lines.get(--_),P.unshift(R);const N=this.ybase+this.y;if(N>=_&&N<_+P.length)continue;const H=P[P.length-1].getTrimmedLength(),$=(0,A.reflowSmallerGetNewLineLengths)(P,this._cols,d),J=$.length-P.length;let ie;ie=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+J):Math.max(0,this.lines.length-this.lines.maxLength+J);const oe=[];for(let ue=0;ue<J;ue++){const De=this.getBlankLine(M.DEFAULT_ATTR_DATA,!0);oe.push(De)}oe.length>0&&(D.push({start:_+P.length+T,newLines:oe}),T+=oe.length),P.push(...oe);let x=$.length-1,L=$[x];0===L&&(x--,L=$[x]);let j=P.length-J-1,B=H;for(;j>=0;){const ue=Math.min(B,L);if(void 0===P[x])break;if(P[x].copyCellsFrom(P[j],B-ue,L-ue,ue,!0),L-=ue,0===L&&(x--,L=$[x]),B-=ue,0===B){j--;const De=Math.max(j,0);B=(0,A.getWrappedLineTrimmedLength)(P,De,this._cols)}}for(let ue=0;ue<P.length;ue++)$[ue]<d&&P[ue].setCell($[ue],S);let te=J-ie;for(;te-- >0;)0===this.ybase?this.y<p-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+T)-p&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+J,this.ybase+p-1)}if(D.length>0){const _=[],R=[];for(let x=0;x<this.lines.length;x++)R.push(this.lines.get(x));const P=this.lines.length;let N=P-1,H=0,$=D[H];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+T);let J=0;for(let x=Math.min(this.lines.maxLength-1,P+T-1);x>=0;x--)if($&&$.start>N+J){for(let L=$.newLines.length-1;L>=0;L--)this.lines.set(x--,$.newLines[L]);x++,_.push({index:N+1,amount:$.newLines.length}),J+=$.newLines.length,$=D[++H]}else this.lines.set(x,R[N--]);let ie=0;for(let x=_.length-1;x>=0;x--)_[x].index+=ie,this.lines.onInsertEmitter.fire(_[x]),ie+=_[x].amount;const oe=Math.max(0,P+T-this.lines.maxLength);oe>0&&this.lines.onTrimEmitter.fire(oe)}}stringIndexToBufferIndex(d,p,S=!1){for(;p;){const D=this.lines.get(d);if(!D)return[-1,-1];const T=S?D.getTrimmedLength():D.length;for(let _=0;_<T;++_)if(D.get(_)[b.CHAR_DATA_WIDTH_INDEX]&&(p-=D.get(_)[b.CHAR_DATA_CHAR_INDEX].length||1),p<0)return[d,_];d++}return[d,0]}translateBufferLineToString(d,p,S=0,D){const T=this.lines.get(d);return T?T.translateToString(p,S,D):""}getWrappedRangeForLine(d){let p=d,S=d;for(;p>0&&this.lines.get(p).isWrapped;)p--;for(;S+1<this.lines.length&&this.lines.get(S+1).isWrapped;)S++;return{first:p,last:S}}setupTabStops(d){for(null!=d?this.tabs[d]||(d=this.prevStop(d)):(this.tabs={},d=0);d<this._cols;d+=this._optionsService.rawOptions.tabStopWidth)this.tabs[d]=!0}prevStop(d){for(null==d&&(d=this.x);!this.tabs[--d]&&d>0;);return d>=this._cols?this._cols-1:d<0?0:d}nextStop(d){for(null==d&&(d=this.x);!this.tabs[++d]&&d<this._cols;);return d>=this._cols?this._cols-1:d<0?0:d}clearMarkers(d){this._isClearing=!0;for(let p=0;p<this.markers.length;p++)this.markers[p].line===d&&(this.markers[p].dispose(),this.markers.splice(p--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].dispose(),this.markers.splice(d--,1);this._isClearing=!1}addMarker(d){const p=new I.Marker(d);return this.markers.push(p),p.register(this.lines.onTrim(S=>{p.line-=S,p.line<0&&p.dispose()})),p.register(this.lines.onInsert(S=>{p.line>=S.index&&(p.line+=S.amount)})),p.register(this.lines.onDelete(S=>{p.line>=S.index&&p.line<S.index+S.amount&&p.dispose(),p.line>S.index&&(p.line-=S.amount)})),p.register(p.onDispose(()=>this._removeMarker(p))),p}_removeMarker(d){this._isClearing||this.markers.splice(this.markers.indexOf(d),1)}iterator(d,p,S,D,T){return new g(this,d,p,S,D,T)}};class g{constructor(p,S,D=0,T=p.lines.length,_=0,R=0){this._buffer=p,this._trimRight=S,this._startIndex=D,this._endIndex=T,this._startOverscan=_,this._endOverscan=R,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}hasNext(){return this._current<this._endIndex}next(){const p=this._buffer.getWrappedRangeForLine(this._current);p.first<this._startIndex-this._startOverscan&&(p.first=this._startIndex-this._startOverscan),p.last>this._endIndex+this._endOverscan&&(p.last=this._endIndex+this._endOverscan),p.first=Math.max(p.first,0),p.last=Math.min(p.last,this._buffer.lines.length);let S="";for(let D=p.first;D<=p.last;++D)S+=this._buffer.translateBufferLineToString(D,this._trimRight);return this._current=p.last+1,{range:p,content:S}}}h.BufferStringIterator=g},8437:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BufferLine=h.DEFAULT_ATTR_DATA=void 0;const y=v(482),M=v(643),w=v(511),b=v(3734);h.DEFAULT_ATTR_DATA=Object.freeze(new b.AttributeData);let A=0;class I{constructor(c,f,g=!1){this.isWrapped=g,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*c);const d=f||w.CellData.fromCharData([0,M.NULL_CELL_CHAR,M.NULL_CELL_WIDTH,M.NULL_CELL_CODE]);for(let p=0;p<c;++p)this.setCell(p,d);this.length=c}get(c){const f=this._data[3*c+0],g=2097151&f;return[this._data[3*c+1],2097152&f?this._combined[c]:g?(0,y.stringFromCodePoint)(g):"",f>>22,2097152&f?this._combined[c].charCodeAt(this._combined[c].length-1):g]}set(c,f){this._data[3*c+1]=f[M.CHAR_DATA_ATTR_INDEX],f[M.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[c]=f[1],this._data[3*c+0]=2097152|c|f[M.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*c+0]=f[M.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|f[M.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(c){return this._data[3*c+0]>>22}hasWidth(c){return 12582912&this._data[3*c+0]}getFg(c){return this._data[3*c+1]}getBg(c){return this._data[3*c+2]}hasContent(c){return 4194303&this._data[3*c+0]}getCodePoint(c){const f=this._data[3*c+0];return 2097152&f?this._combined[c].charCodeAt(this._combined[c].length-1):2097151&f}isCombined(c){return 2097152&this._data[3*c+0]}getString(c){const f=this._data[3*c+0];return 2097152&f?this._combined[c]:2097151&f?(0,y.stringFromCodePoint)(2097151&f):""}isProtected(c){return 536870912&this._data[3*c+2]}loadCell(c,f){return A=3*c,f.content=this._data[A+0],f.fg=this._data[A+1],f.bg=this._data[A+2],2097152&f.content&&(f.combinedData=this._combined[c]),268435456&f.bg&&(f.extended=this._extendedAttrs[c]),f}setCell(c,f){2097152&f.content&&(this._combined[c]=f.combinedData),268435456&f.bg&&(this._extendedAttrs[c]=f.extended),this._data[3*c+0]=f.content,this._data[3*c+1]=f.fg,this._data[3*c+2]=f.bg}setCellFromCodePoint(c,f,g,d,p,S){268435456&p&&(this._extendedAttrs[c]=S),this._data[3*c+0]=f|g<<22,this._data[3*c+1]=d,this._data[3*c+2]=p}addCodepointToCell(c,f){let g=this._data[3*c+0];2097152&g?this._combined[c]+=(0,y.stringFromCodePoint)(f):(2097151&g?(this._combined[c]=(0,y.stringFromCodePoint)(2097151&g)+(0,y.stringFromCodePoint)(f),g&=-2097152,g|=2097152):g=4194304|f,this._data[3*c+0]=g)}insertCells(c,f,g,d){if((c%=this.length)&&2===this.getWidth(c-1)&&this.setCellFromCodePoint(c-1,0,1,d?.fg||0,d?.bg||0,d?.extended||new b.ExtendedAttrs),f<this.length-c){const p=new w.CellData;for(let S=this.length-c-f-1;S>=0;--S)this.setCell(c+f+S,this.loadCell(c+S,p));for(let S=0;S<f;++S)this.setCell(c+S,g)}else for(let p=c;p<this.length;++p)this.setCell(p,g);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,d?.fg||0,d?.bg||0,d?.extended||new b.ExtendedAttrs)}deleteCells(c,f,g,d){if(f<this.length-(c%=this.length)){const p=new w.CellData;for(let S=0;S<this.length-c-f;++S)this.setCell(c+S,this.loadCell(c+f+S,p));for(let S=this.length-f;S<this.length;++S)this.setCell(S,g)}else for(let p=c;p<this.length;++p)this.setCell(p,g);c&&2===this.getWidth(c-1)&&this.setCellFromCodePoint(c-1,0,1,d?.fg||0,d?.bg||0,d?.extended||new b.ExtendedAttrs),0!==this.getWidth(c)||this.hasContent(c)||this.setCellFromCodePoint(c,0,1,d?.fg||0,d?.bg||0,d?.extended||new b.ExtendedAttrs)}replaceCells(c,f,g,d,p=!1){if(p)for(c&&2===this.getWidth(c-1)&&!this.isProtected(c-1)&&this.setCellFromCodePoint(c-1,0,1,d?.fg||0,d?.bg||0,d?.extended||new b.ExtendedAttrs),f<this.length&&2===this.getWidth(f-1)&&!this.isProtected(f)&&this.setCellFromCodePoint(f,0,1,d?.fg||0,d?.bg||0,d?.extended||new b.ExtendedAttrs);c<f&&c<this.length;)this.isProtected(c)||this.setCell(c,g),c++;else for(c&&2===this.getWidth(c-1)&&this.setCellFromCodePoint(c-1,0,1,d?.fg||0,d?.bg||0,d?.extended||new b.ExtendedAttrs),f<this.length&&2===this.getWidth(f-1)&&this.setCellFromCodePoint(f,0,1,d?.fg||0,d?.bg||0,d?.extended||new b.ExtendedAttrs);c<f&&c<this.length;)this.setCell(c++,g)}resize(c,f){if(c===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const g=3*c;if(c>this.length){if(this._data.buffer.byteLength>=4*g)this._data=new Uint32Array(this._data.buffer,0,g);else{const d=new Uint32Array(g);d.set(this._data),this._data=d}for(let d=this.length;d<c;++d)this.setCell(d,f)}else{this._data=this._data.subarray(0,g);const d=Object.keys(this._combined);for(let S=0;S<d.length;S++){const D=parseInt(d[S],10);D>=c&&delete this._combined[D]}const p=Object.keys(this._extendedAttrs);for(let S=0;S<p.length;S++){const D=parseInt(p[S],10);D>=c&&delete this._extendedAttrs[D]}}return this.length=c,4*g*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const c=new Uint32Array(this._data.length);return c.set(this._data),this._data=c,1}return 0}fill(c,f=!1){if(f)for(let g=0;g<this.length;++g)this.isProtected(g)||this.setCell(g,c);else{this._combined={},this._extendedAttrs={};for(let g=0;g<this.length;++g)this.setCell(g,c)}}copyFrom(c){this.length!==c.length?this._data=new Uint32Array(c._data):this._data.set(c._data),this.length=c.length,this._combined={};for(const f in c._combined)this._combined[f]=c._combined[f];this._extendedAttrs={};for(const f in c._extendedAttrs)this._extendedAttrs[f]=c._extendedAttrs[f];this.isWrapped=c.isWrapped}clone(){const c=new I(0);c._data=new Uint32Array(this._data),c.length=this.length;for(const f in this._combined)c._combined[f]=this._combined[f];for(const f in this._extendedAttrs)c._extendedAttrs[f]=this._extendedAttrs[f];return c.isWrapped=this.isWrapped,c}getTrimmedLength(){for(let c=this.length-1;c>=0;--c)if(4194303&this._data[3*c+0])return c+(this._data[3*c+0]>>22);return 0}copyCellsFrom(c,f,g,d,p){const S=c._data;if(p)for(let T=d-1;T>=0;T--){for(let _=0;_<3;_++)this._data[3*(g+T)+_]=S[3*(f+T)+_];268435456&S[3*(f+T)+2]&&(this._extendedAttrs[g+T]=c._extendedAttrs[f+T])}else for(let T=0;T<d;T++){for(let _=0;_<3;_++)this._data[3*(g+T)+_]=S[3*(f+T)+_];268435456&S[3*(f+T)+2]&&(this._extendedAttrs[g+T]=c._extendedAttrs[f+T])}const D=Object.keys(c._combined);for(let T=0;T<D.length;T++){const _=parseInt(D[T],10);_>=f&&(this._combined[_-f+g]=c._combined[_])}}translateToString(c=!1,f=0,g=this.length){c&&(g=Math.min(g,this.getTrimmedLength()));let d="";for(;f<g;){const p=this._data[3*f+0],S=2097151&p;d+=2097152&p?this._combined[f]:S?(0,y.stringFromCodePoint)(S):M.WHITESPACE_CELL_CHAR,f+=p>>22||1}return d}}h.BufferLine=I},4841:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.getRangeLength=void 0,h.getRangeLength=function(v,y){if(v.start.y>v.end.y)throw new Error(`Buffer range end (${v.end.x}, ${v.end.y}) cannot be before start (${v.start.x}, ${v.start.y})`);return y*(v.end.y-v.start.y)+(v.end.x-v.start.x+1)}},4634:(Q,h)=>{function v(y,M,w){if(M===y.length-1)return y[M].getTrimmedLength();const b=!y[M].hasContent(w-1)&&1===y[M].getWidth(w-1),A=2===y[M+1].getWidth(0);return b&&A?w-1:w}Object.defineProperty(h,"__esModule",{value:!0}),h.getWrappedLineTrimmedLength=h.reflowSmallerGetNewLineLengths=h.reflowLargerApplyNewLayout=h.reflowLargerCreateNewLayout=h.reflowLargerGetLinesToRemove=void 0,h.reflowLargerGetLinesToRemove=function(y,M,w,b,A){const I=[];for(let C=0;C<y.length-1;C++){let c=C,f=y.get(++c);if(!f.isWrapped)continue;const g=[y.get(C)];for(;c<y.length&&f.isWrapped;)g.push(f),f=y.get(++c);if(b>=C&&b<c){C+=g.length-1;continue}let d=0,p=v(g,d,M),S=1,D=0;for(;S<g.length;){const _=v(g,S,M),N=Math.min(_-D,w-p);g[d].copyCellsFrom(g[S],D,p,N,!1),p+=N,p===w&&(d++,p=0),D+=N,D===_&&(S++,D=0),0===p&&0!==d&&2===g[d-1].getWidth(w-1)&&(g[d].copyCellsFrom(g[d-1],w-1,p++,1,!1),g[d-1].setCell(w-1,A))}g[d].replaceCells(p,w,A);let T=0;for(let _=g.length-1;_>0&&(_>d||0===g[_].getTrimmedLength());_--)T++;T>0&&(I.push(C+g.length-T),I.push(T)),C+=g.length-1}return I},h.reflowLargerCreateNewLayout=function(y,M){const w=[];let b=0,A=M[b],I=0;for(let C=0;C<y.length;C++)if(A===C){const c=M[++b];y.onDeleteEmitter.fire({index:C-I,amount:c}),C+=c-1,I+=c,A=M[++b]}else w.push(C);return{layout:w,countRemoved:I}},h.reflowLargerApplyNewLayout=function(y,M){const w=[];for(let b=0;b<M.length;b++)w.push(y.get(M[b]));for(let b=0;b<w.length;b++)y.set(b,w[b]);y.length=M.length},h.reflowSmallerGetNewLineLengths=function(y,M,w){const b=[],A=y.map((f,g)=>v(y,g,M)).reduce((f,g)=>f+g);let I=0,C=0,c=0;for(;c<A;){if(A-c<w){b.push(A-c);break}I+=w;const f=v(y,C,M);I>f&&(I-=f,C++);const g=2===y[C].getWidth(I-1);g&&I--;const d=g?w-1:w;b.push(d),c+=d}return b},h.getWrappedLineTrimmedLength=v},5295:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BufferSet=void 0;const y=v(9092),M=v(8460),w=v(844);h.BufferSet=class b extends w.Disposable{constructor(I,C){super(),this._optionsService=I,this._bufferService=C,this._onBufferActivate=this.register(new M.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new y.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new y.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(I){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(I),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(I,C){this._normal.resize(I,C),this._alt.resize(I,C),this.setupTabStops(I)}setupTabStops(I){this._normal.setupTabStops(I),this._alt.setupTabStops(I)}}},511:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CellData=void 0;const y=v(482),M=v(643),w=v(3734);class b extends w.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new w.ExtendedAttrs,this.combinedData=""}static fromCharData(I){const C=new b;return C.setFromCharData(I),C}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,y.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(I){this.fg=I[M.CHAR_DATA_ATTR_INDEX],this.bg=0;let C=!1;if(I[M.CHAR_DATA_CHAR_INDEX].length>2)C=!0;else if(2===I[M.CHAR_DATA_CHAR_INDEX].length){const c=I[M.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=c&&c<=56319){const f=I[M.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=f&&f<=57343?this.content=1024*(c-55296)+f-56320+65536|I[M.CHAR_DATA_WIDTH_INDEX]<<22:C=!0}else C=!0}else this.content=I[M.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|I[M.CHAR_DATA_WIDTH_INDEX]<<22;C&&(this.combinedData=I[M.CHAR_DATA_CHAR_INDEX],this.content=2097152|I[M.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}h.CellData=b},643:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WHITESPACE_CELL_CODE=h.WHITESPACE_CELL_WIDTH=h.WHITESPACE_CELL_CHAR=h.NULL_CELL_CODE=h.NULL_CELL_WIDTH=h.NULL_CELL_CHAR=h.CHAR_DATA_CODE_INDEX=h.CHAR_DATA_WIDTH_INDEX=h.CHAR_DATA_CHAR_INDEX=h.CHAR_DATA_ATTR_INDEX=h.DEFAULT_EXT=h.DEFAULT_ATTR=h.DEFAULT_COLOR=void 0,h.DEFAULT_COLOR=0,h.DEFAULT_ATTR=256|h.DEFAULT_COLOR<<9,h.DEFAULT_EXT=0,h.CHAR_DATA_ATTR_INDEX=0,h.CHAR_DATA_CHAR_INDEX=1,h.CHAR_DATA_WIDTH_INDEX=2,h.CHAR_DATA_CODE_INDEX=3,h.NULL_CELL_CHAR="",h.NULL_CELL_WIDTH=1,h.NULL_CELL_CODE=0,h.WHITESPACE_CELL_CHAR=" ",h.WHITESPACE_CELL_WIDTH=1,h.WHITESPACE_CELL_CODE=32},4863:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Marker=void 0;const y=v(8460),M=v(844);class w{constructor(A){this.line=A,this.isDisposed=!1,this._disposables=[],this._id=w._nextId++,this._onDispose=this.register(new y.EventEmitter),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,M.disposeArray)(this._disposables),this._disposables.length=0)}register(A){return this._disposables.push(A),A}}h.Marker=w,w._nextId=1},7116:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DEFAULT_CHARSET=h.CHARSETS=void 0,h.CHARSETS={},h.DEFAULT_CHARSET=h.CHARSETS.B,h.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},h.CHARSETS.A={"#":"\xa3"},h.CHARSETS.B=void 0,h.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},h.CHARSETS.C=h.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},h.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},h.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},h.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},h.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},h.CHARSETS.E=h.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},h.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},h.CHARSETS.H=h.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},h.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(Q,h)=>{var v,y,M;Object.defineProperty(h,"__esModule",{value:!0}),h.C1_ESCAPED=h.C1=h.C0=void 0,(M=v=h.C0||(h.C0={})).NUL="\0",M.SOH="\x01",M.STX="\x02",M.ETX="\x03",M.EOT="\x04",M.ENQ="\x05",M.ACK="\x06",M.BEL="\x07",M.BS="\b",M.HT="\t",M.LF="\n",M.VT="\v",M.FF="\f",M.CR="\r",M.SO="\x0e",M.SI="\x0f",M.DLE="\x10",M.DC1="\x11",M.DC2="\x12",M.DC3="\x13",M.DC4="\x14",M.NAK="\x15",M.SYN="\x16",M.ETB="\x17",M.CAN="\x18",M.EM="\x19",M.SUB="\x1a",M.ESC="\x1b",M.FS="\x1c",M.GS="\x1d",M.RS="\x1e",M.US="\x1f",M.SP=" ",M.DEL="\x7f",(y=h.C1||(h.C1={})).PAD="\x80",y.HOP="\x81",y.BPH="\x82",y.NBH="\x83",y.IND="\x84",y.NEL="\x85",y.SSA="\x86",y.ESA="\x87",y.HTS="\x88",y.HTJ="\x89",y.VTS="\x8a",y.PLD="\x8b",y.PLU="\x8c",y.RI="\x8d",y.SS2="\x8e",y.SS3="\x8f",y.DCS="\x90",y.PU1="\x91",y.PU2="\x92",y.STS="\x93",y.CCH="\x94",y.MW="\x95",y.SPA="\x96",y.EPA="\x97",y.SOS="\x98",y.SGCI="\x99",y.SCI="\x9a",y.CSI="\x9b",y.ST="\x9c",y.OSC="\x9d",y.PM="\x9e",y.APC="\x9f",(h.C1_ESCAPED||(h.C1_ESCAPED={})).ST=`${v.ESC}\\`},7399:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.evaluateKeyboardEvent=void 0;const y=v(2584),M={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};h.evaluateKeyboardEvent=function(w,b,A,I){const C={type:0,cancel:!1,key:void 0},c=(w.shiftKey?1:0)|(w.altKey?2:0)|(w.ctrlKey?4:0)|(w.metaKey?8:0);switch(w.keyCode){case 0:"UIKeyInputUpArrow"===w.key?C.key=b?y.C0.ESC+"OA":y.C0.ESC+"[A":"UIKeyInputLeftArrow"===w.key?C.key=b?y.C0.ESC+"OD":y.C0.ESC+"[D":"UIKeyInputRightArrow"===w.key?C.key=b?y.C0.ESC+"OC":y.C0.ESC+"[C":"UIKeyInputDownArrow"===w.key&&(C.key=b?y.C0.ESC+"OB":y.C0.ESC+"[B");break;case 8:if(w.altKey){C.key=y.C0.ESC+y.C0.DEL;break}C.key=y.C0.DEL;break;case 9:if(w.shiftKey){C.key=y.C0.ESC+"[Z";break}C.key=y.C0.HT,C.cancel=!0;break;case 13:C.key=w.altKey?y.C0.ESC+y.C0.CR:y.C0.CR,C.cancel=!0;break;case 27:C.key=y.C0.ESC,w.altKey&&(C.key=y.C0.ESC+y.C0.ESC),C.cancel=!0;break;case 37:if(w.metaKey)break;c?(C.key=y.C0.ESC+"[1;"+(c+1)+"D",C.key===y.C0.ESC+"[1;3D"&&(C.key=y.C0.ESC+(A?"b":"[1;5D"))):C.key=b?y.C0.ESC+"OD":y.C0.ESC+"[D";break;case 39:if(w.metaKey)break;c?(C.key=y.C0.ESC+"[1;"+(c+1)+"C",C.key===y.C0.ESC+"[1;3C"&&(C.key=y.C0.ESC+(A?"f":"[1;5C"))):C.key=b?y.C0.ESC+"OC":y.C0.ESC+"[C";break;case 38:if(w.metaKey)break;c?(C.key=y.C0.ESC+"[1;"+(c+1)+"A",A||C.key!==y.C0.ESC+"[1;3A"||(C.key=y.C0.ESC+"[1;5A")):C.key=b?y.C0.ESC+"OA":y.C0.ESC+"[A";break;case 40:if(w.metaKey)break;c?(C.key=y.C0.ESC+"[1;"+(c+1)+"B",A||C.key!==y.C0.ESC+"[1;3B"||(C.key=y.C0.ESC+"[1;5B")):C.key=b?y.C0.ESC+"OB":y.C0.ESC+"[B";break;case 45:w.shiftKey||w.ctrlKey||(C.key=y.C0.ESC+"[2~");break;case 46:C.key=c?y.C0.ESC+"[3;"+(c+1)+"~":y.C0.ESC+"[3~";break;case 36:C.key=c?y.C0.ESC+"[1;"+(c+1)+"H":b?y.C0.ESC+"OH":y.C0.ESC+"[H";break;case 35:C.key=c?y.C0.ESC+"[1;"+(c+1)+"F":b?y.C0.ESC+"OF":y.C0.ESC+"[F";break;case 33:w.shiftKey?C.type=2:C.key=w.ctrlKey?y.C0.ESC+"[5;"+(c+1)+"~":y.C0.ESC+"[5~";break;case 34:w.shiftKey?C.type=3:C.key=w.ctrlKey?y.C0.ESC+"[6;"+(c+1)+"~":y.C0.ESC+"[6~";break;case 112:C.key=c?y.C0.ESC+"[1;"+(c+1)+"P":y.C0.ESC+"OP";break;case 113:C.key=c?y.C0.ESC+"[1;"+(c+1)+"Q":y.C0.ESC+"OQ";break;case 114:C.key=c?y.C0.ESC+"[1;"+(c+1)+"R":y.C0.ESC+"OR";break;case 115:C.key=c?y.C0.ESC+"[1;"+(c+1)+"S":y.C0.ESC+"OS";break;case 116:C.key=c?y.C0.ESC+"[15;"+(c+1)+"~":y.C0.ESC+"[15~";break;case 117:C.key=c?y.C0.ESC+"[17;"+(c+1)+"~":y.C0.ESC+"[17~";break;case 118:C.key=c?y.C0.ESC+"[18;"+(c+1)+"~":y.C0.ESC+"[18~";break;case 119:C.key=c?y.C0.ESC+"[19;"+(c+1)+"~":y.C0.ESC+"[19~";break;case 120:C.key=c?y.C0.ESC+"[20;"+(c+1)+"~":y.C0.ESC+"[20~";break;case 121:C.key=c?y.C0.ESC+"[21;"+(c+1)+"~":y.C0.ESC+"[21~";break;case 122:C.key=c?y.C0.ESC+"[23;"+(c+1)+"~":y.C0.ESC+"[23~";break;case 123:C.key=c?y.C0.ESC+"[24;"+(c+1)+"~":y.C0.ESC+"[24~";break;default:if(!w.ctrlKey||w.shiftKey||w.altKey||w.metaKey)if(A&&!I||!w.altKey||w.metaKey)!A||w.altKey||w.ctrlKey||w.shiftKey||!w.metaKey?w.key&&!w.ctrlKey&&!w.altKey&&!w.metaKey&&w.keyCode>=48&&1===w.key.length?C.key=w.key:w.key&&w.ctrlKey&&("_"===w.key&&(C.key=y.C0.US),"@"===w.key&&(C.key=y.C0.NUL)):65===w.keyCode&&(C.type=1);else{const g=M[w.keyCode]?.[w.shiftKey?1:0];if(g)C.key=y.C0.ESC+g;else if(w.keyCode>=65&&w.keyCode<=90){let p=String.fromCharCode(w.ctrlKey?w.keyCode-64:w.keyCode+32);w.shiftKey&&(p=p.toUpperCase()),C.key=y.C0.ESC+p}else if(32===w.keyCode)C.key=y.C0.ESC+(w.ctrlKey?y.C0.NUL:" ");else if("Dead"===w.key&&w.code.startsWith("Key")){let d=w.code.slice(3,4);w.shiftKey||(d=d.toLowerCase()),C.key=y.C0.ESC+d,C.cancel=!0}}else w.keyCode>=65&&w.keyCode<=90?C.key=String.fromCharCode(w.keyCode-64):32===w.keyCode?C.key=y.C0.NUL:w.keyCode>=51&&w.keyCode<=55?C.key=String.fromCharCode(w.keyCode-51+27):56===w.keyCode?C.key=y.C0.DEL:219===w.keyCode?C.key=y.C0.ESC:220===w.keyCode?C.key=y.C0.FS:221===w.keyCode&&(C.key=y.C0.GS)}return C}},482:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Utf8ToUtf32=h.StringToUtf32=h.utf32ToString=h.stringFromCodePoint=void 0,h.stringFromCodePoint=function(v){return v>65535?(v-=65536,String.fromCharCode(55296+(v>>10))+String.fromCharCode(v%1024+56320)):String.fromCharCode(v)},h.utf32ToString=function(v,y=0,M=v.length){let w="";for(let b=y;b<M;++b){let A=v[b];A>65535?(A-=65536,w+=String.fromCharCode(55296+(A>>10))+String.fromCharCode(A%1024+56320)):w+=String.fromCharCode(A)}return w},h.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(v,y){const M=v.length;if(!M)return 0;let w=0,b=0;if(this._interim){const A=v.charCodeAt(b++);56320<=A&&A<=57343?y[w++]=1024*(this._interim-55296)+A-56320+65536:(y[w++]=this._interim,y[w++]=A),this._interim=0}for(let A=b;A<M;++A){const I=v.charCodeAt(A);if(55296<=I&&I<=56319){if(++A>=M)return this._interim=I,w;const C=v.charCodeAt(A);56320<=C&&C<=57343?y[w++]=1024*(I-55296)+C-56320+65536:(y[w++]=I,y[w++]=C)}else 65279!==I&&(y[w++]=I)}return w}},h.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(v,y){const M=v.length;if(!M)return 0;let w,b,A,I,C=0,c=0,f=0;if(this.interim[0]){let p=!1,S=this.interim[0];S&=192==(224&S)?31:224==(240&S)?15:7;let D,T=0;for(;(D=63&this.interim[++T])&&T<4;)S<<=6,S|=D;const _=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,R=_-T;for(;f<R;){if(f>=M)return 0;if(D=v[f++],128!=(192&D)){f--,p=!0;break}this.interim[T++]=D,S<<=6,S|=63&D}p||(2===_?S<128?f--:y[C++]=S:3===_?S<2048||S>=55296&&S<=57343||65279===S||(y[C++]=S):S<65536||S>1114111||(y[C++]=S)),this.interim.fill(0)}const g=M-4;let d=f;for(;d<M;){for(;!(!(d<g)||128&(w=v[d])||128&(b=v[d+1])||128&(A=v[d+2])||128&(I=v[d+3]));)y[C++]=w,y[C++]=b,y[C++]=A,y[C++]=I,d+=4;if(w=v[d++],w<128)y[C++]=w;else if(192==(224&w)){if(d>=M)return this.interim[0]=w,C;if(b=v[d++],128!=(192&b)){d--;continue}if(c=(31&w)<<6|63&b,c<128){d--;continue}y[C++]=c}else if(224==(240&w)){if(d>=M)return this.interim[0]=w,C;if(b=v[d++],128!=(192&b)){d--;continue}if(d>=M)return this.interim[0]=w,this.interim[1]=b,C;if(A=v[d++],128!=(192&A)){d--;continue}if(c=(15&w)<<12|(63&b)<<6|63&A,c<2048||c>=55296&&c<=57343||65279===c)continue;y[C++]=c}else if(240==(248&w)){if(d>=M)return this.interim[0]=w,C;if(b=v[d++],128!=(192&b)){d--;continue}if(d>=M)return this.interim[0]=w,this.interim[1]=b,C;if(A=v[d++],128!=(192&A)){d--;continue}if(d>=M)return this.interim[0]=w,this.interim[1]=b,this.interim[2]=A,C;if(I=v[d++],128!=(192&I)){d--;continue}if(c=(7&w)<<18|(63&b)<<12|(63&A)<<6|63&I,c<65536||c>1114111)continue;y[C++]=c}}return C}}},225:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.UnicodeV6=void 0;const v=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],y=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let M;h.UnicodeV6=class{constructor(){if(this.version="6",!M){M=new Uint8Array(65536),M.fill(1),M[0]=0,M.fill(0,1,32),M.fill(0,127,160),M.fill(2,4352,4448),M[9001]=2,M[9002]=2,M.fill(2,11904,42192),M[12351]=1,M.fill(2,44032,55204),M.fill(2,63744,64256),M.fill(2,65040,65050),M.fill(2,65072,65136),M.fill(2,65280,65377),M.fill(2,65504,65511);for(let w=0;w<v.length;++w)M.fill(0,v[w][0],v[w][1]+1)}}wcwidth(w){return w<32?0:w<127?1:w<65536?M[w]:function(b,A){let I,C=0,c=A.length-1;if(b<A[0][0]||b>A[c][1])return!1;for(;c>=C;)if(I=C+c>>1,b>A[I][1])C=I+1;else{if(!(b<A[I][0]))return!0;c=I-1}return!1}(w,y)?0:w>=131072&&w<=196605||w>=196608&&w<=262141?2:1}}},5981:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WriteBuffer=void 0;const y=v(8460),M=v(844);h.WriteBuffer=class w extends M.Disposable{constructor(A){super(),this._action=A,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new y.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(A,I){if(void 0!==I&&this._syncCalls>I)return void(this._syncCalls=0);if(this._pendingData+=A.length,this._writeBuffer.push(A),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let C;for(this._isSyncWriting=!0;C=this._writeBuffer.shift();){this._action(C);const c=this._callbacks.shift();c&&c()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(A,I){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=A.length,this._writeBuffer.push(A),this._callbacks.push(I),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=A.length,this._writeBuffer.push(A),this._callbacks.push(I)}_innerWrite(A=0,I=!0){const C=A||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const c=this._writeBuffer[this._bufferOffset],f=this._action(c,I);if(f){const d=p=>Date.now()-C>=12?setTimeout(()=>this._innerWrite(0,p)):this._innerWrite(C,p);return void f.catch(p=>(queueMicrotask(()=>{throw p}),Promise.resolve(!1))).then(d)}const g=this._callbacks[this._bufferOffset];if(g&&g(),this._bufferOffset++,this._pendingData-=c.length,Date.now()-C>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}},5941:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.toRgbString=h.parseColor=void 0;const v=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,y=/^[\da-f]+$/;function M(w,b){const A=w.toString(16),I=A.length<2?"0"+A:A;switch(b){case 4:return A[0];case 8:return I;case 12:return(I+I).slice(0,3);default:return I+I}}h.parseColor=function(w){if(!w)return;let b=w.toLowerCase();if(0===b.indexOf("rgb:")){b=b.slice(4);const A=v.exec(b);if(A){const I=A[1]?15:A[4]?255:A[7]?4095:65535;return[Math.round(parseInt(A[1]||A[4]||A[7]||A[10],16)/I*255),Math.round(parseInt(A[2]||A[5]||A[8]||A[11],16)/I*255),Math.round(parseInt(A[3]||A[6]||A[9]||A[12],16)/I*255)]}}else if(0===b.indexOf("#")&&(b=b.slice(1),y.exec(b)&&[3,6,9,12].includes(b.length))){const A=b.length/3,I=[0,0,0];for(let C=0;C<3;++C){const c=parseInt(b.slice(A*C,A*C+A),16);I[C]=1===A?c<<4:2===A?c:3===A?c>>4:c>>8}return I}},h.toRgbString=function(w,b=16){const[A,I,C]=w;return`rgb:${M(A,b)}/${M(I,b)}/${M(C,b)}`}},5770:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PAYLOAD_LIMIT=void 0,h.PAYLOAD_LIMIT=1e7},6351:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DcsHandler=h.DcsParser=void 0;const y=v(482),M=v(8742),w=v(5770),b=[];h.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=b,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=b}registerHandler(I,C){void 0===this._handlers[I]&&(this._handlers[I]=[]);const c=this._handlers[I];return c.push(C),{dispose:()=>{const f=c.indexOf(C);-1!==f&&c.splice(f,1)}}}clearHandler(I){this._handlers[I]&&delete this._handlers[I]}setHandlerFallback(I){this._handlerFb=I}reset(){if(this._active.length)for(let I=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;I>=0;--I)this._active[I].unhook(!1);this._stack.paused=!1,this._active=b,this._ident=0}hook(I,C){if(this.reset(),this._ident=I,this._active=this._handlers[I]||b,this._active.length)for(let c=this._active.length-1;c>=0;c--)this._active[c].hook(C);else this._handlerFb(this._ident,"HOOK",C)}put(I,C,c){if(this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].put(I,C,c);else this._handlerFb(this._ident,"PUT",(0,y.utf32ToString)(I,C,c))}unhook(I,C=!0){if(this._active.length){let c=!1,f=this._active.length-1,g=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,c=C,g=this._stack.fallThrough,this._stack.paused=!1),!g&&!1===c){for(;f>=0&&(c=this._active[f].unhook(I),!0!==c);f--)if(c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,c;f--}for(;f>=0;f--)if(c=this._active[f].unhook(!1),c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,c}else this._handlerFb(this._ident,"UNHOOK",I);this._active=b,this._ident=0}};const A=new M.Params;A.addParam(0),h.DcsHandler=class{constructor(I){this._handler=I,this._data="",this._params=A,this._hitLimit=!1}hook(I){this._params=I.length>1||I.params[0]?I.clone():A,this._data="",this._hitLimit=!1}put(I,C,c){this._hitLimit||(this._data+=(0,y.utf32ToString)(I,C,c),this._data.length>w.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(I){let C=!1;if(this._hitLimit)C=!1;else if(I&&(C=this._handler(this._data,this._params),C instanceof Promise))return C.then(c=>(this._params=A,this._data="",this._hitLimit=!1,c));return this._params=A,this._data="",this._hitLimit=!1,C}}},2015:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.EscapeSequenceParser=h.VT500_TRANSITION_TABLE=h.TransitionTable=void 0;const y=v(844),M=v(8742),w=v(6242),b=v(6351);class A{constructor(f){this.table=new Uint8Array(f)}setDefault(f,g){this.table.fill(f<<4|g)}add(f,g,d,p){this.table[g<<8|f]=d<<4|p}addMany(f,g,d,p){for(let S=0;S<f.length;S++)this.table[g<<8|f[S]]=d<<4|p}}h.TransitionTable=A;const I=160;h.VT500_TRANSITION_TABLE=function(){const c=new A(4095),f=Array.apply(null,Array(256)).map((T,_)=>_),g=(T,_)=>f.slice(T,_),d=g(32,127),p=g(0,24);p.push(25),p.push.apply(p,g(28,32));const S=g(0,14);let D;for(D in c.setDefault(1,0),c.addMany(d,0,2,0),S)c.addMany([24,26,153,154],D,3,0),c.addMany(g(128,144),D,3,0),c.addMany(g(144,152),D,3,0),c.add(156,D,0,0),c.add(27,D,11,1),c.add(157,D,4,8),c.addMany([152,158,159],D,0,7),c.add(155,D,11,3),c.add(144,D,11,9);return c.addMany(p,0,3,0),c.addMany(p,1,3,1),c.add(127,1,0,1),c.addMany(p,8,0,8),c.addMany(p,3,3,3),c.add(127,3,0,3),c.addMany(p,4,3,4),c.add(127,4,0,4),c.addMany(p,6,3,6),c.addMany(p,5,3,5),c.add(127,5,0,5),c.addMany(p,2,3,2),c.add(127,2,0,2),c.add(93,1,4,8),c.addMany(d,8,5,8),c.add(127,8,5,8),c.addMany([156,27,24,26,7],8,6,0),c.addMany(g(28,32),8,0,8),c.addMany([88,94,95],1,0,7),c.addMany(d,7,0,7),c.addMany(p,7,0,7),c.add(156,7,0,0),c.add(127,7,0,7),c.add(91,1,11,3),c.addMany(g(64,127),3,7,0),c.addMany(g(48,60),3,8,4),c.addMany([60,61,62,63],3,9,4),c.addMany(g(48,60),4,8,4),c.addMany(g(64,127),4,7,0),c.addMany([60,61,62,63],4,0,6),c.addMany(g(32,64),6,0,6),c.add(127,6,0,6),c.addMany(g(64,127),6,0,0),c.addMany(g(32,48),3,9,5),c.addMany(g(32,48),5,9,5),c.addMany(g(48,64),5,0,6),c.addMany(g(64,127),5,7,0),c.addMany(g(32,48),4,9,5),c.addMany(g(32,48),1,9,2),c.addMany(g(32,48),2,9,2),c.addMany(g(48,127),2,10,0),c.addMany(g(48,80),1,10,0),c.addMany(g(81,88),1,10,0),c.addMany([89,90,92],1,10,0),c.addMany(g(96,127),1,10,0),c.add(80,1,11,9),c.addMany(p,9,0,9),c.add(127,9,0,9),c.addMany(g(28,32),9,0,9),c.addMany(g(32,48),9,9,12),c.addMany(g(48,60),9,8,10),c.addMany([60,61,62,63],9,9,10),c.addMany(p,11,0,11),c.addMany(g(32,128),11,0,11),c.addMany(g(28,32),11,0,11),c.addMany(p,10,0,10),c.add(127,10,0,10),c.addMany(g(28,32),10,0,10),c.addMany(g(48,60),10,8,10),c.addMany([60,61,62,63],10,0,11),c.addMany(g(32,48),10,9,12),c.addMany(p,12,0,12),c.add(127,12,0,12),c.addMany(g(28,32),12,0,12),c.addMany(g(32,48),12,9,12),c.addMany(g(48,64),12,0,11),c.addMany(g(64,127),12,12,13),c.addMany(g(64,127),10,12,13),c.addMany(g(64,127),9,12,13),c.addMany(p,13,13,13),c.addMany(d,13,13,13),c.add(127,13,0,13),c.addMany([27,156,24,26],13,14,0),c.add(I,0,2,0),c.add(I,8,5,8),c.add(I,6,0,6),c.add(I,11,0,11),c.add(I,13,13,13),c}();h.EscapeSequenceParser=class C extends y.Disposable{constructor(f=h.VT500_TRANSITION_TABLE){super(),this._transitions=f,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new M.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(g,d,p)=>{},this._executeHandlerFb=g=>{},this._csiHandlerFb=(g,d)=>{},this._escHandlerFb=g=>{},this._errorHandlerFb=g=>g,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,y.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new w.OscParser),this._dcsParser=this.register(new b.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(f,g=[64,126]){let d=0;if(f.prefix){if(f.prefix.length>1)throw new Error("only one byte as prefix supported");if(d=f.prefix.charCodeAt(0),d&&60>d||d>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(f.intermediates){if(f.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let S=0;S<f.intermediates.length;++S){const D=f.intermediates.charCodeAt(S);if(32>D||D>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");d<<=8,d|=D}}if(1!==f.final.length)throw new Error("final must be a single byte");const p=f.final.charCodeAt(0);if(g[0]>p||p>g[1])throw new Error(`final must be in range ${g[0]} .. ${g[1]}`);return d<<=8,d|=p,d}identToString(f){const g=[];for(;f;)g.push(String.fromCharCode(255&f)),f>>=8;return g.reverse().join("")}setPrintHandler(f){this._printHandler=f}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(f,g){const d=this._identifier(f,[48,126]);void 0===this._escHandlers[d]&&(this._escHandlers[d]=[]);const p=this._escHandlers[d];return p.push(g),{dispose:()=>{const S=p.indexOf(g);-1!==S&&p.splice(S,1)}}}clearEscHandler(f){this._escHandlers[this._identifier(f,[48,126])]&&delete this._escHandlers[this._identifier(f,[48,126])]}setEscHandlerFallback(f){this._escHandlerFb=f}setExecuteHandler(f,g){this._executeHandlers[f.charCodeAt(0)]=g}clearExecuteHandler(f){this._executeHandlers[f.charCodeAt(0)]&&delete this._executeHandlers[f.charCodeAt(0)]}setExecuteHandlerFallback(f){this._executeHandlerFb=f}registerCsiHandler(f,g){const d=this._identifier(f);void 0===this._csiHandlers[d]&&(this._csiHandlers[d]=[]);const p=this._csiHandlers[d];return p.push(g),{dispose:()=>{const S=p.indexOf(g);-1!==S&&p.splice(S,1)}}}clearCsiHandler(f){this._csiHandlers[this._identifier(f)]&&delete this._csiHandlers[this._identifier(f)]}setCsiHandlerFallback(f){this._csiHandlerFb=f}registerDcsHandler(f,g){return this._dcsParser.registerHandler(this._identifier(f),g)}clearDcsHandler(f){this._dcsParser.clearHandler(this._identifier(f))}setDcsHandlerFallback(f){this._dcsParser.setHandlerFallback(f)}registerOscHandler(f,g){return this._oscParser.registerHandler(f,g)}clearOscHandler(f){this._oscParser.clearHandler(f)}setOscHandlerFallback(f){this._oscParser.setHandlerFallback(f)}setErrorHandler(f){this._errorHandler=f}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(f,g,d,p,S){this._parseStack.state=f,this._parseStack.handlers=g,this._parseStack.handlerPos=d,this._parseStack.transition=p,this._parseStack.chunkPos=S}parse(f,g,d){let p,S=0,D=0,T=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,T=this._parseStack.chunkPos+1;else{if(void 0===d||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const _=this._parseStack.handlers;let R=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===d&&R>-1)for(;R>=0&&(p=_[R](this._params),!0!==p);R--)if(p instanceof Promise)return this._parseStack.handlerPos=R,p;this._parseStack.handlers=[];break;case 4:if(!1===d&&R>-1)for(;R>=0&&(p=_[R](),!0!==p);R--)if(p instanceof Promise)return this._parseStack.handlerPos=R,p;this._parseStack.handlers=[];break;case 6:if(S=f[this._parseStack.chunkPos],p=this._dcsParser.unhook(24!==S&&26!==S,d),p)return p;27===S&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(S=f[this._parseStack.chunkPos],p=this._oscParser.end(24!==S&&26!==S,d),p)return p;27===S&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,T=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let _=T;_<g;++_){switch(S=f[_],D=this._transitions.table[this.currentState<<8|(S<160?S:I)],D>>4){case 2:for(let $=_+1;;++$){if($>=g||(S=f[$])<32||S>126&&S<I){this._printHandler(f,_,$),_=$-1;break}if(++$>=g||(S=f[$])<32||S>126&&S<I){this._printHandler(f,_,$),_=$-1;break}if(++$>=g||(S=f[$])<32||S>126&&S<I){this._printHandler(f,_,$),_=$-1;break}if(++$>=g||(S=f[$])<32||S>126&&S<I){this._printHandler(f,_,$),_=$-1;break}}break;case 3:this._executeHandlers[S]?this._executeHandlers[S]():this._executeHandlerFb(S),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:_,code:S,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const R=this._csiHandlers[this._collect<<8|S];let P=R?R.length-1:-1;for(;P>=0&&(p=R[P](this._params),!0!==p);P--)if(p instanceof Promise)return this._preserveStack(3,R,P,D,_),p;P<0&&this._csiHandlerFb(this._collect<<8|S,this._params),this.precedingCodepoint=0;break;case 8:do{switch(S){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(S-48)}}while(++_<g&&(S=f[_])>47&&S<60);_--;break;case 9:this._collect<<=8,this._collect|=S;break;case 10:const N=this._escHandlers[this._collect<<8|S];let H=N?N.length-1:-1;for(;H>=0&&(p=N[H](),!0!==p);H--)if(p instanceof Promise)return this._preserveStack(4,N,H,D,_),p;H<0&&this._escHandlerFb(this._collect<<8|S),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|S,this._params);break;case 13:for(let $=_+1;;++$)if($>=g||24===(S=f[$])||26===S||27===S||S>127&&S<I){this._dcsParser.put(f,_,$),_=$-1;break}break;case 14:if(p=this._dcsParser.unhook(24!==S&&26!==S),p)return this._preserveStack(6,[],0,D,_),p;27===S&&(D|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let $=_+1;;$++)if($>=g||(S=f[$])<32||S>127&&S<I){this._oscParser.put(f,_,$),_=$-1;break}break;case 6:if(p=this._oscParser.end(24!==S&&26!==S),p)return this._preserveStack(5,[],0,D,_),p;27===S&&(D|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&D}}}},6242:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.OscHandler=h.OscParser=void 0;const y=v(5770),M=v(482),w=[];h.OscParser=class{constructor(){this._state=0,this._active=w,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(b,A){void 0===this._handlers[b]&&(this._handlers[b]=[]);const I=this._handlers[b];return I.push(A),{dispose:()=>{const C=I.indexOf(A);-1!==C&&I.splice(C,1)}}}clearHandler(b){this._handlers[b]&&delete this._handlers[b]}setHandlerFallback(b){this._handlerFb=b}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=w}reset(){if(2===this._state)for(let b=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;b>=0;--b)this._active[b].end(!1);this._stack.paused=!1,this._active=w,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||w,this._active.length)for(let b=this._active.length-1;b>=0;b--)this._active[b].start();else this._handlerFb(this._id,"START")}_put(b,A,I){if(this._active.length)for(let C=this._active.length-1;C>=0;C--)this._active[C].put(b,A,I);else this._handlerFb(this._id,"PUT",(0,M.utf32ToString)(b,A,I))}start(){this.reset(),this._state=1}put(b,A,I){if(3!==this._state){if(1===this._state)for(;A<I;){const C=b[A++];if(59===C){this._state=2,this._start();break}if(C<48||57<C)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+C-48}2===this._state&&I-A>0&&this._put(b,A,I)}}end(b,A=!0){if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let I=!1,C=this._active.length-1,c=!1;if(this._stack.paused&&(C=this._stack.loopPosition-1,I=A,c=this._stack.fallThrough,this._stack.paused=!1),!c&&!1===I){for(;C>=0&&(I=this._active[C].end(b),!0!==I);C--)if(I instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!1,I;C--}for(;C>=0;C--)if(I=this._active[C].end(!1),I instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!0,I}else this._handlerFb(this._id,"END",b);this._active=w,this._id=-1,this._state=0}}},h.OscHandler=class{constructor(b){this._handler=b,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(b,A,I){this._hitLimit||(this._data+=(0,M.utf32ToString)(b,A,I),this._data.length>y.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(b){let A=!1;if(this._hitLimit)A=!1;else if(b&&(A=this._handler(this._data),A instanceof Promise))return A.then(I=>(this._data="",this._hitLimit=!1,I));return this._data="",this._hitLimit=!1,A}}},8742:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Params=void 0;const v=2147483647;class y{constructor(w=32,b=32){if(this.maxLength=w,this.maxSubParamsLength=b,b>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(w),this.length=0,this._subParams=new Int32Array(b),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(w),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(w){const b=new y;if(!w.length)return b;for(let A=Array.isArray(w[0])?1:0;A<w.length;++A){const I=w[A];if(Array.isArray(I))for(let C=0;C<I.length;++C)b.addSubParam(I[C]);else b.addParam(I)}return b}clone(){const w=new y(this.maxLength,this.maxSubParamsLength);return w.params.set(this.params),w.length=this.length,w._subParams.set(this._subParams),w._subParamsLength=this._subParamsLength,w._subParamsIdx.set(this._subParamsIdx),w._rejectDigits=this._rejectDigits,w._rejectSubDigits=this._rejectSubDigits,w._digitIsSub=this._digitIsSub,w}toArray(){const w=[];for(let b=0;b<this.length;++b){w.push(this.params[b]);const A=this._subParamsIdx[b]>>8,I=255&this._subParamsIdx[b];I-A>0&&w.push(Array.prototype.slice.call(this._subParams,A,I))}return w}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(w){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(w<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=w>v?v:w}}addSubParam(w){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(w<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=w>v?v:w,this._subParamsIdx[this.length-1]++}}hasSubParams(w){return(255&this._subParamsIdx[w])-(this._subParamsIdx[w]>>8)>0}getSubParams(w){const b=this._subParamsIdx[w]>>8,A=255&this._subParamsIdx[w];return A-b>0?this._subParams.subarray(b,A):null}getSubParamsAll(){const w={};for(let b=0;b<this.length;++b){const A=this._subParamsIdx[b]>>8,I=255&this._subParamsIdx[b];I-A>0&&(w[b]=this._subParams.slice(A,I))}return w}addDigit(w){let b;if(this._rejectDigits||!(b=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const A=this._digitIsSub?this._subParams:this.params,I=A[b-1];A[b-1]=~I?Math.min(10*I+w,v):w}}h.Params=y},5741:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.AddonManager=void 0,h.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let v=this._addons.length-1;v>=0;v--)this._addons[v].instance.dispose()}loadAddon(v,y){const M={instance:y,dispose:y.dispose,isDisposed:!1};this._addons.push(M),y.dispose=()=>this._wrappedAddonDispose(M),y.activate(v)}_wrappedAddonDispose(v){if(v.isDisposed)return;let y=-1;for(let M=0;M<this._addons.length;M++)if(this._addons[M]===v){y=M;break}if(-1===y)throw new Error("Could not dispose an addon that has not been loaded");v.isDisposed=!0,v.dispose.apply(v.instance),this._addons.splice(y,1)}}},8771:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BufferApiView=void 0;const y=v(3785),M=v(511);h.BufferApiView=class{constructor(w,b){this._buffer=w,this.type=b}init(w){return this._buffer=w,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(w){const b=this._buffer.lines.get(w);if(b)return new y.BufferLineApiView(b)}getNullCell(){return new M.CellData}}},3785:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BufferLineApiView=void 0;const y=v(511);h.BufferLineApiView=class{constructor(M){this._line=M}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(M,w){if(!(M<0||M>=this._line.length))return w?(this._line.loadCell(M,w),w):this._line.loadCell(M,new y.CellData)}translateToString(M,w,b){return this._line.translateToString(M,w,b)}}},8285:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BufferNamespaceApi=void 0;const y=v(8771),M=v(8460);h.BufferNamespaceApi=class{constructor(w){this._core=w,this._onBufferChange=new M.EventEmitter,this.onBufferChange=this._onBufferChange.event,this._normal=new y.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new y.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ParserApi=void 0,h.ParserApi=class{constructor(v){this._core=v}registerCsiHandler(v,y){return this._core.registerCsiHandler(v,M=>y(M.toArray()))}addCsiHandler(v,y){return this.registerCsiHandler(v,y)}registerDcsHandler(v,y){return this._core.registerDcsHandler(v,(M,w)=>y(M,w.toArray()))}addDcsHandler(v,y){return this.registerDcsHandler(v,y)}registerEscHandler(v,y){return this._core.registerEscHandler(v,y)}addEscHandler(v,y){return this.registerEscHandler(v,y)}registerOscHandler(v,y){return this._core.registerOscHandler(v,y)}addOscHandler(v,y){return this.registerOscHandler(v,y)}}},7090:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.UnicodeApi=void 0,h.UnicodeApi=class{constructor(v){this._core=v}register(v){this._core.unicodeService.register(v)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(v){this._core.unicodeService.activeVersion=v}}},744:function(Q,h,v){var y=this&&this.__decorate||function(c,f,g,d){var p,S=arguments.length,D=S<3?f:null===d?d=Object.getOwnPropertyDescriptor(f,g):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(c,f,g,d);else for(var T=c.length-1;T>=0;T--)(p=c[T])&&(D=(S<3?p(D):S>3?p(f,g,D):p(f,g))||D);return S>3&&D&&Object.defineProperty(f,g,D),D},M=this&&this.__param||function(c,f){return function(g,d){f(g,d,c)}};Object.defineProperty(h,"__esModule",{value:!0}),h.BufferService=h.MINIMUM_ROWS=h.MINIMUM_COLS=void 0;const w=v(2585),b=v(5295),A=v(8460),I=v(844);h.MINIMUM_COLS=2,h.MINIMUM_ROWS=1;let C=class extends I.Disposable{constructor(c){super(),this.isUserScrolling=!1,this._onResize=this.register(new A.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new A.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(c.rawOptions.cols||0,h.MINIMUM_COLS),this.rows=Math.max(c.rawOptions.rows||0,h.MINIMUM_ROWS),this.buffers=this.register(new b.BufferSet(c,this))}get buffer(){return this.buffers.active}resize(c,f){this.cols=c,this.rows=f,this.buffers.resize(c,f),this._onResize.fire({cols:c,rows:f})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(c,f=!1){const g=this.buffer;let d;d=this._cachedBlankLine,d&&d.length===this.cols&&d.getFg(0)===c.fg&&d.getBg(0)===c.bg||(d=g.getBlankLine(c,f),this._cachedBlankLine=d),d.isWrapped=f;const p=g.ybase+g.scrollTop,S=g.ybase+g.scrollBottom;if(0===g.scrollTop){const D=g.lines.isFull;S===g.lines.length-1?D?g.lines.recycle().copyFrom(d):g.lines.push(d.clone()):g.lines.splice(S+1,0,d.clone()),D?this.isUserScrolling&&(g.ydisp=Math.max(g.ydisp-1,0)):(g.ybase++,this.isUserScrolling||g.ydisp++)}else g.lines.shiftElements(p+1,S-p+1-1,-1),g.lines.set(S,d.clone());this.isUserScrolling||(g.ydisp=g.ybase),this._onScroll.fire(g.ydisp)}scrollLines(c,f,g){const d=this.buffer;if(c<0){if(0===d.ydisp)return;this.isUserScrolling=!0}else c+d.ydisp>=d.ybase&&(this.isUserScrolling=!1);const p=d.ydisp;d.ydisp=Math.max(Math.min(d.ydisp+c,d.ybase),0),p!==d.ydisp&&(f||this._onScroll.fire(d.ydisp))}scrollPages(c){this.scrollLines(c*(this.rows-1))}scrollToTop(){this.scrollLines(-this.buffer.ydisp)}scrollToBottom(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)}scrollToLine(c){const f=c-this.buffer.ydisp;0!==f&&this.scrollLines(f)}};C=y([M(0,w.IOptionsService)],C),h.BufferService=C},7994:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CharsetService=void 0,h.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(v){this.glevel=v,this.charset=this._charsets[v]}setgCharset(v,y){this._charsets[v]=y,this.glevel===v&&(this.charset=y)}}},1753:function(Q,h,v){var y=this&&this.__decorate||function(d,p,S,D){var T,_=arguments.length,R=_<3?p:null===D?D=Object.getOwnPropertyDescriptor(p,S):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(d,p,S,D);else for(var P=d.length-1;P>=0;P--)(T=d[P])&&(R=(_<3?T(R):_>3?T(p,S,R):T(p,S))||R);return _>3&&R&&Object.defineProperty(p,S,R),R},M=this&&this.__param||function(d,p){return function(S,D){p(S,D,d)}};Object.defineProperty(h,"__esModule",{value:!0}),h.CoreMouseService=void 0;const w=v(2585),b=v(8460),A=v(844),I={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:d=>4!==d.button&&1===d.action&&(d.ctrl=!1,d.alt=!1,d.shift=!1,!0)},VT200:{events:19,restrict:d=>32!==d.action},DRAG:{events:23,restrict:d=>32!==d.action||3!==d.button},ANY:{events:31,restrict:d=>!0}};function C(d,p){let S=(d.ctrl?16:0)|(d.shift?4:0)|(d.alt?8:0);return 4===d.button?(S|=64,S|=d.action):(S|=3&d.button,4&d.button&&(S|=64),8&d.button&&(S|=128),32===d.action?S|=32:0!==d.action||p||(S|=3)),S}const c=String.fromCharCode,f={DEFAULT:d=>{const p=[C(d,!1)+32,d.col+32,d.row+32];return p[0]>255||p[1]>255||p[2]>255?"":`\x1b[M${c(p[0])}${c(p[1])}${c(p[2])}`},SGR:d=>{const p=0===d.action&&4!==d.button?"m":"M";return`\x1b[<${C(d,!0)};${d.col};${d.row}${p}`},SGR_PIXELS:d=>{const p=0===d.action&&4!==d.button?"m":"M";return`\x1b[<${C(d,!0)};${d.x};${d.y}${p}`}};let g=class extends A.Disposable{constructor(d,p){super(),this._bufferService=d,this._coreService=p,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new b.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const S of Object.keys(I))this.addProtocol(S,I[S]);for(const S of Object.keys(f))this.addEncoding(S,f[S]);this.reset()}addProtocol(d,p){this._protocols[d]=p}addEncoding(d,p){this._encodings[d]=p}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(d){if(!this._protocols[d])throw new Error(`unknown protocol "${d}"`);this._activeProtocol=d,this._onProtocolChange.fire(this._protocols[d].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(d){if(!this._encodings[d])throw new Error(`unknown encoding "${d}"`);this._activeEncoding=d}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(d){if(d.col<0||d.col>=this._bufferService.cols||d.row<0||d.row>=this._bufferService.rows||4===d.button&&32===d.action||3===d.button&&32!==d.action||4!==d.button&&(2===d.action||3===d.action)||(d.col++,d.row++,32===d.action&&this._lastEvent&&this._equalEvents(this._lastEvent,d,"SGR_PIXELS"===this._activeEncoding))||!this._protocols[this._activeProtocol].restrict(d))return!1;const p=this._encodings[this._activeEncoding](d);return p&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(p):this._coreService.triggerDataEvent(p,!0)),this._lastEvent=d,!0}explainEvents(d){return{down:!!(1&d),up:!!(2&d),drag:!!(4&d),move:!!(8&d),wheel:!!(16&d)}}_equalEvents(d,p,S){if(S){if(d.x!==p.x||d.y!==p.y)return!1}else if(d.col!==p.col||d.row!==p.row)return!1;return d.button===p.button&&d.action===p.action&&d.ctrl===p.ctrl&&d.alt===p.alt&&d.shift===p.shift}};g=y([M(0,w.IBufferService),M(1,w.ICoreService)],g),h.CoreMouseService=g},6975:function(Q,h,v){var y=this&&this.__decorate||function(g,d,p,S){var D,T=arguments.length,_=T<3?d:null===S?S=Object.getOwnPropertyDescriptor(d,p):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate(g,d,p,S);else for(var R=g.length-1;R>=0;R--)(D=g[R])&&(_=(T<3?D(_):T>3?D(d,p,_):D(d,p))||_);return T>3&&_&&Object.defineProperty(d,p,_),_},M=this&&this.__param||function(g,d){return function(p,S){d(p,S,g)}};Object.defineProperty(h,"__esModule",{value:!0}),h.CoreService=void 0;const w=v(2585),b=v(8460),A=v(1439),I=v(844),C=Object.freeze({insertMode:!1}),c=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let f=class extends I.Disposable{constructor(g,d,p){super(),this._bufferService=g,this._logService=d,this._optionsService=p,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new b.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new b.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new b.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new b.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,A.clone)(C),this.decPrivateModes=(0,A.clone)(c)}reset(){this.modes=(0,A.clone)(C),this.decPrivateModes=(0,A.clone)(c)}triggerDataEvent(g,d=!1){if(this._optionsService.rawOptions.disableStdin)return;const p=this._bufferService.buffer;d&&this._optionsService.rawOptions.scrollOnUserInput&&p.ybase!==p.ydisp&&this._onRequestScrollToBottom.fire(),d&&this._onUserInput.fire(),this._logService.debug(`sending data "${g}"`,()=>g.split("").map(S=>S.charCodeAt(0))),this._onData.fire(g)}triggerBinaryEvent(g){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${g}"`,()=>g.split("").map(d=>d.charCodeAt(0))),this._onBinary.fire(g))}};f=y([M(0,w.IBufferService),M(1,w.ILogService),M(2,w.IOptionsService)],f),h.CoreService=f},9074:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DecorationService=void 0;const y=v(8055),M=v(8460),w=v(844),b=v(6106);let A=0,I=0;h.DecorationService=class C extends w.Disposable{constructor(){super(),this._decorations=new b.SortedList(g=>g?.marker.line),this._onDecorationRegistered=this.register(new M.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new M.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,w.toDisposable)(()=>{for(const g of this._decorations.values())this._onDecorationRemoved.fire(g);this.reset()}))}get decorations(){return this._decorations.values()}registerDecoration(g){if(g.marker.isDisposed)return;const d=new c(g);if(d){const p=d.marker.onDispose(()=>d.dispose());d.onDispose(()=>{d&&(this._decorations.delete(d)&&this._onDecorationRemoved.fire(d),p.dispose())}),this._decorations.insert(d),this._onDecorationRegistered.fire(d)}return d}reset(){for(const g of this._decorations.values())g.dispose();this._decorations.clear()}*getDecorationsAtCell(g,d,p){var S,D,T;let _=0,R=0;for(const P of this._decorations.getKeyIterator(d))_=null!==(S=P.options.x)&&void 0!==S?S:0,R=_+(null!==(D=P.options.width)&&void 0!==D?D:1),g>=_&&g<R&&(!p||(null!==(T=P.options.layer)&&void 0!==T?T:"bottom")===p)&&(yield P)}forEachDecorationAtCell(g,d,p,S){this._decorations.forEachByKey(d,D=>{var T,_,R;A=null!==(T=D.options.x)&&void 0!==T?T:0,I=A+(null!==(_=D.options.width)&&void 0!==_?_:1),g>=A&&g<I&&(!p||(null!==(R=D.options.layer)&&void 0!==R?R:"bottom")===p)&&S(D)})}dispose(){for(const g of this._decorations.values())this._onDecorationRemoved.fire(g);this.reset()}};class c extends w.Disposable{constructor(g){super(),this.options=g,this.isDisposed=!1,this.onRenderEmitter=this.register(new M.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new M.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=g.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get backgroundColorRGB(){return null===this._cachedBg&&(this._cachedBg=this.options.backgroundColor?y.css.toColor(this.options.backgroundColor):void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this._cachedFg=this.options.foregroundColor?y.css.toColor(this.options.foregroundColor):void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.InstantiationService=h.ServiceCollection=void 0;const y=v(2585),M=v(8343);class w{constructor(...A){this._entries=new Map;for(const[I,C]of A)this.set(I,C)}set(A,I){const C=this._entries.get(A);return this._entries.set(A,I),C}forEach(A){for(const[I,C]of this._entries.entries())A(I,C)}has(A){return this._entries.has(A)}get(A){return this._entries.get(A)}}h.ServiceCollection=w,h.InstantiationService=class{constructor(){this._services=new w,this._services.set(y.IInstantiationService,this)}setService(b,A){this._services.set(b,A)}getService(b){return this._services.get(b)}createInstance(b,...A){const I=(0,M.getServiceDependencies)(b).sort((f,g)=>f.index-g.index),C=[];for(const f of I){const g=this._services.get(f.id);if(!g)throw new Error(`[createInstance] ${b.name} depends on UNKNOWN service ${f.id}.`);C.push(g)}const c=I.length>0?I[0].index:A.length;if(A.length!==c)throw new Error(`[createInstance] First service dependency of ${b.name} at position ${c+1} conflicts with ${A.length} static arguments`);return new b(...A,...C)}}},7866:function(Q,h,v){var y=this&&this.__decorate||function(C,c,f,g){var d,p=arguments.length,S=p<3?c:null===g?g=Object.getOwnPropertyDescriptor(c,f):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(C,c,f,g);else for(var D=C.length-1;D>=0;D--)(d=C[D])&&(S=(p<3?d(S):p>3?d(c,f,S):d(c,f))||S);return p>3&&S&&Object.defineProperty(c,f,S),S},M=this&&this.__param||function(C,c){return function(f,g){c(f,g,C)}};Object.defineProperty(h,"__esModule",{value:!0}),h.LogService=void 0;const w=v(844),b=v(2585),A={debug:b.LogLevelEnum.DEBUG,info:b.LogLevelEnum.INFO,warn:b.LogLevelEnum.WARN,error:b.LogLevelEnum.ERROR,off:b.LogLevelEnum.OFF};let I=class extends w.Disposable{constructor(C){super(),this._optionsService=C,this.logLevel=b.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}_updateLogLevel(){this.logLevel=A[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(C){for(let c=0;c<C.length;c++)"function"==typeof C[c]&&(C[c]=C[c]())}_log(C,c,f){this._evalLazyOptionalParams(f),C.call(console,"xterm.js: "+c,...f)}debug(C,...c){this.logLevel<=b.LogLevelEnum.DEBUG&&this._log(console.log,C,c)}info(C,...c){this.logLevel<=b.LogLevelEnum.INFO&&this._log(console.info,C,c)}warn(C,...c){this.logLevel<=b.LogLevelEnum.WARN&&this._log(console.warn,C,c)}error(C,...c){this.logLevel<=b.LogLevelEnum.ERROR&&this._log(console.error,C,c)}};I=y([M(0,b.IOptionsService)],I),h.LogService=I},7302:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.OptionsService=h.DEFAULT_OPTIONS=void 0;const y=v(8460),M=v(6114),w=v(844);h.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:M.isMac,windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const b=["normal","bold","100","200","300","400","500","600","700","800","900"];h.OptionsService=class A extends w.Disposable{constructor(C){super(),this._onOptionChange=this.register(new y.EventEmitter),this.onOptionChange=this._onOptionChange.event;const c=Object.assign({},h.DEFAULT_OPTIONS);for(const f in C)if(f in c)try{c[f]=this._sanitizeAndValidateOption(f,C[f])}catch(g){console.error(g)}this.rawOptions=c,this.options=Object.assign({},c),this._setupOptions()}onSpecificOptionChange(C,c){return this.onOptionChange(f=>{f===C&&c(this.rawOptions[C])})}onMultipleOptionChange(C,c){return this.onOptionChange(f=>{-1!==C.indexOf(f)&&c()})}_setupOptions(){const C=f=>{if(!(f in h.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);return this.rawOptions[f]},c=(f,g)=>{if(!(f in h.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);g=this._sanitizeAndValidateOption(f,g),this.rawOptions[f]!==g&&(this.rawOptions[f]=g,this._onOptionChange.fire(f))};for(const f in this.rawOptions){const g={get:C.bind(this,f),set:c.bind(this,f)};Object.defineProperty(this.options,f,g)}}_sanitizeAndValidateOption(C,c){switch(C){case"cursorStyle":if(c||(c=h.DEFAULT_OPTIONS[C]),"block"!==(f=c)&&"underline"!==f&&"bar"!==f)throw new Error(`"${c}" is not a valid value for ${C}`);break;case"wordSeparator":c||(c=h.DEFAULT_OPTIONS[C]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof c&&1<=c&&c<=1e3)break;c=b.includes(c)?c:h.DEFAULT_OPTIONS[C];break;case"cursorWidth":c=Math.floor(c);case"lineHeight":case"tabStopWidth":if(c<1)throw new Error(`${C} cannot be less than 1, value: ${c}`);break;case"minimumContrastRatio":c=Math.max(1,Math.min(21,Math.round(10*c)/10));break;case"scrollback":if((c=Math.min(c,4294967295))<0)throw new Error(`${C} cannot be less than 0, value: ${c}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(c<=0)throw new Error(`${C} cannot be less than or equal to 0, value: ${c}`);case"rows":case"cols":if(!c&&0!==c)throw new Error(`${C} must be numeric, value: ${c}`)}var f;return c}}},2660:function(Q,h,v){var y=this&&this.__decorate||function(A,I,C,c){var f,g=arguments.length,d=g<3?I:null===c?c=Object.getOwnPropertyDescriptor(I,C):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(A,I,C,c);else for(var p=A.length-1;p>=0;p--)(f=A[p])&&(d=(g<3?f(d):g>3?f(I,C,d):f(I,C))||d);return g>3&&d&&Object.defineProperty(I,C,d),d},M=this&&this.__param||function(A,I){return function(C,c){I(C,c,A)}};Object.defineProperty(h,"__esModule",{value:!0}),h.OscLinkService=void 0;const w=v(2585);let b=class{constructor(A){this._bufferService=A,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(A){const I=this._bufferService.buffer;if(void 0===A.id){const p=I.addMarker(I.ybase+I.y),S={data:A,id:this._nextId++,lines:[p]};return p.onDispose(()=>this._removeMarkerFromLink(S,p)),this._dataByLinkId.set(S.id,S),S.id}const C=A,c=this._getEntryIdKey(C),f=this._entriesWithId.get(c);if(f)return this.addLineToLink(f.id,I.ybase+I.y),f.id;const g=I.addMarker(I.ybase+I.y),d={id:this._nextId++,key:this._getEntryIdKey(C),data:C,lines:[g]};return g.onDispose(()=>this._removeMarkerFromLink(d,g)),this._entriesWithId.set(d.key,d),this._dataByLinkId.set(d.id,d),d.id}addLineToLink(A,I){const C=this._dataByLinkId.get(A);if(C&&C.lines.every(c=>c.line!==I)){const c=this._bufferService.buffer.addMarker(I);C.lines.push(c),c.onDispose(()=>this._removeMarkerFromLink(C,c))}}getLinkData(A){var I;return null===(I=this._dataByLinkId.get(A))||void 0===I?void 0:I.data}_getEntryIdKey(A){return`${A.id};;${A.uri}`}_removeMarkerFromLink(A,I){const C=A.lines.indexOf(I);-1!==C&&(A.lines.splice(C,1),0===A.lines.length&&(void 0!==A.data.id&&this._entriesWithId.delete(A.key),this._dataByLinkId.delete(A.id)))}};b=y([M(0,w.IBufferService)],b),h.OscLinkService=b},8343:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.createDecorator=h.getServiceDependencies=h.serviceRegistry=void 0,h.serviceRegistry=new Map,h.getServiceDependencies=function(y){return y.di$dependencies||[]},h.createDecorator=function(y){if(h.serviceRegistry.has(y))return h.serviceRegistry.get(y);const M=function(w,b,A){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function v(y,M,w){M.di$target===M?M.di$dependencies.push({id:y,index:w}):(M.di$dependencies=[{id:y,index:w}],M.di$target=M)}(M,w,A)};return M.toString=()=>y,h.serviceRegistry.set(y,M),M}},2585:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.IDecorationService=h.IUnicodeService=h.IOscLinkService=h.IOptionsService=h.ILogService=h.LogLevelEnum=h.IInstantiationService=h.ICharsetService=h.ICoreService=h.ICoreMouseService=h.IBufferService=void 0;const y=v(8343);var M;h.IBufferService=(0,y.createDecorator)("BufferService"),h.ICoreMouseService=(0,y.createDecorator)("CoreMouseService"),h.ICoreService=(0,y.createDecorator)("CoreService"),h.ICharsetService=(0,y.createDecorator)("CharsetService"),h.IInstantiationService=(0,y.createDecorator)("InstantiationService"),(M=h.LogLevelEnum||(h.LogLevelEnum={}))[M.DEBUG=0]="DEBUG",M[M.INFO=1]="INFO",M[M.WARN=2]="WARN",M[M.ERROR=3]="ERROR",M[M.OFF=4]="OFF",h.ILogService=(0,y.createDecorator)("LogService"),h.IOptionsService=(0,y.createDecorator)("OptionsService"),h.IOscLinkService=(0,y.createDecorator)("OscLinkService"),h.IUnicodeService=(0,y.createDecorator)("UnicodeService"),h.IDecorationService=(0,y.createDecorator)("DecorationService")},1480:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.UnicodeService=void 0;const y=v(8460),M=v(225);h.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new y.EventEmitter,this.onChange=this._onChange.event;const w=new M.UnicodeV6;this.register(w),this._active=w.version,this._activeProvider=w}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(w){if(!this._providers[w])throw new Error(`unknown Unicode version "${w}"`);this._active=w,this._activeProvider=this._providers[w],this._onChange.fire(w)}register(w){this._providers[w.version]=w}wcwidth(w){return this._activeProvider.wcwidth(w)}getStringCellWidth(w){let b=0;const A=w.length;for(let I=0;I<A;++I){let C=w.charCodeAt(I);if(55296<=C&&C<=56319){if(++I>=A)return b+this.wcwidth(C);const c=w.charCodeAt(I);56320<=c&&c<=57343?C=1024*(C-55296)+c-56320+65536:b+=this.wcwidth(c)}b+=this.wcwidth(C)}return b}}}},qt={};function _e(Q){var h=qt[Q];if(void 0!==h)return h.exports;var v=qt[Q]={exports:{}};return nr[Q].call(v.exports,v,v.exports,_e),v.exports}var Kt={};return(()=>{var Q=Kt;Object.defineProperty(Q,"__esModule",{value:!0}),Q.Terminal=void 0;const h=_e(3236),v=_e(9042),y=_e(7975),M=_e(7090),w=_e(5741),b=_e(8285),A=["cols","rows"];Q.Terminal=class{constructor(I){this._core=new h.Terminal(I),this._addonManager=new w.AddonManager,this._publicOptions=Object.assign({},this._core.options);const C=f=>this._core.options[f],c=(f,g)=>{this._checkReadonlyOptions(f),this._core.options[f]=g};for(const f in this._core.options){const g={get:C.bind(this,f),set:c.bind(this,f)};Object.defineProperty(this._publicOptions,f,g)}}_checkReadonlyOptions(I){if(A.includes(I))throw new Error(`Option "${I}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new y.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new M.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=new b.BufferNamespaceApi(this._core)),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const I=this._core.coreService.decPrivateModes;let C="none";switch(this._core.coreMouseService.activeProtocol){case"X10":C="x10";break;case"VT200":C="vt200";break;case"DRAG":C="drag";break;case"ANY":C="any"}return{applicationCursorKeysMode:I.applicationCursorKeys,applicationKeypadMode:I.applicationKeypad,bracketedPasteMode:I.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:C,originMode:I.origin,reverseWraparoundMode:I.reverseWraparound,sendFocusMode:I.sendFocus,wraparoundMode:I.wraparound}}get options(){return this._publicOptions}set options(I){for(const C in I)this._publicOptions[C]=I[C]}blur(){this._core.blur()}focus(){this._core.focus()}resize(I,C){this._verifyIntegers(I,C),this._core.resize(I,C)}open(I){this._core.open(I)}attachCustomKeyEventHandler(I){this._core.attachCustomKeyEventHandler(I)}registerLinkProvider(I){return this._core.registerLinkProvider(I)}registerCharacterJoiner(I){return this._checkProposedApi(),this._core.registerCharacterJoiner(I)}deregisterCharacterJoiner(I){this._checkProposedApi(),this._core.deregisterCharacterJoiner(I)}registerMarker(I=0){return this._verifyIntegers(I),this._core.addMarker(I)}registerDecoration(I){var C,c,f;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(C=I.x)&&void 0!==C?C:0,null!==(c=I.width)&&void 0!==c?c:0,null!==(f=I.height)&&void 0!==f?f:0),this._core.registerDecoration(I)}hasSelection(){return this._core.hasSelection()}select(I,C,c){this._verifyIntegers(I,C,c),this._core.select(I,C,c)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(I,C){this._verifyIntegers(I,C),this._core.selectLines(I,C)}dispose(){this._addonManager.dispose(),this._core.dispose()}scrollLines(I){this._verifyIntegers(I),this._core.scrollLines(I)}scrollPages(I){this._verifyIntegers(I),this._core.scrollPages(I)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(I){this._verifyIntegers(I),this._core.scrollToLine(I)}clear(){this._core.clear()}write(I,C){this._core.write(I,C)}writeln(I,C){this._core.write(I),this._core.write("\r\n",C)}paste(I){this._core.paste(I)}refresh(I,C){this._verifyIntegers(I,C),this._core.refresh(I,C)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(I){return this._addonManager.loadAddon(this,I)}static get strings(){return v}_verifyIntegers(...I){for(const C of I)if(C===1/0||isNaN(C)||C%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...I){for(const C of I)if(C&&(C===1/0||isNaN(C)||C%1!=0||C<0))throw new Error("This API only accepts positive integers")}}})(),Kt})()}},Vr=>{Vr(Vr.s=143)}]);