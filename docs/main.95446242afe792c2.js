(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[179],{880:(Br,tr,Wt)=>{"use strict";function _e(e){return"function"==typeof e}function Gt(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Q=Gt(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function h(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class v{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(_e(r))try{r()}catch(s){t=s instanceof Q?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{b(s)}catch(o){t=t??[],o instanceof Q?t=[...t,...o.errors]:t.push(o)}}if(t)throw new Q(t)}}add(t){var n;if(t&&t!==this)if(this.closed)b(t);else{if(t instanceof v){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&h(n,t)}remove(t){const{_finalizers:n}=this;n&&h(n,t),t instanceof v&&t._removeParent(this)}}v.EMPTY=(()=>{const e=new v;return e.closed=!0,e})();const y=v.EMPTY;function E(e){return e instanceof v||e&&"closed"in e&&_e(e.remove)&&_e(e.add)&&_e(e.unsubscribe)}function b(e){_e(e)?e():e.unsubscribe()}const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},I={setTimeout(e,t,...n){const{delegate:r}=I;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=I;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function M(e){I.setTimeout(()=>{const{onUnhandledError:t}=w;if(!t)throw e;t(e)})}function C(){}const c=d("C",void 0,void 0);function d(e,t,n){return{kind:e,value:t,error:n}}let p=null;function S(e){if(w.useDeprecatedSynchronousErrorHandling){const t=!p;if(t&&(p={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=p;if(p=null,n)throw r}}else e()}class T extends v{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,E(t)&&t.add(this)):this.destination=re}static create(t,n,r){return new F(t,n,r)}next(t){this.isStopped?Z(function g(e){return d("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Z(function f(e){return d("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Z(c,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const m=Function.prototype.bind;function x(e,t){return m.call(e,t)}class P{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){H(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){H(r)}else H(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){H(n)}}}class F extends T{constructor(t,n,r){let i;if(super(),_e(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&w.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&x(t.next,s),error:t.error&&x(t.error,s),complete:t.complete&&x(t.complete,s)}):i=t}this.destination=new P(i)}}function H(e){w.useDeprecatedSynchronousErrorHandling?function D(e){w.useDeprecatedSynchronousErrorHandling&&p&&(p.errorThrown=!0,p.error=e)}(e):M(e)}function Z(e,t){const{onStoppedNotification:n}=w;n&&I.setTimeout(()=>n(e,t))}const re={closed:!0,next:C,error:function $(e){throw e},complete:C},oe="function"==typeof Symbol&&Symbol.observable||"@@observable";function R(e){return e}function j(e){return 0===e.length?R:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let N=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function De(e){return e&&e instanceof T||function ue(e){return e&&_e(e.next)&&_e(e.error)&&_e(e.complete)}(e)&&E(e)}(n)?n:new F(n,r,i);return S(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=te(r))((i,s)=>{const o=new F({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[oe](){return this}pipe(...n){return j(n)(this)}toPromise(n){return new(n=te(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=t=>new e(t),e})();function te(e){var t;return null!==(t=e??w.Promise)&&void 0!==t?t:Promise}const ne=Gt(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ae=(()=>{class e extends N{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new U(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ne}next(n){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?y:(this.currentObservers=null,s.push(n),new v(()=>{this.currentObservers=null,h(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new N;return n.source=this,n}}return e.create=(t,n)=>new U(t,n),e})();class U extends ae{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:y}}function V(e){return _e(e?.lift)}function z(e){return t=>{if(V(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function q(e,t,n,r,i){return new ie(e,t,n,r,i)}class ie extends T{constructor(t,n,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function de(e,t){return z((n,r)=>{let i=0;n.subscribe(q(r,s=>{r.next(e.call(t,s,i++))}))})}function Hr(e){return this instanceof Hr?(this.v=e,this):new Hr(e)}function Eb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Sf(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}const oc=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function bf(e){return _e(e?.then)}function wf(e){return _e(e[oe])}function Df(e){return Symbol.asyncIterator&&_e(e?.[Symbol.asyncIterator])}function Ef(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Mf=function Ab(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Af(e){return _e(e?.[Mf])}function If(e){return function Db(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(O){r[O]&&(i[O]=function(k){return new Promise(function(B,W){s.push([O,k,B,W])>1||a(O,k)})})}function a(O,k){try{!function l(O){O.value instanceof Hr?Promise.resolve(O.value.v).then(u,_):A(s[0][2],O)}(r[O](k))}catch(B){A(s[0][3],B)}}function u(O){a("next",O)}function _(O){a("throw",O)}function A(O,k){O(k),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Hr(n.read());if(i)return yield Hr(void 0);yield yield Hr(r)}}finally{n.releaseLock()}})}function xf(e){return _e(e?.getReader)}function nn(e){if(e instanceof N)return e;if(null!=e){if(wf(e))return function Ib(e){return new N(t=>{const n=e[oe]();if(_e(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(oc(e))return function xb(e){return new N(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(bf(e))return function Rb(e){return new N(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,M)})}(e);if(Df(e))return Rf(e);if(Af(e))return function Tb(e){return new N(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(xf(e))return function Ob(e){return Rf(If(e))}(e)}throw Ef(e)}function Rf(e){return new N(t=>{(function kb(e,t){var n,r,i,s;return function bb(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(_){try{u(r.next(_))}catch(A){o(A)}}function l(_){try{u(r.throw(_))}catch(A){o(A)}}function u(_){_.done?s(_.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(_.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Eb(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function nr(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function vt(e,t,n=1/0){return _e(t)?vt((r,i)=>de((s,o)=>t(r,s,i,o))(nn(e(r,i))),n):("number"==typeof t&&(n=t),z((r,i)=>function Pb(e,t,n,r,i,s,o,a){const l=[];let u=0,_=0,A=!1;const O=()=>{A&&!l.length&&!u&&t.complete()},k=W=>u<r?B(W):l.push(W),B=W=>{s&&t.next(W),u++;let G=!1;nn(n(W,_++)).subscribe(q(t,X=>{i?.(X),s?k(X):t.next(X)},()=>{G=!0},void 0,()=>{if(G)try{for(u--;l.length&&u<r;){const X=l.shift();o?nr(t,o,()=>B(X)):B(X)}O()}catch(X){t.error(X)}}))};return e.subscribe(q(t,k,()=>{A=!0,O()})),()=>{a?.()}}(r,i,e,n)))}function di(e=1/0){return vt(R,e)}const Fn=new N(e=>e.complete());function ac(e){return e[e.length-1]}function ms(e){return function Fb(e){return e&&_e(e.schedule)}(ac(e))?e.pop():void 0}function Of(e,t=0){return z((n,r)=>{n.subscribe(q(r,i=>nr(r,e,()=>r.next(i),t),()=>nr(r,e,()=>r.complete(),t),i=>nr(r,e,()=>r.error(i),t)))})}function kf(e,t=0){return z((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Pf(e,t){if(!e)throw new Error("Iterable cannot be null");return new N(n=>{nr(n,t,()=>{const r=e[Symbol.asyncIterator]();nr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function dt(e,t){return t?function $b(e,t){if(null!=e){if(wf(e))return function Bb(e,t){return nn(e).pipe(kf(t),Of(t))}(e,t);if(oc(e))return function Vb(e,t){return new N(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(bf(e))return function Hb(e,t){return nn(e).pipe(kf(t),Of(t))}(e,t);if(Df(e))return Pf(e,t);if(Af(e))return function jb(e,t){return new N(n=>{let r;return nr(n,t,()=>{r=e[Mf](),nr(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>_e(r?.return)&&r.return()})}(e,t);if(xf(e))return function Ub(e,t){return Pf(If(e),t)}(e,t)}throw Ef(e)}(e,t):nn(e)}function Vr(...e){const t=ms(e),n=function Nb(e,t){return"number"==typeof ac(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?nn(r[0]):di(n)(dt(r,t)):Fn}function _s(e={}){const{connector:t=(()=>new ae),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o,a,l,u=0,_=!1,A=!1;const O=()=>{a?.unsubscribe(),a=void 0},k=()=>{O(),o=l=void 0,_=A=!1},B=()=>{const W=o;k(),W?.unsubscribe()};return z((W,G)=>{u++,!A&&!_&&O();const X=l=l??t();G.add(()=>{u--,0===u&&!A&&!_&&(a=lc(B,i))}),X.subscribe(G),!o&&u>0&&(o=new F({next:se=>X.next(se),error:se=>{A=!0,O(),a=lc(k,n,se),X.error(se)},complete:()=>{_=!0,O(),a=lc(k,r),X.complete()}}),nn(W).subscribe(o))})(s)}}function lc(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new F({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function We(e){for(let t in e)if(e[t]===We)return t;throw Error("Could not find renamed property on target object.")}function Ke(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ke).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function uc(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const zb=We({__forward_ref__:We});function Xe(e){return e.__forward_ref__=Xe,e.toString=function(){return Ke(this())},e}function Ce(e){return dc(e)?e():e}function dc(e){return"function"==typeof e&&e.hasOwnProperty(zb)&&e.__forward_ref__===Xe}function hc(e){return e&&!!e.\u0275providers}const Ho="https://g.co/ng/security#xss";class ee extends Error{constructor(t,n){super(Vo(t,n)),this.code=t}}function Vo(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function Ee(e){return"string"==typeof e?e:null==e?"":String(e)}function jo(e,t){throw new ee(-201,!1)}function pn(e,t){null==e&&function Ve(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function me(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function qt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Uo(e){return Lf(e,$o)||Lf(e,Nf)}function Lf(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ff(e){return e&&(e.hasOwnProperty(fc)||e.hasOwnProperty(Jb))?e[fc]:null}const $o=We({\u0275prov:We}),fc=We({\u0275inj:We}),Nf=We({ngInjectableDef:We}),Jb=We({ngInjectorDef:We});var Se=(()=>((Se=Se||{})[Se.Default=0]="Default",Se[Se.Host=1]="Host",Se[Se.Self=2]="Self",Se[Se.SkipSelf=4]="SkipSelf",Se[Se.Optional=8]="Optional",Se))();let pc;function gn(e){const t=pc;return pc=e,t}function Bf(e,t,n){const r=Uo(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Se.Optional?null:void 0!==t?t:void jo(Ke(e))}const Je=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),vs={},gc="__NG_DI_FLAG__",zo="ngTempTokenPath",ew="ngTokenPath",tw=/\n/gm,nw="\u0275",Hf="__source";let ys;function hi(e){const t=ys;return ys=e,t}function rw(e,t=Se.Default){if(void 0===ys)throw new ee(-203,!1);return null===ys?Bf(e,void 0,t):ys.get(e,t&Se.Optional?null:void 0,t)}function pe(e,t=Se.Default){return(function Qb(){return pc}()||rw)(Ce(e),t)}function Te(e,t=Se.Default){return pe(e,Wo(t))}function Wo(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function mc(e){const t=[];for(let n=0;n<e.length;n++){const r=Ce(e[n]);if(Array.isArray(r)){if(0===r.length)throw new ee(900,!1);let i,s=Se.Default;for(let o=0;o<r.length;o++){const a=r[o],l=iw(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}t.push(pe(i,s))}else t.push(pe(r))}return t}function Cs(e,t){return e[gc]=t,e.prototype[gc]=t,e}function iw(e){return e[gc]}function rr(e){return{toString:e}.toString()}var Nn=(()=>((Nn=Nn||{})[Nn.OnPush=0]="OnPush",Nn[Nn.Default=1]="Default",Nn))(),Bn=(()=>{return(e=Bn||(Bn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Bn;var e})();const ir={},Ne=[],Go=We({\u0275cmp:We}),_c=We({\u0275dir:We}),vc=We({\u0275pipe:We}),jf=We({\u0275mod:We}),sr=We({\u0275fac:We}),Ss=We({__NG_ELEMENT_ID__:We});let aw=0;function Sr(e){return rr(()=>{const t=$f(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Nn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||Bn.Emulated,id:"c"+aw++,styles:e.styles||Ne,_:null,schemas:e.schemas||null,tView:null};zf(n);const r=e.dependencies;return n.directiveDefs=qo(r,!1),n.pipeDefs=qo(r,!0),n})}function cw(e){return je(e)||Tt(e)}function uw(e){return null!==e}function sn(e){return rr(()=>({type:e.type,bootstrap:e.bootstrap||Ne,declarations:e.declarations||Ne,imports:e.imports||Ne,exports:e.exports||Ne,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Uf(e,t){if(null==e)return ir;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}function be(e){return rr(()=>{const t=$f(e);return zf(t),t})}function je(e){return e[Go]||null}function Tt(e){return e[_c]||null}function Xt(e){return e[vc]||null}function on(e,t){const n=e[jf]||null;if(!n&&!0===t)throw new Error(`Type ${Ke(e)} does not have '\u0275mod' property.`);return n}function $f(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Ne,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Uf(e.inputs,t),outputs:Uf(e.outputs)}}function zf(e){e.features?.forEach(t=>t(e))}function qo(e,t){if(!e)return null;const n=t?Xt:cw;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(uw)}const or=0,he=1,xe=2,st=3,Dn=4,jr=5,Ot=6,pi=7,at=8,Ko=9,Xo=10,Oe=11,yc=12,bs=13,Wf=14,gi=15,kt=16,ws=17,mi=18,Hn=19,Ds=20,Gf=21,Qe=22,Cc=1,qf=2,Yo=7,Zo=8,_i=9,Bt=10;function an(e){return Array.isArray(e)&&"object"==typeof e[Cc]}function En(e){return Array.isArray(e)&&!0===e[Cc]}function Sc(e){return 0!=(4&e.flags)}function Es(e){return e.componentOffset>-1}function Jo(e){return 1==(1&e.flags)}function Mn(e){return!!e.template}function hw(e){return 0!=(256&e[xe])}function Ur(e,t){return e.hasOwnProperty(sr)?e[sr]:null}class gw{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ln(){return Yf}function Yf(e){return e.type.prototype.ngOnChanges&&(e.setInput=_w),mw}function mw(){const e=Jf(this),t=e?.current;if(t){const n=e.previous;if(n===ir)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function _w(e,t,n,r){const i=this.declaredInputs[n],s=Jf(e)||function vw(e,t){return e[Zf]=t}(e,{previous:ir,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new gw(l&&l.currentValue,t,a===ir),e[r]=t}ln.ngInherit=!0;const Zf="__ngSimpleChanges__";function Jf(e){return e[Zf]||null}const mn=function(e,t,n){};function Et(e){for(;Array.isArray(e);)e=e[or];return e}function cn(e,t){return Et(t[e.index])}function tp(e,t){return e.data[t]}function Yt(e,t){const n=t[e];return an(n)?n:n[or]}function ea(e){return 64==(64&e[xe])}function br(e,t){return null==t?null:e[t]}function np(e){e[mi]=0}function wc(e,t){e[jr]+=t;let n=e,r=e[st];for(;null!==r&&(1===t&&1===n[jr]||-1===t&&0===n[jr]);)r[jr]+=t,n=r,r=r[st]}const Me={lFrame:hp(null),bindingsEnabled:!0};function ip(){return Me.bindingsEnabled}function J(){return Me.lFrame.lView}function Le(){return Me.lFrame.tView}function Dc(e){return Me.lFrame.contextLView=e,e[at]}function Ec(e){return Me.lFrame.contextLView=null,e}function Mt(){let e=sp();for(;null!==e&&64===e.type;)e=e.parent;return e}function sp(){return Me.lFrame.currentTNode}function Vn(e,t){const n=Me.lFrame;n.currentTNode=e,n.isParent=t}function Mc(){return Me.lFrame.isParent}function Ht(){const e=Me.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function yi(){return Me.lFrame.bindingIndex++}function Tw(e,t){const n=Me.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ic(t)}function Ic(e){Me.lFrame.currentDirectiveIndex=e}function cp(){return Me.lFrame.currentQueryIndex}function Rc(e){Me.lFrame.currentQueryIndex=e}function kw(e){const t=e[he];return 2===t.type?t.declTNode:1===t.type?e[Ot]:null}function up(e,t,n){if(n&Se.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&Se.Host||(i=kw(s),null===i||(s=s[gi],10&i.type))););if(null===i)return!1;t=i,e=s}const r=Me.lFrame=dp();return r.currentTNode=t,r.lView=e,!0}function Tc(e){const t=dp(),n=e[he];Me.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function dp(){const e=Me.lFrame,t=null===e?null:e.child;return null===t?hp(e):t}function hp(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function fp(){const e=Me.lFrame;return Me.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const pp=fp;function Oc(){const e=fp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Vt(){return Me.lFrame.selectedIndex}function $r(e){Me.lFrame.selectedIndex=e}function tt(){const e=Me.lFrame;return tp(e.tView,e.selectedIndex)}function ta(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:_}=s;o&&(e.contentHooks??(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks??(e.contentHooks=[])).push(n,a),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(n,a)),l&&(e.viewHooks??(e.viewHooks=[])).push(-n,l),u&&((e.viewHooks??(e.viewHooks=[])).push(n,u),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(n,u)),null!=_&&(e.destroyHooks??(e.destroyHooks=[])).push(n,_)}}function na(e,t,n){gp(e,t,3,n)}function ra(e,t,n,r){(3&e[xe])===n&&gp(e,t,n,r)}function kc(e,t){let n=e[xe];(3&n)===t&&(n&=2047,n+=1,e[xe]=n)}function gp(e,t,n,r){const s=r??-1,o=t.length-1;let a=0;for(let l=void 0!==r?65535&e[mi]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[mi]+=65536),(a<s||-1==s)&&(Uw(e,n,t,l),e[mi]=(4294901760&e[mi])+l+2),l++}function Uw(e,t,n,r){const i=n[r]<0,s=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[xe]>>11<e[mi]>>16&&(3&e[xe])===t){e[xe]+=2048,mn(4,a,s);try{s.call(a)}finally{mn(5,a,s)}}}else{mn(4,a,s);try{s.call(a)}finally{mn(5,a,s)}}}const Ci=-1;class As{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Lc(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];e.setAttribute(t,o,a,s)}else{const s=i,o=n[++r];_p(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),r++}}return r}function mp(e){return 3===e||4===e||6===e}function _p(e){return 64===e.charCodeAt(0)}function Is(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||vp(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function vp(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function yp(e){return e!==Ci}function ia(e){return 32767&e}function sa(e,t){let n=function Gw(e){return e>>16}(e),r=t;for(;n>0;)r=r[gi],n--;return r}let Fc=!0;function oa(e){const t=Fc;return Fc=e,t}const Cp=255,Sp=5;let qw=0;const jn={};function aa(e,t){const n=bp(e,t);if(-1!==n)return n;const r=t[he];r.firstCreatePass&&(e.injectorIndex=t.length,Nc(r.data,e),Nc(t,null),Nc(r.blueprint,null));const i=Bc(e,t),s=e.injectorIndex;if(yp(i)){const o=ia(i),a=sa(i,t),l=a[he].data;for(let u=0;u<8;u++)t[s+u]=a[o+u]|l[o+u]}return t[s+8]=i,s}function Nc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function bp(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Bc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=xp(i),null===r)return Ci;if(n++,i=i[gi],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ci}function Hc(e,t,n){!function Kw(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ss)&&(r=n[Ss]),null==r&&(r=n[Ss]=qw++);const i=r&Cp;t.data[e+(i>>Sp)]|=1<<i}(e,t,n)}function wp(e,t,n){if(n&Se.Optional||void 0!==e)return e;jo()}function Dp(e,t,n,r){if(n&Se.Optional&&void 0===r&&(r=null),!(n&(Se.Self|Se.Host))){const i=e[Ko],s=gn(void 0);try{return i?i.get(t,r,n&Se.Optional):Bf(t,r,n&Se.Optional)}finally{gn(s)}}return wp(r,0,n)}function Ep(e,t,n,r=Se.Default,i){if(null!==e){if(1024&t[xe]){const o=function Qw(e,t,n,r,i){let s=e,o=t;for(;null!==s&&null!==o&&1024&o[xe]&&!(256&o[xe]);){const a=Mp(s,o,n,r|Se.Self,jn);if(a!==jn)return a;let l=s.parent;if(!l){const u=o[Gf];if(u){const _=u.get(n,jn,r);if(_!==jn)return _}l=xp(o),o=o[gi]}s=l}return i}(e,t,n,r,jn);if(o!==jn)return o}const s=Mp(e,t,n,r,jn);if(s!==jn)return s}return Dp(t,n,r,i)}function Mp(e,t,n,r,i){const s=function Zw(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ss)?e[Ss]:void 0;return"number"==typeof t?t>=0?t&Cp:Jw:t}(n);if("function"==typeof s){if(!up(t,e,r))return r&Se.Host?wp(i,0,r):Dp(t,n,r,i);try{const o=s(r);if(null!=o||r&Se.Optional)return o;jo()}finally{pp()}}else if("number"==typeof s){let o=null,a=bp(e,t),l=Ci,u=r&Se.Host?t[kt][Ot]:null;for((-1===a||r&Se.SkipSelf)&&(l=-1===a?Bc(e,t):t[a+8],l!==Ci&&Ip(r,!1)?(o=t[he],a=ia(l),t=sa(l,t)):a=-1);-1!==a;){const _=t[he];if(Ap(s,a,_.data)){const A=Yw(a,t,n,o,r,u);if(A!==jn)return A}l=t[a+8],l!==Ci&&Ip(r,t[he].data[a+8]===u)&&Ap(s,a,t)?(o=_,a=ia(l),t=sa(l,t)):a=-1}}return i}function Yw(e,t,n,r,i,s){const o=t[he],a=o.data[e+8],_=la(a,o,n,null==r?Es(a)&&Fc:r!=o&&0!=(3&a.type),i&Se.Host&&s===a);return null!==_?zr(t,o,_,a):jn}function la(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,_=s>>20,O=i?a+_:e.directiveEnd;for(let k=r?a:a+_;k<O;k++){const B=o[k];if(k<l&&n===B||k>=l&&B.type===n)return k}if(i){const k=o[l];if(k&&Mn(k)&&k.type===n)return l}return null}function zr(e,t,n,r){let i=e[n];const s=t.data;if(function $w(e){return e instanceof As}(i)){const o=i;o.resolving&&function Wb(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ee(-200,`Circular dependency in DI detected for ${e}${n}`)}(function He(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ee(e)}(s[n]));const a=oa(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?gn(o.injectImpl):null;up(e,r,Se.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function jw(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=Yf(t);(n.preOrderHooks??(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,o)}i&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==l&&gn(l),oa(a),o.resolving=!1,pp()}}return i}function Ap(e,t,n){return!!(n[t+(e>>Sp)]&1<<e)}function Ip(e,t){return!(e&Se.Self||e&Se.Host&&t)}class Si{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Ep(this._tNode,this._lView,t,Wo(r),n)}}function Jw(){return new Si(Mt(),J())}function Vc(e){return dc(e)?()=>{const t=Vc(Ce(e));return t&&t()}:Ur(e)}function xp(e){const t=e[he],n=t.type;return 2===n?t.declTNode:1===n?e[Ot]:null}const wi="__parameters__";function Ei(e,t,n){return rr(()=>{const r=function jc(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,_){const A=l.hasOwnProperty(wi)?l[wi]:Object.defineProperty(l,wi,{value:[]})[wi];for(;A.length<=_;)A.push(null);return(A[_]=A[_]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class fe{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=me({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Wr(e,t){e.forEach(n=>Array.isArray(n)?Wr(n,t):t(n))}function Tp(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ua(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Os=Cs(Ei("Optional"),8),ks=Cs(Ei("SkipSelf"),4);var Zt=(()=>((Zt=Zt||{})[Zt.Important=1]="Important",Zt[Zt.DashCase=2]="DashCase",Zt))();const Xc=new Map;let ED=0;const Zc="__ngContext__";function Pt(e,t){an(t)?(e[Zc]=t[Ds],function AD(e){Xc.set(e[Ds],e)}(t)):e[Zc]=t}let Jc;function Qc(e,t){return Jc(e,t)}function Ns(e){const t=e[st];return En(t)?t[st]:t}function eu(e){return Jp(e[bs])}function tu(e){return Jp(e[Dn])}function Jp(e){for(;null!==e&&!En(e);)e=e[Dn];return e}function Ii(e,t,n,r,i){if(null!=r){let s,o=!1;En(r)?s=r:an(r)&&(o=!0,r=r[or]);const a=Et(r);0===e&&null!==n?null==i?ig(t,n,a):Gr(t,n,a,i||null,!0):1===e&&null!==n?Gr(t,n,a,i||null,!0):2===e?function lu(e,t,n){const r=pa(e,t);r&&function qD(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function YD(e,t,n,r,i){const s=n[Yo];s!==Et(n)&&Ii(t,e,r,s,i);for(let a=Bt;a<n.length;a++){const l=n[a];Bs(l[he],l,e,t,r,s)}}(t,e,s,n,i)}}function ru(e,t,n){return e.createElement(t,n)}function eg(e,t){const n=e[_i],r=n.indexOf(t),i=t[st];512&t[xe]&&(t[xe]&=-513,wc(i,-1)),n.splice(r,1)}function iu(e,t){if(e.length<=Bt)return;const n=Bt+t,r=e[n];if(r){const i=r[ws];null!==i&&i!==e&&eg(i,r),t>0&&(e[n-1][Dn]=r[Dn]);const s=ua(e,Bt+t);!function HD(e,t){Bs(e,t,t[Oe],2,null,null),t[or]=null,t[Ot]=null}(r[he],r);const o=s[Hn];null!==o&&o.detachView(s[he]),r[st]=null,r[Dn]=null,r[xe]&=-65}return r}function tg(e,t){if(!(128&t[xe])){const n=t[Oe];n.destroyNode&&Bs(e,t,n,3,null,null),function UD(e){let t=e[bs];if(!t)return su(e[he],e);for(;t;){let n=null;if(an(t))n=t[bs];else{const r=t[Bt];r&&(n=r)}if(!n){for(;t&&!t[Dn]&&t!==e;)an(t)&&su(t[he],t),t=t[st];null===t&&(t=e),an(t)&&su(t[he],t),n=t&&t[Dn]}t=n}}(t)}}function su(e,t){if(!(128&t[xe])){t[xe]&=-65,t[xe]|=128,function GD(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof As)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];mn(4,a,l);try{l.call(a)}finally{mn(5,a,l)}}else{mn(4,i,s);try{s.call(i)}finally{mn(5,i,s)}}}}}(e,t),function WD(e,t){const n=e.cleanup,r=t[pi];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();t[pi]=null}}(e,t),1===t[he].type&&t[Oe].destroy();const n=t[ws];if(null!==n&&En(t[st])){n!==t[st]&&eg(n,t);const r=t[Hn];null!==r&&r.detachView(e)}!function ID(e){Xc.delete(e[Ds])}(t)}}function ng(e,t,n){return function rg(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[or];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===Bn.None||s===Bn.Emulated)return null}return cn(r,n)}}(e,t.parent,n)}function Gr(e,t,n,r,i){e.insertBefore(t,n,r,i)}function ig(e,t,n){e.appendChild(t,n)}function sg(e,t,n,r,i){null!==r?Gr(e,t,n,r,i):ig(e,t,n)}function pa(e,t){return e.parentNode(t)}let ou,_a,du,va,lg=function ag(e,t,n){return 40&e.type?cn(e,n):null};function ga(e,t,n,r){const i=ng(e,r,t),s=t[Oe],a=function og(e,t,n){return lg(e,t,n)}(r.parent||t[Ot],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)sg(s,i,n[l],a,!1);else sg(s,i,n,a,!1);void 0!==ou&&ou(s,r,t,n,i)}function ma(e,t){if(null!==t){const n=t.type;if(3&n)return cn(t,e);if(4&n)return au(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ma(e,r);{const i=e[t.index];return En(i)?au(-1,i):Et(i)}}if(32&n)return Qc(t,e)()||Et(e[t.index]);{const r=ug(e,t);return null!==r?Array.isArray(r)?r[0]:ma(Ns(e[kt]),r):ma(e,t.next)}}return null}function ug(e,t){return null!==t?e[kt][Ot].projection[t.projection]:null}function au(e,t){const n=Bt+e+1;if(n<t.length){const r=t[n],i=r[he].firstChild;if(null!==i)return ma(r,i)}return t[Yo]}function cu(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===t&&(a&&Pt(Et(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)cu(e,t,n.child,r,i,s,!1),Ii(t,e,i,a,s);else if(32&l){const u=Qc(n,r);let _;for(;_=u();)Ii(t,e,i,_,s);Ii(t,e,i,a,s)}else 16&l?dg(e,t,r,n,i,s):Ii(t,e,i,a,s);n=o?n.projectionNext:n.next}}function Bs(e,t,n,r,i,s){cu(n,r,e.firstChild,t,i,s,!1)}function dg(e,t,n,r,i,s){const o=n[kt],l=o[Ot].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Ii(t,e,i,l[u],s);else cu(e,t,l,o[st],i,s,!0)}function hg(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function fg(e,t,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Lc(e,t,r),null!==i&&hg(e,t,i),null!==s&&function JD(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}function xi(e){return function uu(){if(void 0===_a&&(_a=null,Je.trustedTypes))try{_a=Je.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return _a}()?.createHTML(e)||e}function hu(){if(void 0===va&&(va=null,Je.trustedTypes))try{va=Je.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return va}function gg(e){return hu()?.createHTML(e)||e}function _g(e){return hu()?.createScriptURL(e)||e}class qr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ho})`}}class rE extends qr{getTypeName(){return"HTML"}}class iE extends qr{getTypeName(){return"Style"}}class sE extends qr{getTypeName(){return"Script"}}class oE extends qr{getTypeName(){return"URL"}}class aE extends qr{getTypeName(){return"ResourceURL"}}function dn(e){return e instanceof qr?e.changingThisBreaksApplicationSecurity:e}function Un(e,t){const n=function lE(e){return e instanceof qr&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Ho})`)}return n===t}class pE{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(xi(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class gE{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=xi(t),n}}const _E=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ya(e){return(e=String(e)).match(_E)?e:"unsafe:"+e}function cr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Hs(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const yg=cr("area,br,col,hr,img,wbr"),Cg=cr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Sg=cr("rp,rt"),fu=Hs(yg,Hs(Cg,cr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hs(Sg,cr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hs(Sg,Cg)),pu=cr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bg=Hs(pu,cr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vE=cr("script,style,template");class yE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!fu.hasOwnProperty(n))return this.sanitizedSomething=!0,!vE.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!bg.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;pu[a]&&(l=ya(l)),this.buf.push(" ",o,'="',wg(l),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();fu.hasOwnProperty(n)&&!yg.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(wg(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const CE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,SE=/([^\#-~ |!])/g;function wg(e){return e.replace(/&/g,"&amp;").replace(CE,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(SE,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ca;function Dg(e,t){let n=null;try{Ca=Ca||function vg(e){const t=new gE(e);return function mE(){try{return!!(new window.DOMParser).parseFromString(xi(""),"text/html")}catch{return!1}}()?new pE(t):t}(e);let r=t?String(t):"";n=Ca.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Ca.getInertBodyElement(r)}while(r!==s);return xi((new yE).sanitizeChildren(gu(n)||n))}finally{if(n){const r=gu(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function gu(e){return"content"in e&&function bE(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ye=(()=>((Ye=Ye||{})[Ye.NONE=0]="NONE",Ye[Ye.HTML=1]="HTML",Ye[Ye.STYLE=2]="STYLE",Ye[Ye.SCRIPT=3]="SCRIPT",Ye[Ye.URL=4]="URL",Ye[Ye.RESOURCE_URL=5]="RESOURCE_URL",Ye))();function Eg(e){const t=Vs();return t?gg(t.sanitize(Ye.HTML,e)||""):Un(e,"HTML")?gg(dn(e)):Dg(function pg(){return void 0!==du?du:typeof document<"u"?document:void 0}(),Ee(e))}function Kr(e){const t=Vs();return t?t.sanitize(Ye.URL,e)||"":Un(e,"URL")?dn(e):ya(Ee(e))}function Mg(e){const t=Vs();if(t)return _g(t.sanitize(Ye.RESOURCE_URL,e)||"");if(Un(e,"ResourceURL"))return _g(dn(e));throw new ee(904,!1)}function Vs(){const e=J();return e&&e[yc]}const Sa=new fe("ENVIRONMENT_INITIALIZER"),Ig=new fe("INJECTOR",-1),xg=new fe("INJECTOR_DEF_TYPES");class Rg{get(t,n=vs){if(n===vs){const r=new Error(`NullInjectorError: No provider for ${Ke(t)}!`);throw r.name="NullInjectorError",r}return n}}function xE(...e){return{\u0275providers:Tg(0,e),\u0275fromNgModule:!0}}function Tg(e,...t){const n=[],r=new Set;let i;return Wr(t,s=>{const o=s;mu(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&Og(i,n),n}function Og(e,t){for(let n=0;n<e.length;n++){const{providers:i}=e[n];_u(i,s=>{t.push(s)})}}function mu(e,t,n,r){if(!(e=Ce(e)))return!1;let i=null,s=Ff(e);const o=!s&&je(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const l=e.ngModule;if(s=Ff(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)mu(u,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Wr(s.imports,_=>{mu(_,t,n,r)&&(u||(u=[]),u.push(_))})}finally{}void 0!==u&&Og(u,t)}if(!a){const u=Ur(i)||(()=>new i);t.push({provide:i,useFactory:u,deps:Ne},{provide:xg,useValue:i,multi:!0},{provide:Sa,useValue:()=>pe(i),multi:!0})}const l=s.providers;null==l||a||_u(l,_=>{t.push(_)})}}return i!==e&&void 0!==e.providers}function _u(e,t){for(let n of e)hc(n)&&(n=n.\u0275providers),Array.isArray(n)?_u(n,t):t(n)}const RE=We({provide:String,useValue:We});function vu(e){return null!==e&&"object"==typeof e&&RE in e}function Xr(e){return"function"==typeof e}const yu=new fe("Set Injector scope."),ba={},OE={};let Cu;function wa(){return void 0===Cu&&(Cu=new Rg),Cu}class $n{}class Lg extends $n{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bu(t,o=>this.processProvider(o)),this.records.set(Ig,Ri(void 0,this)),i.has("environment")&&this.records.set($n,Ri(void 0,this));const s=this.records.get(yu);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(xg.multi,Ne,Se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=hi(this),r=gn(void 0);try{return t()}finally{hi(n),gn(r)}}get(t,n=vs,r=Se.Default){this.assertNotDestroyed(),r=Wo(r);const i=hi(this),s=gn(void 0);try{if(!(r&Se.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function NE(e){return"function"==typeof e||"object"==typeof e&&e instanceof fe}(t)&&Uo(t);a=l&&this.injectableDefInScope(l)?Ri(Su(t),ba):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&Se.Self?wa():this.parent).get(t,n=r&Se.Optional&&n===vs?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[zo]=o[zo]||[]).unshift(Ke(t)),i)throw o;return function sw(e,t,n,r){const i=e[zo];throw t[Hf]&&i.unshift(t[Hf]),e.message=function ow(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==nw?e.slice(2):e;let i=Ke(t);if(Array.isArray(t))i=t.map(Ke).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ke(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(tw,"\n  ")}`}("\n"+e.message,i,n,r),e[ew]=i,e[zo]=null,e}(o,t,"R3InjectorError",this.source)}throw o}finally{gn(s),hi(i)}}resolveInjectorInitializers(){const t=hi(this),n=gn(void 0);try{const r=this.get(Sa.multi,Ne,Se.Self);for(const i of r)i()}finally{hi(t),gn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Ke(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(t){let n=Xr(t=Ce(t))?t:Ce(t&&t.provide);const r=function PE(e){return vu(e)?Ri(void 0,e.useValue):Ri(function Fg(e,t,n){let r;if(Xr(e)){const i=Ce(e);return Ur(i)||Su(i)}if(vu(e))r=()=>Ce(e.useValue);else if(function Pg(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...mc(e.deps||[]));else if(function kg(e){return!(!e||!e.useExisting)}(e))r=()=>pe(Ce(e.useExisting));else{const i=Ce(e&&(e.useClass||e.provide));if(!function LE(e){return!!e.deps}(e))return Ur(i)||Su(i);r=()=>new i(...mc(e.deps))}return r}(e),ba)}(t);if(Xr(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ri(void 0,ba,!0),i.factory=()=>mc(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===ba&&(n.value=OE,n.value=n.factory()),"object"==typeof n.value&&n.value&&function FE(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Ce(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Su(e){const t=Uo(e),n=null!==t?t.factory:Ur(e);if(null!==n)return n;if(e instanceof fe)throw new ee(204,!1);if(e instanceof Function)return function kE(e){const t=e.length;if(t>0)throw function Ts(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new ee(204,!1);const n=function Zb(e){return e&&(e[$o]||e[Nf])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new ee(204,!1)}function Ri(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function bu(e,t){for(const n of e)Array.isArray(n)?bu(n,t):n&&hc(n)?bu(n.\u0275providers,t):t(n)}class BE{}class Ng{}class VE{resolveComponentFactory(t){throw function HE(e){const t=Error(`No component factory found for ${Ke(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let js=(()=>{class e{}return e.NULL=new VE,e})();function jE(){return Ti(Mt(),J())}function Ti(e,t){return new Lt(cn(e,t))}let Lt=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=jE,e})();function UE(e){return e instanceof Lt?e.nativeElement:e}class Hg{}let vn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function $E(){const e=J(),n=Yt(Mt().index,e);return(an(n)?n:e)[Oe]}(),e})(),zE=(()=>{class e{}return e.\u0275prov=me({token:e,providedIn:"root",factory:()=>null}),e})();class Us{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const WE=new Us("15.2.9"),wu={},Du="ngOriginalError";function Eu(e){return e[Du]}class Oi{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Eu(t);for(;n&&Eu(n);)n=Eu(n);return n||null}}function ur(e){return e instanceof Function?e():e}function jg(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}const Ug="ng-template";function n1(e,t,n){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const o=e[r++];if(n&&"class"===s&&-1!==jg(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function $g(e){return 4===e.type&&e.value!==Ug}function r1(e,t,n){return t===(4!==e.type||n?e.value:Ug)}function i1(e,t,n){let r=4;const i=e.attrs||[],s=function a1(e){for(let t=0;t<e.length;t++)if(mp(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!r1(e,l,n)||""===l&&1===t.length){if(An(r))return!1;o=!0}}else{const u=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!n1(e.attrs,u,n)){if(An(r))return!1;o=!0}continue}const A=s1(8&r?"class":l,i,$g(e),n);if(-1===A){if(An(r))return!1;o=!0;continue}if(""!==u){let O;O=A>s?"":i[A+1].toLowerCase();const k=8&r?O:null;if(k&&-1!==jg(k,u,0)||2&r&&u!==O){if(An(r))return!1;o=!0}}}}else{if(!o&&!An(r)&&!An(l))return!1;if(o&&An(l))continue;o=!1,r=l|1&r}}return An(r)||o}function An(e){return 0==(1&e)}function s1(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const o=t[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function l1(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function zg(e,t,n=!1){for(let r=0;r<t.length;r++)if(i1(e,t[r],n))return!0;return!1}function Wg(e,t){return e?":not("+t.trim()+")":t}function u1(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const a=e[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!An(o)&&(t+=Wg(s,i),i=""),r=o,s=s||!An(r);n++}return""!==i&&(t+=Wg(s,i)),t}const Ae={};function ze(e){Gg(Le(),J(),Vt()+e,!1)}function Gg(e,t,n,r){if(!r)if(3==(3&t[xe])){const s=e.preOrderCheckHooks;null!==s&&na(t,s,n)}else{const s=e.preOrderHooks;null!==s&&ra(t,s,0,n)}$r(n)}function Yg(e,t=null,n=null,r){const i=Zg(e,t,n,r);return i.resolveInjectorInitializers(),i}function Zg(e,t=null,n=null,r,i=new Set){const s=[n||Ne,xE(e)];return r=r||("object"==typeof e?void 0:Ke(e)),new Lg(s,t||wa(),r||null,i)}let In=(()=>{class e{static create(n,r){if(Array.isArray(n))return Yg({name:""},r,n,"");{const i=n.name??"";return Yg({name:i},n.parent,n.providers,i)}}}return e.THROW_IF_NOT_FOUND=vs,e.NULL=new Rg,e.\u0275prov=me({token:e,providedIn:"any",factory:()=>pe(Ig)}),e.__NG_ELEMENT_ID__=-1,e})();function Y(e,t=Se.Default){const n=J();return null===n?pe(e,t):Ep(Mt(),n,Ce(e),t)}function sm(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=e.data[s];Rc(n[r]),o.contentQueries(2,t[s],s)}}}function Ea(e,t,n,r,i,s,o,a,l,u,_){const A=t.blueprint.slice();return A[or]=i,A[xe]=76|r,(null!==_||e&&1024&e[xe])&&(A[xe]|=1024),np(A),A[st]=A[gi]=e,A[at]=n,A[Xo]=o||e&&e[Xo],A[Oe]=a||e&&e[Oe],A[yc]=l||e&&e[yc]||null,A[Ko]=u||e&&e[Ko]||null,A[Ot]=s,A[Ds]=function MD(){return ED++}(),A[Gf]=_,A[kt]=2==t.type?e[kt]:A,A}function Li(e,t,n,r,i){let s=e.data[t];if(null===s)s=function Ru(e,t,n,r,i){const s=sp(),o=Mc(),l=e.data[t]=function F1(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,t,n,r,i),function Rw(){return Me.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ms(){const e=Me.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Vn(s,!0),s}function $s(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Tu(e,t,n){Tc(t);try{const r=e.viewQuery;null!==r&&Vu(1,r,n);const i=e.template;null!==i&&om(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&sm(e,t),e.staticViewQueries&&Vu(2,e.viewQuery,n);const s=e.components;null!==s&&function k1(e,t){for(let n=0;n<t.length;n++)nM(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[xe]&=-5,Oc()}}function Ma(e,t,n,r){const i=t[xe];if(128!=(128&i)){Tc(t);try{np(t),function ap(e){return Me.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&om(e,t,n,2,r);const o=3==(3&i);if(o){const u=e.preOrderCheckHooks;null!==u&&na(t,u,null)}else{const u=e.preOrderHooks;null!==u&&ra(t,u,0,null),kc(t,0)}if(function eM(e){for(let t=eu(e);null!==t;t=tu(t)){if(!t[qf])continue;const n=t[_i];for(let r=0;r<n.length;r++){const i=n[r];512&i[xe]||wc(i[st],1),i[xe]|=512}}}(t),function Q1(e){for(let t=eu(e);null!==t;t=tu(t))for(let n=Bt;n<t.length;n++){const r=t[n],i=r[he];ea(r)&&Ma(i,r,i.template,r[at])}}(t),null!==e.contentQueries&&sm(e,t),o){const u=e.contentCheckHooks;null!==u&&na(t,u)}else{const u=e.contentHooks;null!==u&&ra(t,u,1),kc(t,1)}!function T1(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)$r(~i);else{const s=i,o=n[++r],a=n[++r];Tw(o,s),a(2,t[s])}}}finally{$r(-1)}}(e,t);const a=e.components;null!==a&&function O1(e,t){for(let n=0;n<t.length;n++)tM(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&Vu(2,l,r),o){const u=e.viewCheckHooks;null!==u&&na(t,u)}else{const u=e.viewHooks;null!==u&&ra(t,u,2),kc(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[xe]&=-41,512&t[xe]&&(t[xe]&=-513,wc(t[st],-1))}finally{Oc()}}}function om(e,t,n,r,i){const s=Vt(),o=2&r;try{$r(-1),o&&t.length>Qe&&Gg(e,t,Qe,!1),mn(o?2:0,i),n(r,i)}finally{$r(s),mn(o?3:1,i)}}function Ou(e,t,n){if(Sc(t)){const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const o=e.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function ku(e,t,n){ip()&&(function $1(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;Es(n)&&function Y1(e,t,n){const r=cn(t,e),i=am(n),s=e[Xo],o=Aa(e,Ea(e,i,null,n.onPush?32:16,r,t,s,s.createRenderer(r,n),null,null,null));e[t.index]=o}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||aa(n,t),Pt(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const l=e.data[a],u=zr(t,e,a,n);Pt(u,t),null!==o&&Z1(0,a-i,u,l,0,o),Mn(l)&&(Yt(n.index,t)[at]=zr(t,e,a,n))}}(e,t,n,cn(n,t)),64==(64&n.flags)&&hm(e,t,n))}function Pu(e,t,n=cn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function am(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Lu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Lu(e,t,n,r,i,s,o,a,l,u){const _=Qe+r,A=_+i,O=function P1(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ae);return n}(_,A),k="function"==typeof u?u():u;return O[he]={type:e,blueprint:O,template:n,queries:null,viewQuery:a,declTNode:t,data:O.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:A,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:k,incompleteFirstPass:!1}}function lm(e,t,n,r){const i=pm(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&gm(e).push(r,i.length-1))}function cm(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const s=e[i];null===r?um(n,t,i,s):r.hasOwnProperty(i)&&um(n,t,r[i],s)}return n}function um(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function hn(e,t,n,r,i,s,o,a){const l=cn(t,n);let _,u=t.inputs;!a&&null!=u&&(_=u[r])?(ju(e,n,_,r,i),Es(t)&&function H1(e,t){const n=Yt(t,e);16&n[xe]||(n[xe]|=32)}(n,t.index)):3&t.type&&(r=function B1(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,s.setProperty(l,r,i))}function Fu(e,t,n,r){if(ip()){const i=null===r?null:{"":-1},s=function W1(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(zg(t,o.selectors,!1))if(r||(r=[]),Mn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Nu(e,t,a.length)}else r.unshift(o),Nu(e,t,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(e,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&dm(e,t,n,o,i,a),i&&function G1(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new ee(-301,!1);r.push(t[i],s)}}}(n,r,i)}n.mergedAttrs=Is(n.mergedAttrs,n.attrs)}function dm(e,t,n,r,i,s){for(let u=0;u<r.length;u++)Hc(aa(n,t),e,r[u].type);!function K1(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let u=0;u<r.length;u++){const _=r[u];_.providersResolver&&_.providersResolver(_)}let o=!1,a=!1,l=$s(e,t,r.length,null);for(let u=0;u<r.length;u++){const _=r[u];n.mergedAttrs=Is(n.mergedAttrs,_.hostAttrs),X1(e,n,t,l,_),q1(l,_,i),null!==_.contentQueries&&(n.flags|=4),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(n.flags|=64);const A=_.type.prototype;!o&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n.index),o=!0),!a&&(A.ngOnChanges||A.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function N1(e,t,n){const i=t.directiveEnd,s=e.data,o=t.attrs,a=[];let l=null,u=null;for(let _=t.directiveStart;_<i;_++){const A=s[_],O=n?n.get(A):null,B=O?O.outputs:null;l=cm(A.inputs,_,l,O?O.inputs:null),u=cm(A.outputs,_,u,B);const W=null===l||null===o||$g(t)?null:J1(l,_,o);a.push(W)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}(e,n,s)}function hm(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Ow(){return Me.lFrame.currentDirectiveIndex}();try{$r(s);for(let a=r;a<i;a++){const l=e.data[a],u=t[a];Ic(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&z1(l,u)}}finally{$r(-1),Ic(o)}}function z1(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Nu(e,t,n){t.componentOffset=n,(e.components??(e.components=[])).push(t.index)}function q1(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Mn(t)&&(n[""]=e)}}function X1(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=Ur(i.type)),o=new As(s,Mn(i),Y);e.blueprint[r]=o,n[r]=o,function j1(e,t,n,r,i){const s=i.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~t.index;(function U1(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(e,t,r,$s(e,n,i.hostVars,Ae),i)}function zn(e,t,n,r,i,s){const o=cn(e,t);!function Bu(e,t,n,r,i,s,o){if(null==s)e.removeAttribute(t,i,n);else{const a=null==o?Ee(s):o(s,r||"",i);e.setAttribute(t,i,a,n)}}(t[Oe],o,s,e.value,n,r,i)}function Z1(e,t,n,r,i,s){const o=s[t];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],_=o[l++],A=o[l++];null!==a?r.setInput(n,A,u,_):n[_]=A}}}function J1(e,t,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function fm(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}function tM(e,t){const n=Yt(t,e);if(ea(n)){const r=n[he];48&n[xe]?Ma(r,n,r.template,n[at]):n[jr]>0&&Hu(n)}}function Hu(e){for(let r=eu(e);null!==r;r=tu(r))for(let i=Bt;i<r.length;i++){const s=r[i];if(ea(s))if(512&s[xe]){const o=s[he];Ma(o,s,o.template,s[at])}else s[jr]>0&&Hu(s)}const n=e[he].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Yt(n[r],e);ea(i)&&i[jr]>0&&Hu(i)}}function nM(e,t){const n=Yt(t,e),r=n[he];(function rM(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Tu(r,n,n[at])}function Aa(e,t){return e[bs]?e[Wf][Dn]=t:e[bs]=t,e[Wf]=t,t}function Ia(e){for(;e;){e[xe]|=32;const t=Ns(e);if(hw(e)&&!t)return e;e=t}return null}function xa(e,t,n,r=!0){const i=t[Xo];i.begin&&i.begin();try{Ma(e,t,e.template,n)}catch(o){throw r&&_m(t,o),o}finally{i.end&&i.end()}}function Vu(e,t,n){Rc(0),t(e,n)}function pm(e){return e[pi]||(e[pi]=[])}function gm(e){return e.cleanup||(e.cleanup=[])}function _m(e,t){const n=e[Ko],r=n?n.get(Oi,null):null;r&&r.handleError(t)}function ju(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=t[o],u=e.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function dr(e,t,n){const r=function Qo(e,t){return Et(t[e])}(t,e);!function Qp(e,t,n){e.setValue(t,n)}(e[Oe],r,n)}function Ra(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=uc(i,a):2==s&&(r=uc(r,a+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Ta(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(Et(s)),En(s))for(let a=Bt;a<s.length;a++){const l=s[a],u=l[he].firstChild;null!==u&&Ta(l[he],l,u,r)}const o=n.type;if(8&o)Ta(e,t,n.child,r);else if(32&o){const a=Qc(n,t);let l;for(;l=a();)r.push(l)}else if(16&o){const a=ug(t,n);if(Array.isArray(a))r.push(...a);else{const l=Ns(t[kt]);Ta(l[he],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class zs{get rootNodes(){const t=this._lView,n=t[he];return Ta(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[at]}set context(t){this._lView[at]=t}get destroyed(){return 128==(128&this._lView[xe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[st];if(En(t)){const n=t[Zo],r=n?n.indexOf(this):-1;r>-1&&(iu(t,r),ua(n,r))}this._attachedToViewContainer=!1}tg(this._lView[he],this._lView)}onDestroy(t){lm(this._lView[he],this._lView,null,t)}markForCheck(){Ia(this._cdRefInjectingView||this._lView)}detach(){this._lView[xe]&=-65}reattach(){this._lView[xe]|=64}detectChanges(){xa(this._lView[he],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jD(e,t){Bs(e,t,t[Oe],2,null,null)}(this._lView[he],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=t}}class iM extends zs{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;xa(t[he],t,t[at],!1)}checkNoChanges(){}get context(){return null}}class vm extends js{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=je(t);return new Ws(n,this.ngModule)}}function ym(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class oM{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Wo(r);const i=this.injector.get(t,wu,r);return i!==wu||n===wu?i:this.parentInjector.get(t,n,r)}}class Ws extends Ng{get inputs(){return ym(this.componentDef.inputs)}get outputs(){return ym(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function d1(e){return e.map(u1).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let s=(i=i||this.ngModule)instanceof $n?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new oM(t,s):t,a=o.get(Hg,null);if(null===a)throw new ee(407,!1);const l=o.get(zE,null),u=a.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",A=r?function L1(e,t,n){return e.selectRootElement(t,n===Bn.ShadowDom)}(u,r,this.componentDef.encapsulation):ru(u,_,function sM(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(_)),O=this.componentDef.onPush?288:272,k=Lu(0,null,null,1,0,null,null,null,null,null),B=Ea(null,k,null,O,null,null,a,u,l,o,null);let W,G;Tc(B);try{const X=this.componentDef;let se,K=null;X.findHostDirectiveDefs?(se=[],K=new Map,X.findHostDirectiveDefs(X,se,K),se.push(X)):se=[X];const ge=function lM(e,t){const n=e[he],r=Qe;return e[r]=t,Li(n,r,2,"#host",null)}(B,A),Fe=function cM(e,t,n,r,i,s,o,a){const l=i[he];!function uM(e,t,n,r){for(const i of e)t.mergedAttrs=Is(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Ra(t,t.mergedAttrs,!0),null!==n&&fg(r,n,t))}(r,e,t,o);const u=s.createRenderer(t,n),_=Ea(i,am(n),null,n.onPush?32:16,i[e.index],e,s,u,a||null,null,null);return l.firstCreatePass&&Nu(l,e,r.length-1),Aa(i,_),i[e.index]=_}(ge,A,X,se,B,a,u);G=tp(k,Qe),A&&function hM(e,t,n,r){if(r)Lc(e,n,["ng-version",WE.full]);else{const{attrs:i,classes:s}=function h1(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!An(i))break;i=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Lc(e,n,i),s&&s.length>0&&hg(e,n,s.join(" "))}}(u,X,A,r),void 0!==n&&function fM(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(G,this.ngContentSelectors,n),W=function dM(e,t,n,r,i,s){const o=Mt(),a=i[he],l=cn(o,i);dm(a,i,o,n,null,r);for(let _=0;_<n.length;_++)Pt(zr(i,a,o.directiveStart+_,o),i);hm(a,i,o),l&&Pt(l,i);const u=zr(i,a,o.directiveStart+o.componentOffset,o);if(e[at]=i[at]=u,null!==s)for(const _ of s)_(u,t);return Ou(a,o,e),u}(Fe,X,se,K,B,[pM]),Tu(k,B,null)}finally{Oc()}return new aM(this.componentType,W,Ti(G,B),B,G)}}class aM extends BE{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new iM(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const s=this._rootLView;ju(s[he],s,i,t,n),Ia(Yt(this._tNode.index,s))}}get injector(){return new Si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function pM(){const e=Mt();ta(J()[he],e)}function Oa(e){return!!$u(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function $u(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Wn(e,t,n){return e[t]=n}function Ft(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Gn(e,t,n,r){const i=J();return Ft(i,yi(),t)&&(Le(),zn(tt(),i,e,t,n,r)),Gn}function Ni(e,t,n,r){return Ft(e,yi(),n)?t+Ee(n)+r:Ae}function wr(e,t,n,r,i,s,o,a){const l=J(),u=Le(),_=e+Qe,A=u.firstCreatePass?function IM(e,t,n,r,i,s,o,a,l){const u=t.consts,_=Li(t,e,4,o||null,br(u,a));Fu(t,n,_,br(u,l)),ta(t,_);const A=_.tView=Lu(2,_,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,_),A.queries=t.queries.embeddedTView(_)),_}(_,u,l,t,n,r,i,s,o):u.data[_];Vn(A,!1);const O=l[Oe].createComment("");ga(u,l,O,A),Pt(O,l),Aa(l,l[_]=fm(O,l,O,A)),Jo(A)&&ku(u,l,A),null!=o&&Pu(l,A,a)}function Dt(e,t,n){const r=J();return Ft(r,yi(),t)&&hn(Le(),tt(),r,e,t,r[Oe],n,!1),Dt}function zu(e,t,n,r,i){const o=i?"class":"style";ju(e,n,t.inputs[o],o,r)}function Be(e,t,n,r){const i=J(),s=Le(),o=Qe+e,a=i[Oe],l=s.firstCreatePass?function TM(e,t,n,r,i,s){const o=t.consts,l=Li(t,e,2,r,br(o,i));return Fu(t,n,l,br(o,s)),null!==l.attrs&&Ra(l,l.attrs,!1),null!==l.mergedAttrs&&Ra(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,t,n,r):s.data[o],u=i[o]=ru(a,t,function Vw(){return Me.lFrame.currentNamespace}()),_=Jo(l);return Vn(l,!0),fg(a,u,l),32!=(32&l.flags)&&ga(s,i,u,l),0===function Dw(){return Me.lFrame.elementDepthCount}()&&Pt(u,i),function Ew(){Me.lFrame.elementDepthCount++}(),_&&(ku(s,i,l),Ou(s,l,i)),null!==r&&Pu(i,l),Be}function Ue(){let e=Mt();Mc()?function Ac(){Me.lFrame.isParent=!1}():(e=e.parent,Vn(e,!1));const t=e;!function Mw(){Me.lFrame.elementDepthCount--}();const n=Le();return n.firstCreatePass&&(ta(n,e),Sc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function zw(e){return 0!=(8&e.flags)}(t)&&zu(n,t,J(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Ww(e){return 0!=(16&e.flags)}(t)&&zu(n,t,J(),t.stylesWithoutHost,!1),Ue}function Cn(e,t,n,r){return Be(e,t,n,r),Ue(),Cn}function qu(){return J()}function qs(e){return!!e&&"function"==typeof e.then}const Ku=function Pm(e){return!!e&&"function"==typeof e.subscribe};function jt(e,t,n,r){const i=J(),s=Le(),o=Mt();return function Fm(e,t,n,r,i,s,o){const a=Jo(r),u=e.firstCreatePass&&gm(e),_=t[at],A=pm(t);let O=!0;if(3&r.type||o){const W=cn(r,t),G=o?o(W):W,X=A.length,se=o?ge=>o(Et(ge[r.index])):r.index;let K=null;if(!o&&a&&(K=function kM(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=t[pi],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,t,i,r.index)),null!==K)(K.__ngLastListenerFn__||K).__ngNextListenerFn__=s,K.__ngLastListenerFn__=s,O=!1;else{s=Bm(r,t,_,s,!1);const ge=n.listen(G,i,s);A.push(s,ge),u&&u.push(i,se,X,X+1)}}else s=Bm(r,t,_,s,!1);const k=r.outputs;let B;if(O&&null!==k&&(B=k[i])){const W=B.length;if(W)for(let G=0;G<W;G+=2){const Fe=t[B[G]][B[G+1]].subscribe(s),it=A.length;A.push(s,Fe),u&&u.push(i,r.index,it,-(it+1))}}}(s,i,i[Oe],o,e,t,r),jt}function Nm(e,t,n,r){try{return mn(6,t,n),!1!==n(r)}catch(i){return _m(e,i),!1}finally{mn(7,t,n)}}function Bm(e,t,n,r,i){return function s(o){if(o===Function)return r;Ia(e.componentOffset>-1?Yt(e.index,t):t);let l=Nm(t,n,r,o),u=s.__ngNextListenerFn__;for(;u;)l=Nm(t,n,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Pa(e=1){return function Pw(e){return(Me.lFrame.contextLView=function Lw(e,t){for(;e>0;)t=t[gi],e--;return t}(e,Me.lFrame.contextLView))[at]}(e)}function Wi(e,t,n){return La(e,"",t,"",n),Wi}function La(e,t,n,r,i){const s=J(),o=Ni(s,t,n,r);return o!==Ae&&hn(Le(),tt(),s,e,o,s[Oe],i,!1),La}function St(e,t=""){const n=J(),r=Le(),i=e+Qe,s=r.firstCreatePass?Li(r,i,1,t,null):r.data[i],o=n[i]=function nu(e,t){return e.createText(t)}(n[Oe],t);ga(r,n,o,s),Vn(s,!1)}function Xn(e){return Xs("",e,""),Xn}function Xs(e,t,n){const r=J(),i=Ni(r,e,t,n);return i!==Ae&&dr(r,Vt(),i),Xs}const Ki="en-US";let I_=Ki;class Xi{}class ev{}class tv extends Xi{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vm(this);const r=on(t);this._bootstrapComponents=ur(r.bootstrap),this._r3Injector=Zg(t,n,[{provide:Xi,useValue:this},{provide:js,useValue:this.componentFactoryResolver}],Ke(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class sd extends ev{constructor(t){super(),this.moduleType=t}create(t){return new tv(this.moduleType,t)}}class DI extends Xi{constructor(t,n,r){super(),this.componentFactoryResolver=new vm(this),this.instance=null;const i=new Lg([...t,{provide:Xi,useValue:this},{provide:js,useValue:this.componentFactoryResolver}],n||wa(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function $a(e,t,n=null){return new DI(e,t,n).injector}let EI=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Tg(0,n.type),i=r.length>0?$a([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=me({token:e,providedIn:"environment",factory:()=>new e(pe($n))}),e})();function nv(e){e.getStandaloneInjector=t=>t.get(EI).getOrCreateStandaloneInjector(e)}function Qr(e,t,n){const r=Ht()+e,i=J();return i[r]===Ae?Wn(i,r,n?t.call(n):t()):function Gs(e,t){return e[t]}(i,r)}function to(e,t,n,r){return function cv(e,t,n,r,i,s){const o=t+n;return Ft(e,o,i)?Wn(e,o+1,s?r.call(s,i):r(i)):function no(e,t){const n=e[t];return n===Ae?void 0:n}(e,o+1)}(J(),Ht(),e,t,n,r)}function ad(e){return t=>{setTimeout(e,void 0,t)}}const Ge=class XI extends ae{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,s=n||(()=>null),o=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=ad(s),i&&(i=ad(i)),o&&(o=ad(o)));const a=super.subscribe({next:i,error:s,complete:o});return t instanceof v&&t.add(a),a}};function YI(){return this._results[Symbol.iterator]()}class ld{get changes(){return this._changes||(this._changes=new Ge)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=ld.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=YI)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function _n(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function tD(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let hr=(()=>{class e{}return e.__NG_ELEMENT_ID__=QI,e})();const ZI=hr,JI=class extends ZI{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tView,i=Ea(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);i[ws]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Hn];return null!==o&&(i[Hn]=o.createEmbeddedView(r)),Tu(r,i,t),new zs(i)}};function QI(){return za(Mt(),J())}function za(e,t){return 4&e.type?new JI(t,e,Ti(e,t)):null}let Tn=(()=>{class e{}return e.__NG_ELEMENT_ID__=ex,e})();function ex(){return mv(Mt(),J())}const tx=Tn,pv=class extends tx{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ti(this._hostTNode,this._hostLView)}get injector(){return new Si(this._hostTNode,this._hostLView)}get parentInjector(){const t=Bc(this._hostTNode,this._hostLView);if(yp(t)){const n=sa(t,this._hostLView),r=ia(t);return new Si(n[he].data[r+8],n)}return new Si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=gv(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Bt}createEmbeddedView(t,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=t.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(t,n,r,i,s){const o=t&&!function Rs(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const A=n||{};a=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}const l=o?t:new Ws(je(t)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const O=(o?u:this.parentInjector).get($n,null);O&&(s=O)}const _=l.create(u,i,void 0,s);return this.insert(_.hostView,a),_}insert(t,n){const r=t._lView,i=r[he];if(function ww(e){return En(e[st])}(r)){const _=this.indexOf(t);if(-1!==_)this.detach(_);else{const A=r[st],O=new pv(A,A[Ot],A[st]);O.detach(O.indexOf(t))}}const s=this._adjustIndex(n),o=this._lContainer;!function $D(e,t,n,r){const i=Bt+r,s=n.length;r>0&&(n[i-1][Dn]=t),r<s-Bt?(t[Dn]=n[i],Tp(n,Bt+r,t)):(n.push(t),t[Dn]=null),t[st]=n;const o=t[ws];null!==o&&n!==o&&function zD(e,t){const n=e[_i];t[kt]!==t[st][st][kt]&&(e[qf]=!0),null===n?e[_i]=[t]:n.push(t)}(o,t);const a=t[Hn];null!==a&&a.insertView(e),t[xe]|=64}(i,r,o,s);const a=au(s,o),l=r[Oe],u=pa(l,o[Yo]);return null!==u&&function VD(e,t,n,r,i,s){r[or]=i,r[Ot]=t,Bs(e,r,n,1,i,s)}(i,o[Ot],l,r,u,a),t.attachToViewContainerRef(),Tp(cd(o),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=gv(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=iu(this._lContainer,n);r&&(ua(cd(this._lContainer),n),tg(r[he],r))}detach(t){const n=this._adjustIndex(t,-1),r=iu(this._lContainer,n);return r&&null!=ua(cd(this._lContainer),n)?new zs(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function gv(e){return e[Zo]}function cd(e){return e[Zo]||(e[Zo]=[])}function mv(e,t){let n;const r=t[e.index];if(En(r))n=r;else{let i;if(8&e.type)i=Et(r);else{const s=t[Oe];i=s.createComment("");const o=cn(e,t);Gr(s,pa(s,o),i,function KD(e,t){return e.nextSibling(t)}(s,o),!1)}t[e.index]=n=fm(r,t,i,e),Aa(t,n)}return new pv(n,e,t)}class ud{constructor(t){this.queryList=t,this.matches=null}clone(){return new ud(this.queryList)}setDirty(){this.queryList.setDirty()}}class dd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new dd(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==bv(t,n).matches&&this.queries[n].setDirty()}}class _v{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class hd{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new hd(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class fd{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new fd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,n,nx(n,s)),this.matchTNodeWithReadOption(t,n,la(n,t,s,!1,!1))}else r===hr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,la(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Lt||i===Tn||i===hr&&4&n.type)this.addMatch(n.index,-2);else{const s=la(n,t,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function nx(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function ix(e,t,n,r){return-1===n?function rx(e,t){return 11&e.type?Ti(e,t):4&e.type?za(e,t):null}(t,e):-2===n?function sx(e,t,n){return n===Lt?Ti(t,e):n===hr?za(t,e):n===Tn?mv(t,e):void 0}(e,t,r):zr(e,e[he],n,t)}function vv(e,t,n,r){const i=t[Hn].queries[r];if(null===i.matches){const s=e.data,o=n.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:ix(t,s[u],o[l+1],n.metadata.read))}i.matches=a}return i.matches}function pd(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=vv(e,t,i,n);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const u=s[a+1],_=t[-l];for(let A=Bt;A<_.length;A++){const O=_[A];O[ws]===O[st]&&pd(O[he],O,u,r)}if(null!==_[_i]){const A=_[_i];for(let O=0;O<A.length;O++){const k=A[O];pd(k[he],k,u,r)}}}}}return r}function Yi(e){const t=J(),n=Le(),r=cp();Rc(r+1);const i=bv(n,r);if(e.dirty&&function bw(e){return 4==(4&e[xe])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?pd(n,t,r,[]):vv(n,t,i,r);e.reset(s,UE),e.notifyOnChanges()}return!0}return!1}function io(e,t,n){const r=Le();r.firstCreatePass&&(function Sv(e,t,n){null===e.queries&&(e.queries=new hd),e.queries.track(new fd(t,n))}(r,new _v(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function Cv(e,t,n){const r=new ld(4==(4&n));lm(e,t,r,r.destroy),null===t[Hn]&&(t[Hn]=new dd),t[Hn].queries.push(new ud(r))}(r,J(),t)}function Zi(){return function ox(e,t){return e[Hn].queries[t].queryList}(J(),cp())}function bv(e,t){return e.queries.getByIndex(t)}function Ga(...e){}const qa=new fe("Application Initializer");let Ka=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Ga,this.reject=Ga,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(qs(s))n.push(s);else if(Ku(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(pe(qa,8))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const oo=new fe("AppId",{providedIn:"root",factory:function Vv(){return`${Cd()}${Cd()}${Cd()}`}});function Cd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jv=new fe("Platform Initializer"),Xa=new fe("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let Ix=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const fr=new fe("LocaleId",{providedIn:"root",factory:()=>Te(fr,Se.Optional|Se.SkipSelf)||function xx(){return typeof $localize<"u"&&$localize.locale||Ki}()});class Tx{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Uv=(()=>{class e{compileModuleSync(n){return new sd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=ur(on(n).declarations).reduce((o,a)=>{const l=je(a);return l&&o.push(new Ws(l)),o},[]);return new Tx(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Px=(()=>Promise.resolve(0))();function Sd(e){typeof Zone>"u"?Px.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class nt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Lx(){let e=Je.requestAnimationFrame,t=Je.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Bx(e){const t=()=>{!function Nx(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Je,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,wd(e),e.isCheckStableRunning=!0,bd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),wd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Wv(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),Gv(e)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return Wv(e),n.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),Gv(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,wd(e),bd(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nt.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(nt.isInAngularZone())throw new ee(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,Fx,Ga,Ga);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const Fx={};function bd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function wd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Wv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Gv(e){e._nesting--,bd(e)}class Hx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const qv=new fe(""),Ya=new fe("");let Md,Dd=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Md||(function Vx(e){Md=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nt.assertNotInAngularZone(),Sd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sd(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(pe(nt),pe(Ed),pe(Ya))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})(),Ed=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Md?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const pr=!1;let Er=null;const Kv=new fe("AllowMultipleToken"),Ad=new fe("PlatformDestroyListeners"),Xv=new fe("appBootstrapListener");class Yv{constructor(t,n){this.name=t,this.token=n}}function Jv(e,t,n=[]){const r=`Platform: ${t}`,i=new fe(r);return(s=[])=>{let o=Id();if(!o||o.injector.get(Kv,!1)){const a=[...n,...s,{provide:i,useValue:!0}];e?e(a):function $x(e){if(Er&&!Er.get(Kv,!1))throw new ee(400,!1);Er=e;const t=e.get(ey);(function Zv(e){const t=e.get(jv,null);t&&t.forEach(n=>n())})(e)}(function Qv(e=[],t){return In.create({name:t,providers:[{provide:yu,useValue:"platform"},{provide:Ad,useValue:new Set([()=>Er=null])},...e]})}(a,r))}return function Wx(e){const t=Id();if(!t)throw new ee(401,!1);return t}()}}function Id(){return Er?.get(ey)??null}let ey=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function ny(e,t){let n;return n="noop"===e?new Hx:("zone.js"===e?void 0:e)||new nt(t),n}(r?.ngZone,function ty(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:nt,useValue:i}];return i.run(()=>{const o=In.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),l=a.injector.get(Oi,null);if(!l)throw new ee(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:_=>{l.handleError(_)}});a.onDestroy(()=>{Ja(this._modules,a),u.unsubscribe()})}),function ry(e,t,n){try{const r=n();return qs(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(l,i,()=>{const u=a.injector.get(Ka);return u.runInitializers(),u.donePromise.then(()=>(function x_(e){pn(e,"Expected localeId to be defined"),"string"==typeof e&&(I_=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(fr,Ki)||Ki),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=iy({},r);return function jx(e,t,n){const r=new sd(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Za);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new ee(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Ad,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(pe(In))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function iy(e,t){return Array.isArray(t)?t.reduce(iy,e):{...e,...t}}let Za=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new N(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new N(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{nt.assertNotInAngularZone(),Sd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{nt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=Vr(s,o.pipe(_s()))}bootstrap(n,r){const i=n instanceof Ng;if(!this._injector.get(Ka).done){!i&&function fi(e){const t=je(e)||Tt(e)||Xt(e);return null!==t&&t.standalone}(n);throw new ee(405,pr)}let o;o=i?n:this._injector.get(js).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function Ux(e){return e.isBoundToModule}(o)?void 0:this._injector.get(Xi),u=o.create(In.NULL,[],r||o.selector,a),_=u.location.nativeElement,A=u.injector.get(qv,null);return A?.registerApplication(_),u.onDestroy(()=>{this.detachView(u.hostView),Ja(this.components,u),A?.unregisterApplication(_)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ja(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Xv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ja(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ee(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(pe(nt),pe($n),pe(Oi))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ja(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let ao=(()=>{class e{}return e.__NG_ELEMENT_ID__=qx,e})();function qx(e){return function Kx(e,t,n){if(Es(e)&&!n){const r=Yt(e.index,t);return new zs(r,r)}return 47&e.type?new zs(t[kt],t):null}(Mt(),J(),16==(16&e))}class cy{constructor(){}supports(t){return Oa(t)}create(t){return new eR(t)}}const Qx=(e,t)=>t;class eR{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Qx}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<dy(r,i,s)?n:r,a=dy(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,_=l-i;if(u!=_){for(let O=0;O<u;O++){const k=O<s.length?s[O]:s[O]=0,B=k+O;_<=B&&B<u&&(s[O]=k+1)}s[o.previousIndex]=_-u}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Oa(t))throw new ee(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function EM(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,i)):t=this._addAfter(new tR(n,r),s,i),t}_verifyReinsertion(t,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new uy),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class tR{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nR{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class uy{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new nR,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dy(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class hy{constructor(){}supports(t){return t instanceof Map||$u(t)}create(){return new rR}}class rR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||$u(t)))throw new ee(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new iR(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class iR{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fy(){return new tl([new cy])}let tl=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||fy()),deps:[[e,new ks,new Os]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new ee(901,!1)}}return e.\u0275prov=me({token:e,providedIn:"root",factory:fy}),e})();function py(){return new lo([new hy])}let lo=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||py()),deps:[[e,new ks,new Os]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new ee(901,!1)}}return e.\u0275prov=me({token:e,providedIn:"root",factory:py}),e})();const aR=Jv(null,"core",[]);let lR=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(pe(Za))},e.\u0275mod=sn({type:e}),e.\u0275inj=qt({}),e})();function es(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let kd=null;function gr(){return kd}class dR{}const It=new fe("DocumentToken");let Pd=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return function hR(){return pe(gy)}()},providedIn:"platform"}),e})();const fR=new fe("Location Initialized");let gy=(()=>{class e extends Pd{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gr().getBaseHref(this._doc)}onPopState(n){const r=gr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=gr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){my()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){my()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(pe(It))},e.\u0275prov=me({token:e,factory:function(){return function pR(){return new gy(pe(It))}()},providedIn:"platform"}),e})();function my(){return!!window.history.pushState}function Ld(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function _y(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function mr(e){return e&&"?"!==e[0]?"?"+e:e}let ti=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return Te(yy)},providedIn:"root"}),e})();const vy=new fe("appBaseHref");let yy=(()=>{class e extends ti{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Te(It).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ld(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+mr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+mr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+mr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(pe(Pd),pe(vy,8))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),gR=(()=>{class e extends ti{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Ld(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+mr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+mr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(pe(Pd),pe(vy,8))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})(),Fd=(()=>{class e{constructor(n){this._subject=new Ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function vR(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(_y(Cy(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+mr(r))}normalize(n){return e.stripTrailingSlash(function _R(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,Cy(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=mr,e.joinWithSlash=Ld,e.stripTrailingSlash=_y,e.\u0275fac=function(n){return new(n||e)(pe(ti))},e.\u0275prov=me({token:e,factory:function(){return function mR(){return new Fd(pe(ti))}()},providedIn:"root"}),e})();function Cy(e){return e.replace(/\/index.html$/,"")}function xy(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}const Gd=/\s+/,Ry=[];let Ty=(()=>{class e{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=Ry,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Gd):Ry}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Gd):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,Boolean(n[r]));this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Gd).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(n){return new(n||e)(Y(tl),Y(lo),Y(Lt),Y(vn))},e.\u0275dir=be({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class nT{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qd=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new nT(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Py(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Py(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(Y(Tn),Y(hr),Y(tl))},e.\u0275dir=be({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Py(e,t){e.context.$implicit=t.item}let Ly=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new iT,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Fy("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Fy("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(Y(Tn),Y(hr))},e.\u0275dir=be({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class iT{constructor(){this.$implicit=null,this.ngIf=null}}function Fy(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ke(t)}'.`)}let Hy=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=sn({type:e}),e.\u0275inj=qt({}),e})();const Vy="browser";let kT=(()=>{class e{}return e.\u0275prov=me({token:e,providedIn:"root",factory:()=>new PT(pe(It),window)}),e})();class PT{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function LT(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=jy(this.window.history)||jy(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function jy(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Uy{}class lO extends dR{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class eh extends lO{static makeCurrent(){!function uR(e){kd||(kd=e)}(new eh)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function cO(){return fo=fo||document.querySelector("base"),fo?fo.getAttribute("href"):null}();return null==n?null:function uO(e){fl=fl||document.createElement("a"),fl.setAttribute("href",e);const t=fl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){fo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return xy(document.cookie,t)}}let fl,fo=null;const qy=new fe("TRANSITION_ID"),hO=[{provide:qa,useFactory:function dO(e,t,n){return()=>{n.get(Ka).donePromise.then(()=>{const r=gr(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[qy,It,In],multi:!0}];let pO=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();const pl=new fe("EventManagerPlugins");let gl=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(pe(pl),pe(nt))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();class Ky{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=gr().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Xy=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let s=i.get(n)??0;return s+=r,s>0?i.set(n,s):i.delete(n),s}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})(),po=(()=>{class e extends Xy{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(s=>s.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(pe(It))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();const th={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nh=/%COMP%/g,Jy=new fe("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Qy(e,t){return t.flat(100).map(n=>n.replace(nh,e))}function e0(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let rh=(()=>{class e{constructor(n,r,i,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new ih(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof r0?i.applyToHost(n):i instanceof sh&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(r.encapsulation){case Bn.Emulated:s=new r0(o,a,r,this.appId,l);break;case Bn.ShadowDom:return new SO(o,a,n,r);default:s=new sh(o,a,r,l)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(pe(gl),pe(po),pe(oo),pe(Jy))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();class ih{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(th[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(n0(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(n0(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=th[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=th[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Zt.DashCase|Zt.Important)?t.style.setProperty(n,r,i&Zt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Zt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,e0(r)):this.eventManager.addEventListener(t,n,e0(r))}}function n0(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class SO extends ih{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Qy(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class sh extends ih{constructor(t,n,r,i,s=r.id){super(t),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Qy(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class r0 extends sh{constructor(t,n,r,i,s){const o=i+"-"+r.id;super(t,n,r,s,o),this.contentAttr=function vO(e){return"_ngcontent-%COMP%".replace(nh,e)}(o),this.hostAttr=function yO(e){return"_nghost-%COMP%".replace(nh,e)}(o)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let bO=(()=>{class e extends Ky{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(pe(It))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();const s0=["alt","control","meta","shift"],wO={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DO={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let EO=(()=>{class e extends Ky{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),s0.forEach(u=>{const _=r.indexOf(u);_>-1&&(r.splice(_,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=wO[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),s0.forEach(o=>{o!==i&&(0,DO[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{e.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(pe(It))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();const a0=[{provide:Xa,useValue:Vy},{provide:jv,useValue:function MO(){eh.makeCurrent()},multi:!0},{provide:It,useFactory:function IO(){return function nE(e){du=e}(document),document},deps:[]}],xO=Jv(aR,"browser",a0),l0=new fe(""),c0=[{provide:Ya,useClass:class fO{addToWindow(t){Je.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Je.getAllAngularTestabilities=()=>t.getAllTestabilities(),Je.getAllAngularRootElements=()=>t.getAllRootElements(),Je.frameworkStabilizers||(Je.frameworkStabilizers=[]),Je.frameworkStabilizers.push(r=>{const i=Je.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?gr().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:qv,useClass:Dd,deps:[nt,Ed,Ya]},{provide:Dd,useClass:Dd,deps:[nt,Ed,Ya]}],u0=[{provide:yu,useValue:"root"},{provide:Oi,useFactory:function AO(){return new Oi},deps:[]},{provide:pl,useClass:bO,multi:!0,deps:[It,nt,Xa]},{provide:pl,useClass:EO,multi:!0,deps:[It]},{provide:rh,useClass:rh,deps:[gl,po,oo,Jy]},{provide:Hg,useExisting:rh},{provide:Xy,useExisting:po},{provide:po,useClass:po,deps:[It]},{provide:gl,useClass:gl,deps:[pl,nt]},{provide:Uy,useClass:pO,deps:[]},[]];let RO=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:oo,useValue:n.appId},{provide:qy,useExisting:oo},hO]}}}return e.\u0275fac=function(n){return new(n||e)(pe(l0,12))},e.\u0275mod=sn({type:e}),e.\u0275inj=qt({providers:[...u0,...c0],imports:[Hy,lR]}),e})(),d0=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(pe(It))},e.\u0275prov=me({token:e,factory:function(n){let r=null;return r=n?new n:function OO(){return new d0(pe(It))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;let p0=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(n){let r=null;return r=n?new(n||e):pe(g0),r},providedIn:"root"}),e})(),g0=(()=>{class e extends p0{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case Ye.NONE:return r;case Ye.HTML:return Un(r,"HTML")?dn(r):Dg(this._doc,String(r)).toString();case Ye.STYLE:return Un(r,"Style")?dn(r):r;case Ye.SCRIPT:if(Un(r,"Script"))return dn(r);throw new Error("unsafe value used in a script context");case Ye.URL:return Un(r,"URL")?dn(r):ya(String(r));case Ye.RESOURCE_URL:if(Un(r,"ResourceURL"))return dn(r);throw new Error(`unsafe value used in a resource URL context (see ${Ho})`);default:throw new Error(`Unexpected SecurityContext ${n} (see ${Ho})`)}}bypassSecurityTrustHtml(n){return function cE(e){return new rE(e)}(n)}bypassSecurityTrustStyle(n){return function uE(e){return new iE(e)}(n)}bypassSecurityTrustScript(n){return function dE(e){return new sE(e)}(n)}bypassSecurityTrustUrl(n){return function hE(e){return new oE(e)}(n)}bypassSecurityTrustResourceUrl(n){return function fE(e){return new aE(e)}(n)}}return e.\u0275fac=function(n){return new(n||e)(pe(It))},e.\u0275prov=me({token:e,factory:function(n){let r=null;return r=n?new n:function NO(e){return new g0(e.get(It))}(pe(In)),r},providedIn:"root"}),e})();const{isArray:BO}=Array,{getPrototypeOf:HO,prototype:VO,keys:jO}=Object;const{isArray:$O}=Array;function lh(e){return de(t=>function zO(e,t){return $O(t)?e(...t):e(t)}(e,t))}const ns=new fe("CallSetDisabledState",{providedIn:"root",factory:()=>Sl}),Sl="always";let iC=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=sn({type:e}),e.\u0275inj=qt({}),e})(),Gk=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=sn({type:e}),e.\u0275inj=qt({imports:[iC]}),e})(),Kk=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:ns,useValue:n.callSetDisabledState??Sl}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=sn({type:e}),e.\u0275inj=qt({imports:[Gk]}),e})();function ve(...e){return dt(e,ms(e))}class Ln extends ae{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const Ml=Gt(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function bC(...e){const t=ms(e),n=function Tf(e){return _e(ac(e))?e.pop():void 0}(e),{args:r,keys:i}=function m0(e){if(1===e.length){const t=e[0];if(BO(t))return{args:t,keys:null};if(function UO(e){return e&&"object"==typeof e&&HO(e)===VO}(t)){const n=jO(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return dt([],t);const s=new N(function Xk(e,t,n=R){return r=>{wC(t,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)wC(t,()=>{const u=dt(e[l],t);let _=!1;u.subscribe(q(r,A=>{s[l]=A,_||(_=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>function _0(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,o):R));return n?s.pipe(lh(n)):s}function wC(e,t,n){e?nr(n,e,t):t()}function Rh(...e){return function Yk(){return di(1)}()(dt(e,ms(e)))}function DC(e){return new N(t=>{nn(e()).subscribe(t)})}function yo(e,t){const n=_e(e)?e:()=>e,r=i=>i.error(n());return new N(t?i=>t.schedule(r,0,i):r)}function Th(){return z((e,t)=>{let n=null;e._refCount++;const r=q(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class EC extends N{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,V(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new v;const n=this.getSubject();t.add(this.source.subscribe(q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=v.EMPTY)}return t}refCount(){return Th()(this)}}function Zn(e,t){return z((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(q(r,l=>{i?.unsubscribe();let u=0;const _=s++;nn(e(l,_)).subscribe(i=q(r,A=>r.next(t?t(l,A,_,u++):A),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ii(e){return e<=0?()=>Fn:z((t,n)=>{let r=0;t.subscribe(q(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function en(e,t){return z((n,r)=>{let i=0;n.subscribe(q(r,s=>e.call(t,s,i++)&&r.next(s)))})}function Al(e){return z((t,n)=>{let r=!1;t.subscribe(q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function MC(e=Jk){return z((t,n)=>{let r=!1;t.subscribe(q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function Jk(){return new Ml}function Rr(e,t){const n=arguments.length>=2;return r=>r.pipe(e?en((i,s)=>e(i,s,r)):R,ii(1),n?Al(t):MC(()=>new Ml))}function Tr(e,t){return _e(t)?vt(e,t,1):vt(e,1)}function xt(e,t,n){const r=_e(e)||t||n?{next:e,error:t,complete:n}:e;return r?z((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(q(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):R}function Or(e){return z((t,n)=>{let s,r=null,i=!1;r=t.subscribe(q(n,void 0,void 0,o=>{s=nn(e(o,Or(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function AC(e,t){return z(function Qk(e,t,n,r,i){return(s,o)=>{let a=n,l=t,u=0;s.subscribe(q(o,_=>{const A=u++;l=a?e(l,_,A):(a=!0,_),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(e,t,arguments.length>=2,!0))}function Oh(e){return e<=0?()=>Fn:z((t,n)=>{let r=[];t.subscribe(q(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function IC(e,t){const n=arguments.length>=2;return r=>r.pipe(e?en((i,s)=>e(i,s,r)):R,Oh(1),n?Al(t):MC(()=>new Ml))}function kh(e){return z((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Ie="primary",Co=Symbol("RouteTitle");class nP{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function rs(e){return new nP(e)}function rP(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Jn(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!xC(e[i],t[i]))return!1;return!0}function xC(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function RC(e){return Array.prototype.concat.apply([],e)}function TC(e){return e.length>0?e[e.length-1]:null}function Rt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function kr(e){return Ku(e)?e:qs(e)?dt(Promise.resolve(e)):ve(e)}const Il=!1,sP={exact:function PC(e,t,n){if(!si(e.segments,t.segments)||!xl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!PC(e.children[r],t.children[r],n))return!1;return!0},subset:LC},OC={exact:function oP(e,t){return Jn(e,t)},subset:function aP(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>xC(e[n],t[n]))},ignored:()=>!0};function kC(e,t,n){return sP[n.paths](e.root,t.root,n.matrixParams)&&OC[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function LC(e,t,n){return FC(e,t,t.segments,n)}function FC(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!si(i,n)||t.hasChildren()||!xl(i,n,r))}if(e.segments.length===n.length){if(!si(e.segments,n)||!xl(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!LC(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(si(e.segments,i)&&xl(e.segments,i,r)&&e.children[Ie])&&FC(e.children[Ie],t,s,r)}}function xl(e,t,n){return t.every((r,i)=>OC[n](e[i].parameters,r.parameters))}class Pr{constructor(t=new ke([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rs(this.queryParams)),this._queryParamMap}toString(){return uP.serialize(this)}}class ke{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Rt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rl(this)}}class So{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=rs(this.parameters)),this._parameterMap}toString(){return HC(this)}}function si(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let bo=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return new Ph},providedIn:"root"}),e})();class Ph{parse(t){const n=new yP(t);return new Pr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${wo(t.root,!0)}`,r=function fP(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${Tl(n)}=${Tl(i)}`).join("&"):`${Tl(n)}=${Tl(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function dP(e){return encodeURI(e)}(t.fragment)}`:""}`}}const uP=new Ph;function Rl(e){return e.segments.map(t=>HC(t)).join("/")}function wo(e,t){if(!e.hasChildren())return Rl(e);if(t){const n=e.children[Ie]?wo(e.children[Ie],!1):"",r=[];return Rt(e.children,(i,s)=>{s!==Ie&&r.push(`${s}:${wo(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function cP(e,t){let n=[];return Rt(e.children,(r,i)=>{i===Ie&&(n=n.concat(t(r,i)))}),Rt(e.children,(r,i)=>{i!==Ie&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===Ie?[wo(e.children[Ie],!1)]:[`${i}:${wo(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Ie]?`${Rl(e)}/${n[0]}`:`${Rl(e)}/(${n.join("//")})`}}function NC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tl(e){return NC(e).replace(/%3B/gi,";")}function Lh(e){return NC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ol(e){return decodeURIComponent(e)}function BC(e){return Ol(e.replace(/\+/g,"%20"))}function HC(e){return`${Lh(e.path)}${function hP(e){return Object.keys(e).map(t=>`;${Lh(t)}=${Lh(e[t])}`).join("")}(e.parameters)}`}const pP=/^[^\/()?;=#]+/;function kl(e){const t=e.match(pP);return t?t[0]:""}const gP=/^[^=?&#]+/,_P=/^[^&#]+/;class yP{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Ie]=new ke(t,n)),r}parseSegment(){const t=kl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new ee(4009,Il);return this.capture(t),new So(Ol(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=kl(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=kl(this.remaining);i&&(r=i,this.capture(r))}t[Ol(n)]=Ol(r)}parseQueryParam(t){const n=function mP(e){const t=e.match(gP);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function vP(e){const t=e.match(_P);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=BC(n),s=BC(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=kl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ee(4010,Il);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ie);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Ie]:new ke([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new ee(4011,Il)}}function Fh(e){return e.segments.length>0?new ke([],{[Ie]:e}):e}function Pl(e){const t={};for(const r of Object.keys(e.children)){const s=Pl(e.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function CP(e){if(1===e.numberOfChildren&&e.children[Ie]){const t=e.children[Ie];return new ke(e.segments.concat(t.segments),t.children)}return e}(new ke(e.segments,t))}function oi(e){return e instanceof Pr}const Nh=!1;function SP(e,t,n,r,i){if(0===n.length)return is(t.root,t.root,t.root,r,i);const s=function zC(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new $C(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Rt(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new $C(n,t,r)}(n);return s.toRoot()?is(t.root,t.root,new ke([],{}),r,i):function o(l){const u=function wP(e,t,n,r){if(e.isAbsolute)return new ss(t.root,!0,0);if(-1===r)return new ss(n,n===t.root,0);return function WC(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ee(4005,Nh&&"Invalid number of '../'");i=r.segments.length}return new ss(r,!1,i-s)}(n,r+(Do(e.commands[0])?0:1),e.numberOfDoubleDots)}(s,t,e.snapshot?._urlSegment,l),_=u.processChildren?os(u.segmentGroup,u.index,s.commands):Bh(u.segmentGroup,u.index,s.commands);return is(t.root,u.segmentGroup,_,r,i)}(e.snapshot?._lastPathIndex)}function Do(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Eo(e){return"object"==typeof e&&null!=e&&e.outlets}function is(e,t,n,r,i){let o,s={};r&&Rt(r,(l,u)=>{s[u]=Array.isArray(l)?l.map(_=>`${_}`):`${l}`}),o=e===t?n:UC(e,t,n);const a=Fh(Pl(o));return new Pr(a,s,i)}function UC(e,t,n){const r={};return Rt(e.children,(i,s)=>{r[s]=i===t?n:UC(i,t,n)}),new ke(e.segments,r)}class $C{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Do(r[0]))throw new ee(4003,Nh&&"Root segment cannot have matrix parameters");const i=r.find(Eo);if(i&&i!==TC(r))throw new ee(4004,Nh&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ss{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function Bh(e,t,n){if(e||(e=new ke([],{})),0===e.segments.length&&e.hasChildren())return os(e,t,n);const r=function EP(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const o=e.segments[i],a=n[r];if(Eo(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!qC(l,u,o))return s;r+=2}else{if(!qC(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new ke(e.segments.slice(0,r.pathIndex),{});return s.children[Ie]=new ke(e.segments.slice(r.pathIndex),e.children),os(s,0,i)}return r.match&&0===i.length?new ke(e.segments,{}):r.match&&!e.hasChildren()?Hh(e,t,n):r.match?os(e,0,i):Hh(e,t,n)}function os(e,t,n){if(0===n.length)return new ke(e.segments,{});{const r=function DP(e){return Eo(e[0])?e[0].outlets:{[Ie]:e}}(n),i={};if(!r[Ie]&&e.children[Ie]&&1===e.numberOfChildren&&0===e.children[Ie].segments.length){const s=os(e.children[Ie],t,n);return new ke(e.segments,s.children)}return Rt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Bh(e.children[o],t,s))}),Rt(e.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ke(e.segments,i)}}function Hh(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(Eo(s)){const l=MP(s.outlets);return new ke(r,l)}if(0===i&&Do(n[0])){r.push(new So(e.segments[t].path,GC(n[0]))),i++;continue}const o=Eo(s)?s.outlets[Ie]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Do(a)?(r.push(new So(o,GC(a))),i+=2):(r.push(new So(o,{})),i++)}return new ke(r,{})}function MP(e){const t={};return Rt(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=Hh(new ke([],{}),0,n))}),t}function GC(e){const t={};return Rt(e,(n,r)=>t[r]=`${n}`),t}function qC(e,t,n){return e==n.path&&Jn(t,n.parameters)}const Mo="imperative";class Qn{constructor(t,n){this.id=t,this.url=n}}class Vh extends Qn{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ai extends Qn{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ll extends Qn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fl extends Qn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class jh extends Qn{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class AP extends Qn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IP extends Qn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xP extends Qn{constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class RP extends Qn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TP extends Qn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OP{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kP{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class PP{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LP{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FP{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NP{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KC{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let VP=(()=>{class e{createUrlTree(n,r,i,s,o,a){return SP(n||r.root,i,s,o,a)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})(),UP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(t){return VP.\u0275fac(t)},providedIn:"root"}),e})();class XC{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Uh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=Uh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=$h(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return $h(t,this._root).map(n=>n.value)}}function Uh(e,t){if(e===t.value)return t;for(const n of t.children){const r=Uh(e,n);if(r)return r}return null}function $h(e,t){if(e===t.value)return[t];for(const n of t.children){const r=$h(e,n);if(r.length)return r.unshift(t),r}return[]}class vr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function as(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class YC extends XC{constructor(t,n){super(t),this.snapshot=n,zh(this,t)}toString(){return this.snapshot.toString()}}function ZC(e,t){const n=function $P(e,t){const o=new Nl([],{},{},"",{},Ie,t,null,e.root,-1,{});return new QC("",new vr(o,[]))}(e,t),r=new Ln([new So("",{})]),i=new Ln({}),s=new Ln({}),o=new Ln({}),a=new Ln(""),l=new Lr(r,i,o,a,s,Ie,t,n.root);return l.snapshot=n.root,new YC(new vr(l,[]),n)}class Lr{constructor(t,n,r,i,s,o,a,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(de(u=>u[Co]))??ve(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(de(t=>rs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(de(t=>rs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function JC(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function zP(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Nl{get title(){return this.data?.[Co]}constructor(t,n,r,i,s,o,a,l,u,_,A){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=_,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class QC extends XC{constructor(t,n){super(n),this.url=t,zh(this,n)}toString(){return eS(this._root)}}function zh(e,t){t.value._routerState=e,t.children.forEach(n=>zh(e,n))}function eS(e){const t=e.children.length>0?` { ${e.children.map(eS).join(", ")} } `:"";return`${e.value}${t}`}function Wh(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Jn(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Jn(t.params,n.params)||e.params.next(n.params),function iP(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Jn(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Jn(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Gh(e,t){const n=Jn(e.params,t.params)&&function lP(e,t){return si(e,t)&&e.every((n,r)=>Jn(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Gh(e.parent,t.parent))}function Ao(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function GP(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ao(e,r,i);return Ao(e,r)})}(e,t,n);return new vr(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Ao(e,a)),o}}const r=function qP(e){return new Lr(new Ln(e.url),new Ln(e.params),new Ln(e.queryParams),new Ln(e.fragment),new Ln(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>Ao(e,s));return new vr(r,i)}}const qh="ngNavigationCancelingError";function tS(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=oi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=nS(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function nS(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[qh]=!0,r.cancellationCode=t,n&&(r.url=n),r}function rS(e){return iS(e)&&oi(e.url)}function iS(e){return e&&e[qh]}class KP{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Io,this.attachRef=null}}let Io=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new KP,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Bl=!1;let Kh=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ie,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.parentContexts=Te(Io),this.location=Te(Tn),this.changeDetector=Te(ao),this.environmentInjector=Te($n)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,Bl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,Bl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,Bl);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ee(4013,Bl);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new XP(n,a,i.injector);if(r&&function YP(e){return!!e.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(o);this.activated=i.createComponent(u,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=be({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ln]}),e})();class XP{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Lr?this.route:t===Io?this.childContexts:this.parent.get(t,n)}}let Xh=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Sr({type:e,selectors:[["ng-component"]],standalone:!0,features:[nv],decls:1,vars:0,template:function(n,r){1&n&&Cn(0,"router-outlet")},dependencies:[Kh],encapsulation:2}),e})();function sS(e,t){return e.providers&&!e._injector&&(e._injector=$a(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Zh(e){const t=e.children&&e.children.map(Zh),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Ie&&(n.component=Xh),n}function wn(e){return e.outlet||Ie}function oS(e,t){const n=e.filter(r=>wn(r)===t);return n.push(...e.filter(r=>wn(r)!==t)),n}function xo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class tL{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Wh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=as(n);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Rt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=as(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=as(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=as(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new NP(s.value.snapshot))}),t.children.length&&this.forwardEvent(new LP(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(Wh(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Wh(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=xo(i.snapshot),l=a?.get(js)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class aS{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Hl{constructor(t,n){this.component=t,this.route=n}}function nL(e,t,n){const r=e._root;return Ro(r,t?t._root:null,n,[r.value])}function ls(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function Yb(e){return null!==Uo(e)}(e)?t.get(e):e:r}function Ro(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=as(t);return e.children.forEach(o=>{(function iL(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function sL(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!si(e.url,t.url);case"pathParamsOrQueryParamsChange":return!si(e.url,t.url)||!Jn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gh(e,t)||!Jn(e.queryParams,t.queryParams);default:return!Gh(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new aS(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ro(e,t,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hl(a.outlet.component,o))}else o&&To(t,a,i),i.canActivateChecks.push(new aS(r)),Ro(e,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Rt(s,(o,a)=>To(o,n.getContext(a),i)),i}function To(e,t,n){const r=as(e),i=e.value;Rt(r,(s,o)=>{To(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new Hl(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Oo(e){return"function"==typeof e}function Jh(e){return e instanceof Ml||"EmptyError"===e?.name}const Vl=Symbol("INITIAL_VALUE");function cs(){return Zn(e=>bC(e.map(t=>t.pipe(ii(1),function Zk(...e){const t=ms(e);return z((n,r)=>{(t?Rh(e,n,t):Rh(e,n)).subscribe(r)})}(Vl)))).pipe(de(t=>{for(const n of t)if(!0!==n){if(n===Vl)return Vl;if(!1===n||n instanceof Pr)return n}return!0}),en(t=>t!==Vl),ii(1)))}function lS(e){return function L(...e){return j(e)}(xt(t=>{if(oi(t))throw tS(0,t)}),de(t=>!0===t))}const Qh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cS(e,t,n,r,i){const s=ef(e,t,n);return s.matched?function bL(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?ve(i.map(o=>{const a=ls(o,e);return kr(function dL(e){return e&&Oo(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(cs(),lS()):ve(!0)}(r=sS(t,r),t,n).pipe(de(o=>!0===o?s:{...Qh})):ve(s)}function ef(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Qh}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||rP)(n,e,t);if(!i)return{...Qh};const s={};Rt(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function jl(e,t,n,r){if(n.length>0&&function EL(e,t,n){return n.some(r=>Ul(e,t,r)&&wn(r)!==Ie)}(e,n,r)){const s=new ke(t,function DL(e,t,n,r){const i={};i[Ie]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&wn(s)!==Ie){const o=new ke([],{});o._sourceSegment=e,o._segmentIndexShift=t.length,i[wn(s)]=o}return i}(e,t,r,new ke(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function ML(e,t,n){return n.some(r=>Ul(e,t,r))}(e,n,r)){const s=new ke(e.segments,function wL(e,t,n,r,i){const s={};for(const o of r)if(Ul(e,n,o)&&!i[wn(o)]){const a=new ke([],{});a._sourceSegment=e,a._segmentIndexShift=t.length,s[wn(o)]=a}return{...i,...s}}(e,t,n,r,e.children));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const i=new ke(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}function Ul(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function uS(e,t,n,r){return!!(wn(e)===r||r!==Ie&&Ul(t,n,e))&&("**"===e.path||ef(t,e,n).matched)}function dS(e,t,n){return 0===t.length&&!e.children[n]}const $l=!1;class zl{constructor(t){this.segmentGroup=t||null}}class hS{constructor(t){this.urlTree=t}}function ko(e){return yo(new zl(e))}function fS(e){return yo(new hS(e))}class RL{constructor(t,n,r,i,s){this.injector=t,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const t=jl(this.urlTree.root,[],[],this.config).segmentGroup,n=new ke(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,Ie).pipe(de(s=>this.createUrlTree(Pl(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Or(s=>{if(s instanceof hS)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof zl?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Ie).pipe(de(i=>this.createUrlTree(Pl(i),t.queryParams,t.fragment))).pipe(Or(i=>{throw i instanceof zl?this.noMatchError(i):i}))}noMatchError(t){return new ee(4002,$l)}createUrlTree(t,n,r){const i=Fh(t);return new Pr(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(de(s=>new ke([],s))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return dt(i).pipe(Tr(s=>{const o=r.children[s],a=oS(n,s);return this.expandSegmentGroup(t,a,o,s).pipe(de(l=>({segment:l,outlet:s})))}),AC((s,o)=>(s[o.outlet]=o.segment,s),{}),IC())}expandSegment(t,n,r,i,s,o){return dt(r).pipe(Tr(a=>this.expandSegmentAgainstRoute(t,n,r,a,i,s,o).pipe(Or(u=>{if(u instanceof zl)return ve(null);throw u}))),Rr(a=>!!a),Or((a,l)=>{if(Jh(a))return dS(n,i,s)?ve(new ke([],{})):ko(n);throw a}))}expandSegmentAgainstRoute(t,n,r,i,s,o,a){return uS(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o):ko(n):ko(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?fS(s):this.lineralizeSegments(r,s).pipe(vt(o=>{const a=new ke(o,{});return this.expandSegment(t,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:_}=ef(n,i,s);if(!a)return ko(n);const A=this.applyRedirectCommands(l,i.redirectTo,_);return i.redirectTo.startsWith("/")?fS(A):this.lineralizeSegments(i,A).pipe(vt(O=>this.expandSegment(t,n,r,O.concat(u),o,!1)))}matchSegmentAgainstRoute(t,n,r,i,s){return"**"===r.path?(t=sS(r,t),r.loadChildren?(r._loadedRoutes?ve({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(de(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ke(i,{})))):ve(new ke(i,{}))):cS(n,r,i,t).pipe(Zn(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(t=r._injector??t,r,i).pipe(vt(_=>{const A=_.injector??t,O=_.routes,{segmentGroup:k,slicedSegments:B}=jl(n,a,l,O),W=new ke(k.segments,k.children);if(0===B.length&&W.hasChildren())return this.expandChildren(A,O,W).pipe(de(K=>new ke(a,K)));if(0===O.length&&0===B.length)return ve(new ke(a,{}));const G=wn(r)===s;return this.expandSegment(A,W,O,B,G?Ie:s,!0).pipe(de(se=>new ke(a.concat(se.segments),se.children)))})):ko(n)))}getChildConfig(t,n,r){return n.children?ve({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?ve({routes:n._loadedRoutes,injector:n._loadedInjector}):function SL(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?ve(!0):ve(i.map(o=>{const a=ls(o,e);return kr(function aL(e){return e&&Oo(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(cs(),lS())}(t,n,r).pipe(vt(i=>i?this.configLoader.loadChildren(t,n).pipe(xt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function IL(e){return yo(nS($l,3))}())):ve({routes:[],injector:t})}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ve(r);if(i.numberOfChildren>1||!i.children[Ie])return t.redirectTo,yo(new ee(4e3,$l));i=i.children[Ie]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new Pr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Rt(t,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let o={};return Rt(n.children,(a,l)=>{o[l]=this.createSegmentGroup(t,a,r,i)}),new ke(s,o)}createSegments(t,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new ee(4001,$l);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}class OL{}class LL{constructor(t,n,r,i,s,o,a){this.injector=t,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const t=jl(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ie).pipe(de(n=>{if(null===n)return null;const r=new Nl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ie,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new vr(r,n),s=new QC(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const n=t.value,r=JC(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i)}processChildren(t,n,r){return dt(Object.keys(r.children)).pipe(Tr(i=>{const s=r.children[i],o=oS(n,i);return this.processSegmentGroup(t,o,s,i)}),AC((i,s)=>i&&s?(i.push(...s),i):null),function eP(e,t=!1){return z((n,r)=>{let i=0;n.subscribe(q(r,s=>{const o=e(s,i++);(o||t)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Al(null),IC(),de(i=>{if(null===i)return null;const s=gS(i);return function FL(e){e.sort((t,n)=>t.value.outlet===Ie?-1:n.value.outlet===Ie?1:t.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(t,n,r,i,s){return dt(n).pipe(Tr(o=>this.processSegmentAgainstRoute(o._injector??t,o,r,i,s)),Rr(o=>!!o),Or(o=>{if(Jh(o))return dS(r,i,s)?ve([]):ve(null);throw o}))}processSegmentAgainstRoute(t,n,r,i,s){if(n.redirectTo||!uS(n,r,i,s))return ve(null);let o;if("**"===n.path){const a=i.length>0?TC(i).parameters:{},l=_S(r)+i.length;o=ve({snapshot:new Nl(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vS(n),wn(n),n.component??n._loadedComponent??null,n,mS(r),l,yS(n)),consumedSegments:[],remainingSegments:[]})}else o=cS(r,n,i,t).pipe(de(({matched:a,consumedSegments:l,remainingSegments:u,parameters:_})=>{if(!a)return null;const A=_S(r)+l.length;return{snapshot:new Nl(l,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vS(n),wn(n),n.component??n._loadedComponent??null,n,mS(r),A,yS(n)),consumedSegments:l,remainingSegments:u}}));return o.pipe(Zn(a=>{if(null===a)return ve(null);const{snapshot:l,consumedSegments:u,remainingSegments:_}=a;t=n._injector??t;const A=n._loadedInjector??t,O=function NL(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:k,slicedSegments:B}=jl(r,u,_,O.filter(G=>void 0===G.redirectTo));if(0===B.length&&k.hasChildren())return this.processChildren(A,O,k).pipe(de(G=>null===G?null:[new vr(l,G)]));if(0===O.length&&0===B.length)return ve([new vr(l,[])]);const W=wn(n)===s;return this.processSegment(A,O,k,B,W?Ie:s).pipe(de(G=>null===G?null:[new vr(l,G)]))}))}}function BL(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function gS(e){const t=[],n=new Set;for(const r of e){if(!BL(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=gS(r.children);t.push(new vr(r.value,i))}return t.filter(r=>!n.has(r))}function mS(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function _S(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function vS(e){return e.data||{}}function yS(e){return e.resolve||{}}function CS(e){return"string"==typeof e.title||null===e.title}function tf(e){return Zn(t=>{const n=e(t);return n?dt(n).pipe(de(()=>t)):ve(t)})}const us=new fe("ROUTES");let nf=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Te(Uv)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ve(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=kr(n.loadComponent()).pipe(de(bS),xt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),kh(()=>{this.componentLoaders.delete(n)})),i=new EC(r,()=>new ae).pipe(Th());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(de(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u,_=!1;Array.isArray(a)?u=a:(l=a.create(n).injector,u=RC(l.get(us,[],Se.Self|Se.Optional)));return{routes:u.map(Zh),injector:l}}),kh(()=>{this.childrenLoaders.delete(r)})),o=new EC(s,()=>new ae).pipe(Th());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return kr(n()).pipe(de(bS),vt(r=>r instanceof ev||Array.isArray(r)?ve(r):dt(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function bS(e){return function GL(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Gl=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ae,this.configLoader=Te(nf),this.environmentInjector=Te($n),this.urlSerializer=Te(bo),this.rootContexts=Te(Io),this.navigationId=0,this.afterPreactivation=()=>ve(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new kP(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new OP(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Ln({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mo,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(en(r=>0!==r.id),de(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Zn(r=>{let i=!1,s=!1;return ve(r).pipe(xt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Zn(o=>{const a=n.browserUrlTree.toString(),l=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const _="";return this.events.next(new Fl(o.id,n.serializeUrl(r.rawUrl),_,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Fn}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return wS(o.source)&&(n.browserUrlTree=o.extractedUrl),ve(o).pipe(Zn(_=>{const A=this.transitions?.getValue();return this.events.next(new Vh(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),A!==this.transitions?.getValue()?Fn:Promise.resolve(_)}),function TL(e,t,n,r){return Zn(i=>function xL(e,t,n,r,i){return new RL(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(de(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),xt(_=>{this.currentNavigation={...this.currentNavigation,finalUrl:_.urlAfterRedirects},r.urlAfterRedirects=_.urlAfterRedirects}),function VL(e,t,n,r,i){return vt(s=>function PL(e,t,n,r,i,s,o="emptyOnly"){return new LL(e,t,n,r,i,o,s).recognize().pipe(Zn(a=>null===a?function kL(e){return new N(t=>t.error(e))}(new OL):ve(a)))}(e,t,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(de(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),xt(_=>{if(r.targetSnapshot=_.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!_.extras.skipLocationChange){const O=n.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl);n.setBrowserUrl(O,_)}n.browserUrlTree=_.urlAfterRedirects}const A=new AP(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(A)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:_,extractedUrl:A,source:O,restoredState:k,extras:B}=o,W=new Vh(_,this.urlSerializer.serialize(A),O,k);this.events.next(W);const G=ZC(A,this.rootComponentType).snapshot;return ve(r={...o,targetSnapshot:G,urlAfterRedirects:A,extras:{...B,skipLocationChange:!1,replaceUrl:!1}})}{const _="";return this.events.next(new Fl(o.id,n.serializeUrl(r.extractedUrl),_,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Fn}}),xt(o=>{const a=new IP(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),de(o=>r={...o,guards:nL(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function fL(e,t){return vt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ve({...n,guardsResult:!0}):function pL(e,t,n,r){return dt(e).pipe(vt(i=>function CL(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ve(s.map(a=>{const l=xo(t)??i,u=ls(a,l);return kr(function uL(e){return e&&Oo(e.canDeactivate)}(u)?u.canDeactivate(e,t,n,r):l.runInContext(()=>u(e,t,n,r))).pipe(Rr())})).pipe(cs()):ve(!0)}(i.component,i.route,n,t,r)),Rr(i=>!0!==i,!0))}(o,r,i,e).pipe(vt(a=>a&&function oL(e){return"boolean"==typeof e}(a)?function gL(e,t,n,r){return dt(t).pipe(Tr(i=>Rh(function _L(e,t){return null!==e&&t&&t(new PP(e)),ve(!0)}(i.route.parent,r),function mL(e,t){return null!==e&&t&&t(new FP(e)),ve(!0)}(i.route,r),function yL(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function rL(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>DC(()=>ve(o.guards.map(l=>{const u=xo(o.node)??n,_=ls(l,u);return kr(function cL(e){return e&&Oo(e.canActivateChild)}(_)?_.canActivateChild(r,e):u.runInContext(()=>_(r,e))).pipe(Rr())})).pipe(cs())));return ve(s).pipe(cs())}(e,i.path,n),function vL(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return ve(!0);const i=r.map(s=>DC(()=>{const o=xo(t)??n,a=ls(s,o);return kr(function lL(e){return e&&Oo(e.canActivate)}(a)?a.canActivate(t,e):o.runInContext(()=>a(t,e))).pipe(Rr())}));return ve(i).pipe(cs())}(e,i.route,n))),Rr(i=>!0!==i,!0))}(r,s,e,t):ve(a)),de(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),xt(o=>{if(r.guardsResult=o.guardsResult,oi(o.guardsResult))throw tS(0,o.guardsResult);const a=new xP(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),en(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),tf(o=>{if(o.guards.canActivateChecks.length)return ve(o).pipe(xt(a=>{const l=new RP(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Zn(a=>{let l=!1;return ve(a).pipe(function jL(e,t){return vt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ve(n);let s=0;return dt(i).pipe(Tr(o=>function UL(e,t,n,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!CS(i)&&(s[Co]=i.title),function $L(e,t,n,r){const i=function zL(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return ve({});const s={};return dt(i).pipe(vt(o=>function WL(e,t,n,r){const i=xo(t)??r,s=ls(e,i);return kr(s.resolve?s.resolve(t,n):i.runInContext(()=>s(t,n)))}(e[o],t,n,r).pipe(Rr(),xt(a=>{s[o]=a}))),Oh(1),function tP(e){return de(()=>e)}(s),Or(o=>Jh(o)?Fn:yo(o)))}(s,e,t,r).pipe(de(o=>(e._resolvedData=o,e.data=JC(e,n).resolve,i&&CS(i)&&(e.data[Co]=i.title),null)))}(o.route,r,e,t)),xt(()=>s++),Oh(1),vt(o=>s===i.length?ve(n):Fn))})}(n.paramsInheritanceStrategy,this.environmentInjector),xt({next:()=>l=!0,complete:()=>{l||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),xt(a=>{const l=new TP(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),tf(o=>{const a=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(xt(_=>{l.component=_}),de(()=>{})));for(const _ of l.children)u.push(...a(_));return u};return bC(a(o.targetSnapshot.root)).pipe(Al(),ii(1))}),tf(()=>this.afterPreactivation()),de(o=>{const a=function WP(e,t,n){const r=Ao(e,t._root,n?n._root:void 0);return new YC(r,t)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),xt(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((e,t,n)=>de(r=>(new tL(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),ii(1),xt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new ai(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),kh(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Or(o=>{if(s=!0,iS(o)){rS(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Ll(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),rS(o)){const l=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||wS(r.source)};n.scheduleNavigation(l,Mo,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new jh(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(l){r.reject(l)}}return Fn}))}))}cancelNavigationTransition(n,r,i){const s=new Ll(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function wS(e){return e!==Mo}let DS=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ie);return r}getResolvedTitleForRoute(n){return n.data[Co]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return Te(qL)},providedIn:"root"}),e})(),qL=(()=>{class e extends DS{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(pe(d0))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),KL=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return Te(YL)},providedIn:"root"}),e})();class XL{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let YL=(()=>{class e extends XL{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=function At(e){return rr(()=>{const t=e.prototype.constructor,n=t[sr]||Vc(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[sr]||Vc(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(e)))(r||e)}}(),e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ql=new fe("",{providedIn:"root",factory:()=>({})});let JL=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return Te(QL)},providedIn:"root"}),e})(),QL=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function eF(e){throw e}function tF(e,t,n){return t.parse("/")}const nF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Te(Ix),this.isNgZoneEnabled=!1,this.options=Te(ql,{optional:!0})||{},this.errorHandler=this.options.errorHandler||eF,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||tF,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Te(JL),this.routeReuseStrategy=Te(KL),this.urlCreationStrategy=Te(UP),this.titleStrategy=Te(DS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=RC(Te(us,{optional:!0})??[]),this.navigationTransitions=Te(Gl),this.urlSerializer=Te(bo),this.location=Te(Fd),this.isNgZoneEnabled=Te(nt)instanceof nt&&nt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ZC(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Mo,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(Zh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o;let _=null;switch(a){case"merge":_={...this.currentUrlTree.queryParams,...s};break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=s||null}return null!==_&&(_=this.removeEmptyProps(_)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,_,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=oi(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Mo,null,r)}navigate(n,r={skipLocationChange:!1}){return function iF(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new ee(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...nF}:!1===r?{...rF}:r,oi(n))return kC(this.currentUrlTree,n,i);const s=this.parseUrl(n);return kC(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u,_;return o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((A,O)=>{a=A,l=O}),_="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:_,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(A=>Promise.reject(A))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Kl=(()=>{class e{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ae;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof ai&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=es(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=es(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=es(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function Ag(e,t,n){return function AE(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Mg:Kr}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(n){return new(n||e)(Y(tn),Y(Lr),function ca(e){return function Xw(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(mp(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===t)return n[i+1];i+=2}}}return null}(Mt(),e)}("tabindex"),Y(vn),Y(Lt),Y(ti))},e.\u0275dir=be({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&jt("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Gn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[ln]}),e})();class ES{}let aF=(()=>{class e{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(en(n=>n instanceof ai),Tr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=$a(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return dt(i).pipe(di())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ve(null);const s=i.pipe(vt(o=>null===o?ve(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?dt([s,this.loader.loadComponent(r)]).pipe(di()):s})}}return e.\u0275fac=function(n){return new(n||e)(pe(tn),pe(Uv),pe($n),pe(ES),pe(nf))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const sf=new fe("");let MS=(()=>{class e{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Vh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ai&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof KC&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new KC(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function im(){throw new Error("invalid")}()},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();var fn=(()=>((fn=fn||{})[fn.COMPLETE=0]="COMPLETE",fn[fn.FAILED=1]="FAILED",fn[fn.REDIRECTING=2]="REDIRECTING",fn))();const ds=!1;function Fr(e,t){return{\u0275kind:e,\u0275providers:t}}const af=new fe("",{providedIn:"root",factory:()=>!1});function IS(){const e=Te(In);return t=>{const n=e.get(Za);if(t!==n.components[0])return;const r=e.get(tn),i=e.get(xS);1===e.get(lf)&&r.initialNavigation(),e.get(RS,null,Se.Optional)?.setUpPreloading(),e.get(sf,null,Se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const xS=new fe(ds?"bootstrap done indicator":"",{factory:()=>new ae}),lf=new fe(ds?"initial navigation":"",{providedIn:"root",factory:()=>1});function hF(){let e=[];return e=ds?[{provide:Sa,multi:!0,useFactory:()=>{const t=Te(tn);return()=>t.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function BP(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],Fr(1,e)}const RS=new fe(ds?"router preloader":"");function fF(e){return Fr(0,[{provide:RS,useExisting:aF},{provide:ES,useExisting:e}])}const Po=!1,TS=new fe(Po?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),pF=[Fd,{provide:bo,useClass:Ph},tn,Io,{provide:Lr,useFactory:function AS(e){return e.routerState.root},deps:[tn]},nf,Po?{provide:af,useValue:!0}:[]];function gF(){return new Yv("Router",tn)}let OS=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[pF,Po&&r?.enableTracing?hF().\u0275providers:[],{provide:us,multi:!0,useValue:n},{provide:TS,useFactory:yF,deps:[[tn,new Os,new ks]]},{provide:ql,useValue:r||{}},r?.useHash?{provide:ti,useClass:gR}:{provide:ti,useClass:yy},{provide:sf,useFactory:()=>{const e=Te(kT),t=Te(nt),n=Te(ql),r=Te(Gl),i=Te(bo);return n.scrollOffset&&e.setOffset(n.scrollOffset),new MS(i,r,e,t,n)}},r?.preloadingStrategy?fF(r.preloadingStrategy).\u0275providers:[],{provide:Yv,multi:!0,useFactory:gF},r?.initialNavigation?CF(r):[],[{provide:kS,useFactory:IS},{provide:Xv,multi:!0,useExisting:kS}]]}}static forChild(n){return{ngModule:e,providers:[{provide:us,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(pe(TS,8))},e.\u0275mod=sn({type:e}),e.\u0275inj=qt({imports:[Xh]}),e})();function yF(e){if(Po&&e)throw new ee(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function CF(e){return["disabled"===e.initialNavigation?Fr(3,[{provide:qa,multi:!0,useFactory:()=>{const t=Te(tn);return()=>{t.setUpLocationChangeListener()}}},{provide:lf,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Fr(2,[{provide:lf,useValue:0},{provide:qa,multi:!0,deps:[In],useFactory:t=>{const n=t.get(fR,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(tn),s=t.get(xS);(function lF(e,t){e.events.pipe(en(n=>n instanceof ai||n instanceof Ll||n instanceof jh||n instanceof Fl),de(n=>n instanceof ai||n instanceof Fl?fn.COMPLETE:n instanceof Ll&&(0===n.code||1===n.code)?fn.REDIRECTING:fn.FAILED),en(n=>n!==fn.REDIRECTING),ii(1)).subscribe(()=>{t()})})(i,()=>{r(!0)}),t.get(Gl).afterPreactivation=()=>(r(!0),s.closed?ve(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const kS=new fe(Po?"Router Initializer":"");var uf,bF=Wt(793),wF=Wt(162),li=[],PS="ResizeObserver loop completed with undelivered notifications.",hs=(()=>{return(e=hs||(hs={})).BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box",hs;var e})(),ci=function(e){return Object.freeze(e)},AF=function e(t,n){this.inlineSize=t,this.blockSize=n,ci(this)},LS=function(){function e(t,n,r,i){return this.x=t,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ci(this)}return e.prototype.toJSON=function(){var t=this;return{x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),cf=function(e){return e instanceof SVGElement&&"getBBox"in e},FS=function(e){if(cf(e)){var t=e.getBBox();return!t.width&&!t.height}return!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},NS=function(e){var t;if(e instanceof Element)return!0;var n=null===(t=e?.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},Lo=typeof window<"u"?window:{},Xl=new WeakMap,BS=/auto|scroll/,xF=/^tb|vertical/,RF=/msie|trident/i.test(Lo.navigator&&Lo.navigator.userAgent),er=function(e){return parseFloat(e||"0")},fs=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new AF((n?t:e)||0,(n?e:t)||0)},HS=ci({devicePixelContentBoxSize:fs(),borderBoxSize:fs(),contentBoxSize:fs(),contentRect:new LS(0,0,0,0)}),VS=function(e,t){if(void 0===t&&(t=!1),Xl.has(e)&&!t)return Xl.get(e);if(FS(e))return Xl.set(e,HS),HS;var n=getComputedStyle(e),r=cf(e)&&e.ownerSVGElement&&e.getBBox(),i=!RF&&"border-box"===n.boxSizing,s=xF.test(n.writingMode||""),o=!r&&BS.test(n.overflowY||""),a=!r&&BS.test(n.overflowX||""),l=r?0:er(n.paddingTop),u=r?0:er(n.paddingRight),_=r?0:er(n.paddingBottom),A=r?0:er(n.paddingLeft),O=r?0:er(n.borderTopWidth),k=r?0:er(n.borderRightWidth),B=r?0:er(n.borderBottomWidth),G=A+u,X=l+_,se=(r?0:er(n.borderLeftWidth))+k,K=O+B,ge=a?e.offsetHeight-K-e.clientHeight:0,Fe=o?e.offsetWidth-se-e.clientWidth:0,it=i?G+se:0,yb=i?X+K:0,ic=r?r.width:er(n.width)-it-Fe,sc=r?r.height:er(n.height)-yb-ge,QN=ic+G+Fe+se,e2=sc+X+ge+K,Cb=ci({devicePixelContentBoxSize:fs(Math.round(ic*devicePixelRatio),Math.round(sc*devicePixelRatio),s),borderBoxSize:fs(QN,e2,s),contentBoxSize:fs(ic,sc,s),contentRect:new LS(A,l,ic,sc)});return Xl.set(e,Cb),Cb},jS=function(e,t,n){var r=VS(e,n),i=r.borderBoxSize,s=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case hs.DEVICE_PIXEL_CONTENT_BOX:return o;case hs.BORDER_BOX:return i;default:return s}},TF=function e(t){var n=VS(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=ci([n.borderBoxSize]),this.contentBoxSize=ci([n.contentBoxSize]),this.devicePixelContentBoxSize=ci([n.devicePixelContentBoxSize])},US=function(e){if(FS(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},OF=function(){var e=1/0,t=[];li.forEach(function(o){if(0!==o.activeTargets.length){var a=[];o.activeTargets.forEach(function(u){var _=new TF(u.target),A=US(u.target);a.push(_),u.lastReportedSize=jS(u.target,u.observedBox),A<e&&(e=A)}),t.push(function(){o.callback.call(o.observer,a,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++)(0,r[n])();return e},$S=function(e){li.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(US(i.target)>e?n.activeTargets.push(i):n.skippedTargets.push(i))})})},zS=[],Yl=0,HF={attributes:!0,characterData:!0,childList:!0,subtree:!0},WS=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],GS=function(e){return void 0===e&&(e=0),Date.now()+e},df=!1,hf=new(function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(void 0===t&&(t=250),!df){df=!0;var r=GS(t);!function(e){!function(e){if(!uf){var t=0,n=document.createTextNode("");new MutationObserver(function(){return zS.splice(0).forEach(function(e){return e()})}).observe(n,{characterData:!0}),uf=function(){n.textContent="".concat(t?t--:t++)}}zS.push(e),uf()}(function(){requestAnimationFrame(e)})}(function(){var i=!1;try{i=function(){var e=0;for($S(e);li.some(function(e){return e.activeTargets.length>0});)e=OF(),$S(e);return li.some(function(e){return e.skippedTargets.length>0})&&function(){var e;"function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:PS}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=PS),window.dispatchEvent(e)}(),e>0}()}finally{if(df=!1,t=r-GS(),!Yl)return;i?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,HF)};document.body?n():Lo.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),WS.forEach(function(n){return Lo.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),WS.forEach(function(n){return Lo.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}()),qS=function(e){!Yl&&e>0&&hf.start(),!(Yl+=e)&&hf.stop()},UF=function(){function e(t,n){this.target=t,this.observedBox=n||hs.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=jS(this.target,this.observedBox,!0);return function(e){return!cf(e)&&!function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)&&"inline"===getComputedStyle(e).display}(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),$F=function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n},Zl=new WeakMap,KS=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Jl=function(){function e(){}return e.connect=function(t,n){var r=new $F(t,n);Zl.set(t,r)},e.observe=function(t,n,r){var i=Zl.get(t),s=0===i.observationTargets.length;KS(i.observationTargets,n)<0&&(s&&li.push(i),i.observationTargets.push(new UF(n,r&&r.box)),qS(1),hf.schedule())},e.unobserve=function(t,n){var r=Zl.get(t),i=KS(r.observationTargets,n);i>=0&&(1===r.observationTargets.length&&li.splice(li.indexOf(r),1),r.observationTargets.splice(i,1),qS(-1))},e.disconnect=function(t){var n=this,r=Zl.get(t);r.observationTargets.slice().forEach(function(i){return n.unobserve(t,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),XS=function(){function e(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Jl.connect(this,t)}return e.prototype.observe=function(t,n){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!NS(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Jl.observe(this,t,n)},e.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!NS(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Jl.unobserve(this,t)},e.prototype.disconnect=function(){Jl.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const zF=["addListener","removeListener"],WF=["addEventListener","removeEventListener"],GF=["on","off"];function ff(e,t,n,r){if(_e(n)&&(r=n,n=void 0),r)return ff(e,t,n).pipe(lh(r));const[i,s]=function XF(e){return _e(e.addEventListener)&&_e(e.removeEventListener)}(e)?WF.map(o=>a=>e[o](t,a,n)):function qF(e){return _e(e.addListener)&&_e(e.removeListener)}(e)?zF.map(YS(e,t)):function KF(e){return _e(e.on)&&_e(e.off)}(e)?GF.map(YS(e,t)):[];if(!i&&oc(e))return vt(o=>ff(o,t,n))(nn(e));if(!i)throw new TypeError("Invalid event target");return new N(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function YS(e,t){return n=>r=>e[n](t,r)}function Fo(e){return z((t,n)=>{nn(e).subscribe(q(n,()=>n.complete(),C)),!n.closed&&t.subscribe(n)})}const ui=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function ZS(e,t,n,r){const i=t.querySelectorAll(e);if(i.length){const s=n.querySelectorAll(e);for(let o=0;o<i.length;o++)r(i[o],s[o])}}let JF=0;function JS(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${JF++}`)}function QS(e,t){const n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch{}}function eb(e,t,n,r){const i={top:e.top,bottom:e.bottom,left:e.left,right:e.right};return t.top&&(i.top+=r),t.bottom&&(i.bottom+=r),t.left&&(i.left+=n),t.right&&(i.right+=n),i.height=i.bottom-i.top,i.width=i.right-i.left,i}const tb=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function nb(e,t){return e.left&&e.top?t.topLeft:e.right&&e.top?t.topRight:e.left&&e.bottom?t.bottomLeft:e.right&&e.bottom?t.bottomRight:e.left||e.right?t.leftOrRight:e.top||e.bottom?t.topOrBottom:""}function Ql({edges:e,initialRectangle:t,newRectangle:n}){const r={};return Object.keys(e).forEach(i=>{r[i]=(n[i]||0)-(t[i]||0)}),r}const rb="resize-active";let ib=(()=>{class e{constructor(n,r,i,s){this.platformId=n,this.renderer=r,this.elm=i,this.zone=s,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=tb,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new Ge,this.resizing=new Ge,this.resizeEnd=new Ge,this.mouseup=new ae,this.mousedown=new ae,this.mousemove=new ae,this.destroy$=new ae,this.pointerEventListeners=ps.getInstance(r,s)}ngOnInit(){const n=Vr(this.pointerEventListeners.pointerDown,this.mousedown),r=Vr(this.pointerEventListeners.pointerMove,this.mousemove).pipe(xt(({event:u})=>{if(s)try{u.preventDefault()}catch{}}),_s()),i=Vr(this.pointerEventListeners.pointerUp,this.mouseup);let s;const o=()=>{s&&s.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},a=()=>Object.assign(Object.assign({},tb),this.resizeCursors);n.pipe(vt(u=>{function _(k){return{clientX:k.clientX-u.clientX,clientY:k.clientY-u.clientY}}const A=()=>{const k={x:1,y:1};return s&&(this.resizeSnapGrid.left&&s.edges.left?k.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&s.edges.right&&(k.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&s.edges.top?k.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&s.edges.bottom&&(k.y=+this.resizeSnapGrid.bottom)),k};function O(k,B){return{x:Math.ceil(k.clientX/B.x),y:Math.ceil(k.clientY/B.y)}}return Vr(r.pipe(ii(1)).pipe(de(k=>[,k])),r.pipe(function YF(){return z((e,t)=>{let n,r=!1;e.subscribe(q(t,i=>{const s=n;n=i,r&&t.next([s,i]),r=!0}))})}())).pipe(de(([k,B])=>[k&&_(k),_(B)])).pipe(en(([k,B])=>{if(!k)return!0;const W=A(),G=O(k,W),X=O(B,W);return G.x!==X.x||G.y!==X.y})).pipe(de(([,k])=>{const B=A();return{clientX:Math.round(k.clientX/B.x)*B.x,clientY:Math.round(k.clientY/B.y)*B.y}})).pipe(Fo(Vr(i,n)))})).pipe(en(()=>!!s)).pipe(de(({clientX:u,clientY:_})=>eb(s.startingRect,s.edges,u,_))).pipe(en(u=>this.allowNegativeResizes||!!(u.height&&u.width&&u.height>0&&u.width>0))).pipe(en(u=>!this.validateResize||this.validateResize({rectangle:u,edges:Ql({edges:s.edges,initialRectangle:s.startingRect,newRectangle:u})})),Fo(this.destroy$)).subscribe(u=>{s&&s.clonedNode&&(this.renderer.setStyle(s.clonedNode,"height",`${u.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${u.width}px`),this.renderer.setStyle(s.clonedNode,"top",`${u.top}px`),this.renderer.setStyle(s.clonedNode,"left",`${u.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:Ql({edges:s.edges,initialRectangle:s.startingRect,newRectangle:u}),rectangle:u})}),s.currentRect=u}),n.pipe(de(({edges:u})=>u||{}),en(u=>Object.keys(u).length>0),Fo(this.destroy$)).subscribe(u=>{s&&o();const _=function QF(e,t){let n=0,r=0;const i=e.nativeElement.style,o=["transform","-ms-transform","-moz-transform","-o-transform"].map(a=>i[a]).find(a=>!!a);if(o&&o.includes("translate")&&(n=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),r=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:e.nativeElement.offsetHeight,width:e.nativeElement.offsetWidth,top:e.nativeElement.offsetTop-r,bottom:e.nativeElement.offsetHeight+e.nativeElement.offsetTop-r,left:e.nativeElement.offsetLeft-n,right:e.nativeElement.offsetWidth+e.nativeElement.offsetLeft-n};{const a=e.nativeElement.getBoundingClientRect();return{height:a.height,width:a.width,top:a.top-r,bottom:a.bottom-r,left:a.left-n,right:a.right-n,scrollTop:e.nativeElement.scrollTop,scrollLeft:e.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);s={edges:u,startingRect:_,currentRect:_};const A=a(),O=nb(s.edges,A);this.renderer.setStyle(document.body,"cursor",O),this.setElementClass(this.elm,rb,!0),this.enableGhostResize&&(s.clonedNode=function ZF(e){const t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),r=e.nodeName.toLowerCase();return t.removeAttribute("id"),n.forEach(i=>{i.removeAttribute("id")}),"canvas"===r?QS(e,t):("input"===r||"select"===r||"textarea"===r)&&JS(e,t),ZS("canvas",e,t,QS),ZS("input, textarea, select",e,t,JS),t}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(s.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(s.clonedNode,"left",`${s.startingRect.left}px`),this.renderer.setStyle(s.clonedNode,"top",`${s.startingRect.top}px`),this.renderer.setStyle(s.clonedNode,"height",`${s.startingRect.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${s.startingRect.width}px`),this.renderer.setStyle(s.clonedNode,"cursor",nb(s.edges,A)),this.renderer.addClass(s.clonedNode,"resize-ghost-element"),s.clonedNode.scrollTop=s.startingRect.scrollTop,s.clonedNode.scrollLeft=s.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:Ql({edges:u,initialRectangle:_,newRectangle:_}),rectangle:eb(_,{},0,0)})})}),i.pipe(Fo(this.destroy$)).subscribe(()=>{s&&(this.renderer.removeClass(this.elm.nativeElement,rb),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:Ql({edges:s.edges,initialRectangle:s.startingRect,newRectangle:s.currentRect}),rectangle:s.currentRect})}),o(),s=null)})}ngOnDestroy(){(function OT(e){return e===Vy})(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(n,r,i){i?this.renderer.addClass(n.nativeElement,r):this.renderer.removeClass(n.nativeElement,r)}}return e.\u0275fac=function(n){return new(n||e)(Y(Xa),Y(vn),Y(Lt),Y(nt))},e.\u0275dir=be({type:e,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),e})();class ps{constructor(t,n){this.pointerDown=new N(r=>{let i,s;return n.runOutsideAngular(()=>{i=t.listen("document","mousedown",o=>{r.next({clientX:o.clientX,clientY:o.clientY,event:o})}),ui&&(s=t.listen("document","touchstart",o=>{r.next({clientX:o.touches[0].clientX,clientY:o.touches[0].clientY,event:o})}))}),()=>{i(),ui&&s()}}).pipe(_s()),this.pointerMove=new N(r=>{let i,s;return n.runOutsideAngular(()=>{i=t.listen("document","mousemove",o=>{r.next({clientX:o.clientX,clientY:o.clientY,event:o})}),ui&&(s=t.listen("document","touchmove",o=>{r.next({clientX:o.targetTouches[0].clientX,clientY:o.targetTouches[0].clientY,event:o})}))}),()=>{i(),ui&&s()}}).pipe(_s()),this.pointerUp=new N(r=>{let i,s,o;return n.runOutsideAngular(()=>{i=t.listen("document","mouseup",a=>{r.next({clientX:a.clientX,clientY:a.clientY,event:a})}),ui&&(s=t.listen("document","touchend",a=>{r.next({clientX:a.changedTouches[0].clientX,clientY:a.changedTouches[0].clientY,event:a})}),o=t.listen("document","touchcancel",a=>{r.next({clientX:a.changedTouches[0].clientX,clientY:a.changedTouches[0].clientY,event:a})}))}),()=>{i(),ui&&(s(),o())}}).pipe(_s())}static getInstance(t,n){return ps.instance||(ps.instance=new ps(t,n)),ps.instance}}let nN=(()=>{class e{constructor(n,r,i,s){this.renderer=n,this.element=r,this.zone=i,this.resizableDirective=s,this.resizeEdges={},this.eventListeners={},this.destroy$=new ae}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(n=>{this.onMousedown(n,n.clientX,n.clientY)}),this.listenOnTheHost("mouseup").subscribe(n=>{this.onMouseup(n.clientX,n.clientY)}),ui&&(this.listenOnTheHost("touchstart").subscribe(n=>{this.onMousedown(n,n.touches[0].clientX,n.touches[0].clientY)}),Vr(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(n=>{this.onMouseup(n.changedTouches[0].clientX,n.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(n,r,i){n.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",s=>{this.onMousemove(s,s.targetTouches[0].clientX,s.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",s=>{this.onMousemove(s,s.clientX,s.clientY)})),this.resizable.mousedown.next({clientX:r,clientY:i,edges:this.resizeEdges})}onMouseup(n,r){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:n,clientY:r,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(n,r,i){this.resizable.mousemove.next({clientX:r,clientY:i,edges:this.resizeEdges,event:n})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(n=>{this.eventListeners[n](),delete this.eventListeners[n]})}listenOnTheHost(n){return ff(this.element.nativeElement,n).pipe(Fo(this.destroy$))}}return e.\u0275fac=function(n){return new(n||e)(Y(vn),Y(Lt),Y(nt),Y(ib,8))},e.\u0275dir=be({type:e,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),e})(),rN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=sn({type:e}),e.\u0275inj=qt({}),e})();const iN=["terminal"],sN=["resizeBox"],ec=function(e){return{"handle-active":e}},oN=function(){return{top:!1}},aN=function(){return{left:!1}},lN=function(){return{right:!0}},cN=function(){return{right:!1}},uN=function(){return{bottom:!0}},dN=function(){return{bottom:!1}};let hN=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Sr({type:e,selectors:[["global-style"]],decls:0,vars:0,template:function(n,r){},styles:[".xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;z-index:10;color:transparent}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:.5}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{-webkit-text-decoration:double underline;text-decoration:double underline}.xterm-underline-3{-webkit-text-decoration:wavy underline;text-decoration:wavy underline}.xterm-underline-4{-webkit-text-decoration:dotted underline;text-decoration:dotted underline}.xterm-underline-5{-webkit-text-decoration:dashed underline;text-decoration:dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-decoration-overview-ruler{z-index:7;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}\n"],encapsulation:2}),e})(),fN=(()=>{class e{constructor(n,r,i){this.renderer=n,this.ref=r,this.hostRef=i,this.keyInputSubject=new ae,this.keyEventSubject=new ae,this.requestRenderFromAPI=new ae,this.allLogsSubject=new ae,this.resizableObservers=[],this.h=Math.max(document.documentElement.clientHeight,window.innerHeight||0),this.paddingSize=5,this.stylesForDiv={display:"block"},this.keyInputEmitter=new Ge,this.keyEventEmitter=new Ge,this._draggableInput=!1,this._stylesInput={},this.releaseNextOne=()=>{if(!this.interval){let s=this.waitingQueue.splice(0,1);1==s.length&&this.allLogsSubject.next(s[0])}},this.waitingQueue=[],this.requestRenderSubscription=this.requestRenderFromAPI.subscribe(s=>{let o=Object.assign({rowChanged:!1,columnChanged:!1},s);this.pushToWaitingQueue(o),this.getNextOrWait()})}set _dataSource(n){null!=this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.dataSource=n,this.dataSourceSubscription=this.dataSource.subscribe(r=>{this.write(r)})}get _dataSource(){return this.dataSource}set draggable(n){this._draggableInput=n}get draggable(){return this._draggableInput}setMinWidth(n){this._minWidthInput=n}setMinHeight(n){this._minHeightInput=n}setDraggable(n){this._draggableInput=n,this.lastDraggedPosition=void 0,this.ref.markForCheck()}setXtermOptions(n){this._xtermOptions=n,this.requestRenderFromAPI.next({})}setRows(n){this._rowsInput!=n&&(this._rowsInput=n,this.requestRenderFromAPI.next({rowChanged:!0}))}setCols(n){this._colsInput!=n&&(this._colsInput=n,this.requestRenderFromAPI.next({columnChanged:!0}))}setStyle(n){var r;JSON.stringify(null!==(r=this._stylesInput)&&void 0!==r?r:{})!=JSON.stringify(n??{})&&(this._stylesInput=n,this.requestRenderFromAPI.next({}))}getNextOrWait(){this.hostRef.nativeElement.isConnected?this.releaseNextOne():this.stopAndPolling()}pushToWaitingQueue(n){this.waitingQueue.push(n),this.releaseNextOne()}stopAndPolling(){(()=>{if(this.interval)return;const r=setInterval(()=>{this.hostRef.nativeElement.isConnected&&(clearInterval(r),this.interval=void 0,this.releaseNextOne())},500);this.interval=r})()}observableSetup(){this.term.onData(n=>{this.keyInputSubject.next(n)}),this.term.onKey(n=>{this.keyEventSubject.next(n)}),this.keyInputSubjectSubscription=this.keyInputSubject.subscribe(n=>{this.keyInputEmitter.emit(n)}),this.keyEventSubjectSubscription=this.keyEventSubject.subscribe(n=>{this.keyEventEmitter.emit(n)}),this.resizableObservers=[this.observeTerminalDimension(),this.observeHostDimension()],this.allLogsSubjectSubscription=this.allLogsSubject.subscribe(n=>{this.coordinateOuterAndTerminal(n),this.getNextOrWait()}),this.getNextOrWait()}setOuterDimensions(n,r,i,s){this.requestRenderFromAPI.next({rowChanged:!1,columnChanged:!1,dragged:{draggedWidth:`${i}px`,draggedHeight:`${s}px`}})}applyStyleToDiv(){Object.keys(this.stylesForDiv).map(n=>({key:n,value:this.stylesForDiv[n]})).forEach(({key:n,value:r})=>{r?this.renderer.setStyle(this.resizeBox.nativeElement,n,r):this.renderer.removeStyle(this.resizeBox.nativeElement,n)}),this.stylesForDiv=this.stylesForDiv}ngOnInit(){}ngAfterViewInit(){this.fitAddon=new wF.FitAddon,this.term=new bF.Terminal({allowProposedApi:!0}),this.terminalOuter.nativeElement.isConnected?(this.term.open(this.terminalOuter.nativeElement),this.term.loadAddon(this.fitAddon),this.observableSetup(),this.requestRenderFromAPI.next({})):this.lazyContainerCheckHandle=setInterval(()=>{if(this.terminalOuter.nativeElement.isConnected)try{console.debug("The container's been connected."),this.term.open(this.terminalOuter.nativeElement),this.term.loadAddon(this.fitAddon),this.observableSetup(),this.requestRenderFromAPI.next({})}finally{this.lazyContainerCheckHandle&&clearInterval(this.lazyContainerCheckHandle)}},500)}ngOnChanges(n){var r,i,s,o;console.group("onChanges"),console.debug("prop: ",n),console.groupEnd(),n?._rowsInput&&(null===(r=n?._rowsInput)||void 0===r?void 0:r.previousValue)!=(null===(i=n?._rowsInput)||void 0===i?void 0:i.currentValue)&&this.requestRenderFromAPI.next({rowChanged:!0}),n?._colsInput&&(null===(s=n?._colsInput)||void 0===s?void 0:s.previousValue)!=(null===(o=n?._colsInput)||void 0===o?void 0:o.currentValue)&&this.requestRenderFromAPI.next({columnChanged:!0})}coordinateOuterAndTerminal(n){var r,i,s,o,a,l;console.debug(`changeList: ${JSON.stringify(n)}`),this.term.options=Object.assign({},this._xtermOptions),!(null===(i=null===(r=this._xtermOptions)||void 0===r?void 0:r.theme)||void 0===i)&&i.background&&(this.resizeHandleStyleRule||(this.resizeHandleStyleRule=this.findCssStyleRule(".resize-handle[")),this.resizeHandleStyleRule&&(this.resizeHandleStyleRule.style.backgroundColor=this._xtermOptions.theme.background)),!(null===(o=null===(s=this._xtermOptions)||void 0===s?void 0:s.theme)||void 0===o)&&o.border&&(this.resizeHandleActiveStyleRule||(this.resizeHandleActiveStyleRule=this.findCssStyleRule(".handle-active")),this.resizeHandleActiveStyleRule&&(this.resizeHandleActiveStyleRule.style.backgroundColor=this._xtermOptions.theme.border)),this.stylesForDiv=Object.assign(Object.assign(Object.assign({},this.stylesForDiv),this._stylesInput),{width:this.stylesForDiv.width,height:this.stylesForDiv.height}),n.dragged?(this.stylesForDiv.width=n.dragged.draggedWidth,this.stylesForDiv.height=n.dragged.draggedHeight,this.lastDraggedPosition={width:n.dragged.draggedWidth,height:n.dragged.draggedHeight}):!this._rowsInput&&!this._colsInput&&!(this.draggable&&this.lastDraggedPosition)&&(this.stylesForDiv.width="100%",this.stylesForDiv.height="100%"),this.applyStyleToDiv(),n.rowChanged||n.columnChanged?this.term.resize(null!==(a=this._colsInput)&&void 0!==a?a:this.term.cols,null!==(l=this._rowsInput)&&void 0!==l?l:this.term.rows):(this.term.element.style.paddingLeft=`${this.paddingSize}px`,this.term.element.style.paddingRight=`${this.paddingSize}px`,this.fitAddon.fit(),this.term.element.style.padding="0px");let u=this.term.element.getElementsByClassName("xterm-screen")[0],_=this.term.element.getElementsByClassName("xterm-viewport")[0];const A=u.clientWidth,O=u.clientHeight,B=this.underlying._core.viewport.scrollBarWidth;this.renderer.setStyle(_,"width",`${A+B}px`),console.debug(A+B+2*this.paddingSize,A,B,2*this.paddingSize),console.debug(O+2*this.paddingSize,O),this.stylesForDiv=Object.assign(Object.assign({},this.stylesForDiv),{width:`${A+B+2*this.paddingSize}px`,height:`${O+2*this.paddingSize}px`}),this.applyStyleToDiv(),this.ref.markForCheck()}observeTerminalDimension(){let n=this.terminalOuter.nativeElement.querySelector(".xterm-viewport");if(n){const r=new XS(i=>{const s=parseFloat(getComputedStyle(this.terminalOuter.nativeElement).width),o=parseFloat(getComputedStyle(this.terminalOuter.nativeElement).height);let a,l;for(let u of i)u.contentBoxSize?u.target instanceof HTMLElement&&(a=parseFloat(getComputedStyle(u.target).width),l=parseFloat(getComputedStyle(u.target).height)):(a=parseFloat(getComputedStyle(u.target).width),l=parseFloat(getComputedStyle(u.target).height));(a>s||l>o)&&this.requestRenderFromAPI.next({whenTerminalDimensionIsOverOuterDiv:{width:`${a}px`,height:`${l}px`}})});return r.observe(n),r}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}observeHostDimension(){let n=this.hostRef.nativeElement;if(n){const r=new XS(i=>{let s,o;for(let a of i)a.contentBoxSize?a.target instanceof HTMLElement&&(s=parseFloat(getComputedStyle(a.target).width),o=parseFloat(getComputedStyle(a.target).height)):(s=parseFloat(getComputedStyle(a.target).width),o=parseFloat(getComputedStyle(a.target).height));this.requestRenderFromAPI.next({hostResized:{width:`${s}px`,height:`${o}px`}})});return r.observe(n),r}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}ngOnDestroy(){this.keyInputSubjectSubscription&&this.keyInputSubjectSubscription.unsubscribe(),this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.keyEventSubjectSubscription&&this.keyEventSubjectSubscription.unsubscribe(),this.requestRenderSubscription&&this.requestRenderSubscription.unsubscribe(),this.allLogsSubjectSubscription&&this.allLogsSubjectSubscription.unsubscribe(),this.interval&&clearInterval(this.interval),this.lazyContainerCheckHandle&&clearInterval(this.lazyContainerCheckHandle),this.term&&this.term.dispose(),this.resizableObservers.forEach(n=>n.disconnect())}write(n){this.term.write(n)}get keyInput(){return this.keyInputSubject}onData(){return this.keyInputSubject}get keyEventInput(){return this.keyEventSubject}onKey(){return this.keyEventSubject}get underlying(){return this.term}get isDraggableOnEdgeActivated(){return this._draggableInput}onResizeEnd(n,r,i,s){this.setOuterDimensions(n,r,i,s)}validatorFactory(){return r=>{var i,s;return!!this._draggableInput&&!(r.rectangle.width<(null!==(i=this._minWidthInput)&&void 0!==i?i:100)||r.rectangle.height<(null!==(s=this._minHeightInput)&&void 0!==s?s:50))}}findCssStyleRule(n){for(let r=0;r<document.styleSheets.length;r++){let i=document.styleSheets.item(r);for(let s=0;s<i.cssRules.length;s++){let o=i.cssRules.item(s);if("selectorText"in o&&o.selectorText.includes(n))return o}}}}return e.\u0275fac=function(n){return new(n||e)(Y(vn),Y(ao),Y(Lt))},e.\u0275cmp=Sr({type:e,selectors:[["ng-terminal"]],viewQuery:function(n,r){if(1&n&&(io(iN,7),io(sN,7)),2&n){let i;Yi(i=Zi())&&(r.terminalOuter=i.first),Yi(i=Zi())&&(r.resizeBox=i.first)}},inputs:{_dataSource:["dataSource","_dataSource"],_rowsInput:["rows","_rowsInput"],_colsInput:["cols","_colsInput"],_minWidthInput:["minWidth","_minWidthInput"],_minHeightInput:["minHeight","_minHeightInput"],draggable:"draggable",_xtermOptions:["xtermOptions","_xtermOptions"]},outputs:{keyInputEmitter:"keyInput",keyEventEmitter:"keyEvent"},features:[ln],decls:9,vars:24,consts:[["mwlResizable","",1,"resize-box",3,"validateResize","enableGhostResize","resizeEnd"],["resizeBox",""],[1,"terminal-outer"],["terminal",""],["mwlResizeHandle","",1,"resize-handle","resize-handle-top",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-left",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-right",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-bottom",3,"ngClass","resizeEdges"]],template:function(n,r){1&n&&(Cn(0,"global-style"),Be(1,"div",0,1),jt("resizeEnd",function(s){return r.onResizeEnd(s.rectangle.left,s.rectangle.top,s.rectangle.width,s.rectangle.height)}),Cn(3,"div",2,3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),Ue()),2&n&&(ze(1),Dt("validateResize",r.validatorFactory())("enableGhostResize",!0),ze(4),Dt("ngClass",to(10,ec,r.isDraggableOnEdgeActivated))("resizeEdges",Qr(12,oN)),ze(1),Dt("ngClass",to(13,ec,r.isDraggableOnEdgeActivated))("resizeEdges",Qr(15,aN)),ze(1),Dt("ngClass",to(16,ec,r.isDraggableOnEdgeActivated))("resizeEdges",r.isDraggableOnEdgeActivated?Qr(18,lN):Qr(19,cN)),ze(1),Dt("ngClass",to(20,ec,r.isDraggableOnEdgeActivated))("resizeEdges",r.isDraggableOnEdgeActivated?Qr(22,uN):Qr(23,dN)))},dependencies:[hN,ib,nN,Ty],styles:[".terminal-outer[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;padding:5px}[_nghost-%COMP%]{display:block;height:100%;width:100%}.resize-box[_ngcontent-%COMP%]{height:100%;width:100%;position:relative}div[_ngcontent-%COMP%] > .handle-active[_ngcontent-%COMP%]{z-index:100;background-color:#85858a!important}.resize-handle[_ngcontent-%COMP%]{background-color:#000}.resize-handle-top.handle-active[_ngcontent-%COMP%], .resize-handle-bottom.handle-active[_ngcontent-%COMP%]{cursor:row-resize}.resize-handle-left.handle-active[_ngcontent-%COMP%], .resize-handle-right.handle-active[_ngcontent-%COMP%]{cursor:col-resize}.resize-handle-top[_ngcontent-%COMP%], .resize-handle-bottom[_ngcontent-%COMP%]{position:absolute;height:5px;width:100%}.resize-handle-top[_ngcontent-%COMP%]{top:0px}.resize-handle-bottom[_ngcontent-%COMP%]{bottom:0px}.resize-handle-left[_ngcontent-%COMP%], .resize-handle-right[_ngcontent-%COMP%]{position:absolute;height:calc(100%);width:5px}.resize-handle-left[_ngcontent-%COMP%]{left:0px;top:0px}.resize-handle-right[_ngcontent-%COMP%]{right:0px;top:0px}"],changeDetection:0}),e})(),pN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=sn({type:e}),e.\u0275inj=qt({imports:[[rN,Hy]]}),e})();const gN=["audioPlayer"],mN=["term"];function _N(e,t){if(1&e&&(Be(0,"div",15),Cn(1,"img",16),Be(2,"h3"),St(3),Ue(),Be(4,"p"),St(5),Ue()()),2&e){const n=t.$implicit;ze(1),Wi("alt",n.name),Dt("src","assets/images/"+n.logo,Kr),ze(2),Xn(n.name),ze(2),Xn(n.description)}}function vN(e,t){if(1&e&&Cn(0,"img",22),2&e){const n=Pa().$implicit;La("alt","",n.title," logo"),Dt("src","assets/images/"+n.image,Kr)}}function yN(e,t){if(1&e&&(Be(0,"span"),St(1),Ue()),2&e){const n=t.$implicit;ze(1),Xn(n)}}function CN(e,t){if(1&e&&(Be(0,"div",17)(1,"a",18),wr(2,vN,1,2,"img",19),Be(3,"h3"),St(4),Ue()(),Be(5,"div",20),wr(6,yN,2,1,"span",21),Ue()()),2&e){const n=t.$implicit;ze(1),Wi("href",n.link,Kr),ze(1),Dt("ngIf",n.image),ze(2),Xn(n.title),ze(2),Dt("ngForOf",n.keywords)}}function SN(e,t){if(1&e&&(Be(0,"div",23)(1,"a",18),Cn(2,"img",24),Be(3,"h3"),St(4),Ue(),Be(5,"p"),St(6),Ue()()()),2&e){const n=t.$implicit;ze(1),Wi("href",n.link,Kr),ze(1),Wi("alt",n.title),Dt("src","assets/images/"+n.image,Kr),ze(2),Xn(n.title),ze(2),Xn(n.description)}}let bN=(()=>{class e{constructor(n){this.route=n,this.isUserInteraction=!1,this.skills=[{name:"HTML & CSS",description:"Semantic HTML markup and modern CSS techniques for responsive design.",logo:"html.png"},{name:"JavaScript",description:"ES6 and modern JavaScript features, including promises, async/await, etc.",logo:"javascript.png"},{name:"TypeScript",description:"Building robust, scalable applications using TypeScript language.",logo:"typescript.png"},{name:"React",description:"Creating fast, interactive UIs using the React library and its ecosystem.",logo:"react.svg"},{name:"Angular",description:"Building dynamic, scalable web applications using Angular framework.",logo:"angular.png"},{name:"Node.js",description:"Building server-side applications and APIs using Node.js runtime environment.",logo:"node.png"},{name:"MySQL",description:"Designing and managing databases using MySQL, including complex queries and optimization.",logo:"mysql.png"},{name:"MongoDB",description:"Working with NoSQL databases using MongoDB, including data modeling and querying.",logo:"mongodb.png"},{name:"Git",description:"Managing source code using Git version control system.",logo:"git.png"},{name:"Ubuntu",description:"Experienced with the Ubuntu operating system, including command line tools, system administration, and scripting.",logo:"ubuntu.png"},{name:"AWS",description:"Proficient in deploying and managing applications on AWS cloud platform.",logo:"aws.webp"}],this.packages=[{title:"Express JS",description:"Most award .",image:"express.png",keywords:["npm","module","tool"],link:"https://expressjs.com/"},{title:"JSON Web Token",description:"Another description of your package.",image:"jwt.webp",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/jsonwebtoken"},{title:"Sequelize",description:"Another description of your package.",image:"sequelize.svg",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/sequelize"},{title:"Socket IO",description:"Another description of your package.",image:"socketio.webp",keywords:["npm","module","tool"],link:"https://socket.io/"},{title:"Validator",description:"Another description of your package.",image:"validator.png",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/validator"},{title:"Joi",description:"Another description of your package.",image:"joi.png",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/validator"},{title:"Date-fns",description:"Another description of your package.",image:"date-fns.png",keywords:["npm","module","tool"],link:"https://date-fns.org/"},{title:"Momentjs",description:"Another description of your package.",image:"momentjs.png",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/moment"},{title:"bcrypt",description:"Another description of your package.",image:"bycrypt.png",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/bcrypt"},{title:"uuid",description:"Another description of your package.",image:"uuid.png",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/uuid"},{title:"Winston",description:"Another description of your package.",image:"",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/winston"},{title:"Eslint",description:"Another description of your package.",image:"",keywords:["npm","module","tool"],link:"https://eslint.org/"},{title:"dotenv",description:"Another description of your package.",image:"",keywords:["npm","module","tool"],link:"https://eslint.org/"},{title:"chalk",description:"Another description of your package.",image:"",keywords:["npm","module","tool"],link:"https://eslint.org/"},{title:"@aws-sdk",description:"Another description of your package.",image:"",keywords:["npm","module","tool"],link:"https://eslint.org/"},{title:"axios",description:"Another description of your package.",image:"",keywords:["npm","module","tool"],link:"https://eslint.org/"},{title:"mongoose",description:"Another description of your package.",image:"",keywords:["npm","module","tool"],link:"https://eslint.org/"},{title:"Nodemon",description:"A description of your package.",image:"nodemon.png",keywords:["npm","package","utility"],link:"https://www.npmjs.com/package/package1"},{title:"Concurrently",description:"Another description of your package.",image:"concurrently.gif",keywords:["npm","module","tool"],link:"https://www.npmjs.com/package/concurrently"},{title:"Husky",description:"To write git hooks, such as precomit to check message and mismatch of environment files.",image:"husky.png",keywords:["npm","module","tool"],link:"https://typicode.github.io/husky/"}],this.projects=[{title:"GVTkart",description:"A description of your project.",image:"gvtkart.webp",link:"https://play.google.com/store/apps/details?id=com.gvtkart.gvt_kart"},{title:"Subween ",description:"Another description of your project.",image:"subween.png",link:"https://subween.com/"},{title:"Approx Object",description:"Another description of your project.",image:"npm.png",link:"https://www.npmjs.com/package/aproxobject"},{title:"Food Booking App",description:"Food Booking App",image:"food_booking.jpeg",link:"food.subween.com"}],this.prompt="\n\n\n\n\n  \n\n\n\n\n\nHello, I'm Manoj Mulakala, Journeying through the world of web development, I've discovered a powerful alliance in Express and MySQL, tackling challenges and creating impactful solutions. Angular isn't just another framework to me; it's a reliable companion that enables me to craft interactive and user-friendly web experiences. As a MEAN stack aficionado, I'm here to turn ideas into digital realities."}scrollToPortfolio(){}playSound(){this.isUserInteraction=!0,this.audioPlayerRef.nativeElement.play()}ngAfterViewInit(){let n=0;setInterval(()=>{n<this.prompt.length&&(this.child.write(this.prompt[n]),n++,this.playSound())},20),this.child.onData().subscribe(r=>{console.log(r)})}}return e.\u0275fac=function(n){return new(n||e)(Y(Lr))},e.\u0275cmp=Sr({type:e,selectors:[["app-home"]],viewQuery:function(n,r){if(1&n&&(io(gN,5),io(mN,5)),2&n){let i;Yi(i=Zi())&&(r.audioPlayerRef=i.first),Yi(i=Zi())&&(r.child=i.first)}},decls:24,vars:3,consts:[["id","terminal"],["audioPlayer",""],["src","/assets/sound/mech-count.mp3","type","audio/mpeg"],["term",""],[1,"button-group"],["routerLink","/blogs-list",1,"terminal-button"],[1,"skills"],[1,"skills-content"],["class","skill-card",4,"ngFor","ngForOf"],[1,"npm"],[1,"packages"],["class","package-card",4,"ngFor","ngForOf"],[1,"portfolio"],[1,"projects"],["class","project-card",4,"ngFor","ngForOf"],[1,"skill-card"],[1,"skill-logo",3,"src","alt"],[1,"package-card"],["target","_blank",3,"href"],["class","package-logo",3,"src","alt",4,"ngIf"],[1,"keywords"],[4,"ngFor","ngForOf"],[1,"package-logo",3,"src","alt"],[1,"project-card"],[1,"project-image",3,"src","alt"]],template:function(n,r){1&n&&(Be(0,"div",0)(1,"audio",null,1),Cn(3,"source",2),Ue(),Cn(4,"ng-terminal",null,3),Be(6,"div",4)(7,"button",5),St(8,"Blogs"),Ue()()(),Be(9,"section",6)(10,"h2"),St(11,"Skills"),Ue(),Be(12,"div",7),wr(13,_N,6,4,"div",8),Ue()(),Be(14,"section",9)(15,"h2"),St(16,"NPM Packages I've Used"),Ue(),Be(17,"div",10),wr(18,CN,7,4,"div",11),Ue()(),Be(19,"section",12)(20,"h2"),St(21,"Portfolio"),Ue(),Be(22,"div",13),wr(23,SN,7,5,"div",14),Ue()()),2&n&&(ze(13),Dt("ngForOf",r.skills),ze(5),Dt("ngForOf",r.packages),ze(5),Dt("ngForOf",r.projects))},dependencies:[qd,Ly,Kl,fN],styles:['.hero[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#333;color:#fff;text-align:center}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:.5em}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5em;margin-bottom:1em}.cta-button[_ngcontent-%COMP%]{font-size:1.2em;padding:10px 20px;margin:1rem;border:none;color:#fff;background-color:#007bff;cursor:pointer;transition:background-color .3s ease,transform .3s ease;position:relative;overflow:hidden}.cta-button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05)}.cta-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff1a;z-index:1;transition:transform .3s ease;transform:scaleX(0);transform-origin:left}.cta-button[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.cta-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.about-me[_ngcontent-%COMP%]{padding:5rem;color:#333;background-color:#fff}.about-me[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px;text-align:center}.about-content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;flex-wrap:wrap}.profile-pic[_ngcontent-%COMP%]{border-radius:50%;width:200px;height:200px;object-fit:cover;margin:20px}.about-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;line-height:1.6}@media (max-width: 768px){.about-content[_ngcontent-%COMP%]{flex-direction:column}}.skills[_ngcontent-%COMP%]{padding:50px 0;background-color:#f9f9f9;color:#333}.skills[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px;text-align:center}.skills-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}.skill-card[_ngcontent-%COMP%]{flex-basis:200px;margin:20px;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;text-align:center}.skill-logo[_ngcontent-%COMP%]{height:50px;margin-bottom:10px}@media (max-width: 768px){.skills-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}.portfolio[_ngcontent-%COMP%]{padding:50px 0;background-color:#f9f9f9;color:#333}.portfolio[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px;text-align:center}.projects[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}.project-card[_ngcontent-%COMP%]{flex-basis:300px;margin:20px;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;text-align:center}.project-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}.project-image[_ngcontent-%COMP%]{border-radius:5px;width:100%;height:auto;object-fit:cover;margin-bottom:10px}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}.npm[_ngcontent-%COMP%]{padding:50px 0;background-color:#f9f9f9;color:#333}.npm[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px;text-align:center}.packages[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}.package-card[_ngcontent-%COMP%]{flex-basis:300px;margin:20px;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;text-align:center}.package-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}.keywords[_ngcontent-%COMP%]{margin-top:10px}.keywords[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin-right:5px;padding:5px 10px;border-radius:20px;background-color:#333;color:#fff;font-size:.8em}.package-logo[_ngcontent-%COMP%]{display:block;margin:0 auto 10px;max-width:40%;height:auto}#terminal[_ngcontent-%COMP%]{border:2px solid #0f0;border-radius:10px;padding:20px;background-color:#333;box-shadow:0 0 10px #00ff004d}.terminal-button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;background-color:#f2e8dc;border:2px outset #e6d7c2;color:#383838;font-size:14px;font-weight:700;text-transform:uppercase;border-radius:4px;cursor:pointer;margin-right:10px;text-decoration:none}.terminal-button[_ngcontent-%COMP%]:hover{background-color:#e6d7c2}.terminal-button[_ngcontent-%COMP%]:active{border:2px inset #e6d7c2;background-color:#c1b6a2}.skills[_ngcontent-%COMP%]{text-align:center;padding:20px}.skills[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px}.skills-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px}.skill-card[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:8px;padding:20px;width:200px;box-shadow:0 4px 8px #0003;transition:.3s}.skill-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003;transform:translateY(-10px)}.skill-logo[_ngcontent-%COMP%]{width:50px;height:auto}.skill-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:10px 0}.skill-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;color:#333}.npm[_ngcontent-%COMP%]{text-align:center;padding:20px}.npm[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px}.packages[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;overflow-y:auto;max-height:500px}.package-card[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:8px;padding:20px;width:200px;box-shadow:0 4px 8px #0003;transition:.3s}.package-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003;transform:translateY(-10px)}.package-logo[_ngcontent-%COMP%]{width:50px;height:auto}.package-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:10px 0}.package-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;color:#333}.keywords[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;margin-top:10px}.keywords[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:2px 5px;border-radius:4px;font-size:.8em}.portfolio[_ngcontent-%COMP%]{text-align:center;padding:20px}.portfolio[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px}.projects[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px}.project-card[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:8px;padding:20px;width:300px;box-shadow:0 4px 8px #0003;transition:.5s all ease-in-out;overflow:hidden;position:relative;perspective:1000px}.project-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-110%;left:-210%;width:200%;height:200%;background-color:#007bff26;transform:rotate(45deg);transition:.5s all ease-in-out}.project-card[_ngcontent-%COMP%]:hover:before{top:-30%;left:-30%}.project-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003;transform:scale(1.05) rotateX(10deg) rotateY(10deg)}.project-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.project-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:10px 0}.project-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;color:#333}']}),e})();function wN(e,t){if(1&e){const n=qu();Be(0,"div",2)(1,"h2"),St(2),Ue(),Be(3,"div",3)(4,"p"),St(5),Ue(),Be(6,"a",4),jt("click",function(){const s=Dc(n).$implicit;return Ec(Pa().navigateToPost(s.id,"programming"))}),St(7,"Read more"),Ue()()()}if(2&e){const n=t.$implicit;ze(2),Xn(n.title),ze(3),Xs("",n.content.substring(0,100),"...")}}function DN(e,t){if(1&e){const n=qu();Be(0,"div",2)(1,"h2"),St(2),Ue(),Be(3,"div",3)(4,"p"),St(5),Ue(),Be(6,"a",4),jt("click",function(){const s=Dc(n).$implicit;return Ec(Pa().navigateToPost(s.id,"programming"))}),St(7,"Read more"),Ue()()()}if(2&e){const n=t.$implicit;ze(2),Xn(n.title),ze(3),Xs("",n.content.substring(0,100),"...")}}let EN=(()=>{class e{constructor(n){this.router=n,this.postsPersonal=[{id:"schoolAhead",content:"",title:"School Ahead of its time.",date:new Date(2022,4,15)}],this.postsProgramming=[{id:"whyMathInProgramming",content:"",title:"Mathematics for programmers",date:new Date(2022,4,15)},{id:"ERPApplication",content:"",title:"What makes application an ERP",date:new Date(2022,5,1)},{id:"resourceOfSelfLearning",content:"",title:"Resources for Self Learning",date:new Date(2022,5,1)},{id:"areNewsLettersRelevant",content:"",title:"Are Newsletters still relevant?",date:new Date(2022,5,1)},{id:"isEuntrprunershipForEveryOne",content:"",title:"Is euntrprunership for everyone?",date:new Date(2022,5,1)},{id:"sequelizeOptionalParameters",content:"",title:"Optional Parameters in Sequelize",date:new Date(2022,5,1)},{id:"affectOfAIOnDevelopment",content:"",title:"How Developer role is going to change with AI?",date:new Date(2022,5,1)}]}navigateToPost(n,r){this.router.navigate(["/read-blog",n,r])}}return e.\u0275fac=function(n){return new(n||e)(Y(tn))},e.\u0275cmp=Sr({type:e,selectors:[["app-blog"]],decls:8,vars:2,consts:[[1,"blog-list"],["class","blog-item",4,"ngFor","ngForOf"],[1,"blog-item"],[1,"post"],[1,"read-more",3,"click"]],template:function(n,r){1&n&&(Be(0,"div",0)(1,"h1"),St(2,"Programming"),Ue(),wr(3,wN,8,2,"div",1),Ue(),Be(4,"div",0)(5,"h1"),St(6,"Personal"),Ue(),wr(7,DN,8,2,"div",1),Ue()),2&n&&(ze(3),Dt("ngForOf",r.postsProgramming),ze(4),Dt("ngForOf",r.postsPersonal))},dependencies:[qd],styles:[".blog-list[_ngcontent-%COMP%]{width:80%;margin:auto;padding:20px;font-family:Arial,sans-serif;background:#f5f5f5;border-radius:10px;box-shadow:0 0 10px #0000001a}.blog-list[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#333;transition:color .5s}.blog-list[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:hover{color:#888}.blog-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;margin:20px 0;padding:20px;border-radius:5px;transition:all .3s ease-in-out;box-shadow:0 0 10px #0000001a}.blog-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.blog-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin:0 0 10px}.post[_ngcontent-%COMP%]{font-size:14px;color:#666;transition:color .5s}.blog-item[_ngcontent-%COMP%]:hover   .post[_ngcontent-%COMP%]{color:#999}.read-more[_ngcontent-%COMP%]{display:inline-block;margin-top:10px;text-decoration:none;color:#666;border:1px solid #666;padding:5px 10px;border-radius:5px;transition:all .3s ease-in-out}.read-more[_ngcontent-%COMP%]:hover{background:#666;color:#fff}"]}),e})();class tc{}class pf{}class yr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=n.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(n,s)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof yr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new yr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof yr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=t.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class MN{encodeKey(t){return sb(t)}encodeValue(t){return sb(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const IN=/%(\d[a-f0-9])/gi,xN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function sb(e){return encodeURIComponent(e).replace(IN,(t,n)=>xN[n]??t)}function nc(e){return`${e}`}class Nr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new MN,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function AN(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(nc):[nc(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Nr({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(nc(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(nc(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class RN{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function ob(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function ab(e){return typeof Blob<"u"&&e instanceof Blob}function lb(e){return typeof FormData<"u"&&e instanceof FormData}class No{constructor(t,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function TN(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new yr),this.context||(this.context=new RN),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Nr,this.urlWithParams=n}serializeBody(){return null===this.body?null:ob(this.body)||ab(this.body)||lb(this.body)||function ON(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Nr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lb(this.body)?null:ab(this.body)?this.body.type||null:ob(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Nr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,u=t.params||this.params;const _=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((A,O)=>A.set(O,t.setHeaders[O]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((A,O)=>A.set(O,t.setParams[O]),u)),new No(n,r,s,{params:u,headers:l,context:_,reportProgress:a,responseType:i,withCredentials:o})}}var pt=(()=>((pt=pt||{})[pt.Sent=0]="Sent",pt[pt.UploadProgress=1]="UploadProgress",pt[pt.ResponseHeader=2]="ResponseHeader",pt[pt.DownloadProgress=3]="DownloadProgress",pt[pt.Response=4]="Response",pt[pt.User=5]="User",pt))();class gf{constructor(t,n=200,r="OK"){this.headers=t.headers||new yr,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class mf extends gf{constructor(t={}){super(t),this.type=pt.ResponseHeader}clone(t={}){return new mf({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class rc extends gf{constructor(t={}){super(t),this.type=pt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new rc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class cb extends gf{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function _f(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let ub=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof No)s=n;else{let l,u;l=i.headers instanceof yr?i.headers:new yr(i.headers),i.params&&(u=i.params instanceof Nr?i.params:new Nr({fromObject:i.params})),s=new No(n,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=ve(s).pipe(Tr(l=>this.handler.handle(l)));if(n instanceof No||"events"===i.observe)return o;const a=o.pipe(en(l=>l instanceof rc));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(de(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(de(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(de(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(de(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Nr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,_f(i,r))}post(n,r,i={}){return this.request("POST",n,_f(i,r))}put(n,r,i={}){return this.request("PUT",n,_f(i,r))}}return e.\u0275fac=function(n){return new(n||e)(pe(tc))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();function db(e,t){return t(e)}function kN(e,t){return(n,r)=>t.intercept(n,{handle:i=>e(i,r)})}const LN=new fe("HTTP_INTERCEPTORS"),Bo=new fe("HTTP_INTERCEPTOR_FNS");function FN(){let e=null;return(t,n)=>(null===e&&(e=(Te(LN,{optional:!0})??[]).reduceRight(kN,db)),e(t,n))}let hb=(()=>{class e extends tc{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Bo)));this.chain=r.reduceRight((i,s)=>function PN(e,t,n){return(r,i)=>n.runInContext(()=>t(r,s=>e(s,i)))}(i,s,this.injector),db)}return this.chain(n,r=>this.backend.handle(r))}}return e.\u0275fac=function(n){return new(n||e)(pe(pf),pe($n))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();const VN=/^\)\]\}',?\n/;let pb=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new N(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((k,B)=>i.setRequestHeader(k,B.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const k=n.detectContentTypeHeader();null!==k&&i.setRequestHeader("Content-Type",k)}if(n.responseType){const k=n.responseType.toLowerCase();i.responseType="json"!==k?k:"text"}const s=n.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const k=i.statusText||"OK",B=new yr(i.getAllResponseHeaders()),W=function jN(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return o=new mf({headers:B,status:i.status,statusText:k,url:W}),o},l=()=>{let{headers:k,status:B,statusText:W,url:G}=a(),X=null;204!==B&&(X=typeof i.response>"u"?i.responseText:i.response),0===B&&(B=X?200:0);let se=B>=200&&B<300;if("json"===n.responseType&&"string"==typeof X){const K=X;X=X.replace(VN,"");try{X=""!==X?JSON.parse(X):null}catch(ge){X=K,se&&(se=!1,X={error:ge,text:X})}}se?(r.next(new rc({body:X,headers:k,status:B,statusText:W,url:G||void 0})),r.complete()):r.error(new cb({error:X,headers:k,status:B,statusText:W,url:G||void 0}))},u=k=>{const{url:B}=a(),W=new cb({error:k,status:i.status||0,statusText:i.statusText||"Unknown Error",url:B||void 0});r.error(W)};let _=!1;const A=k=>{_||(r.next(a()),_=!0);let B={type:pt.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(B.total=k.total),"text"===n.responseType&&i.responseText&&(B.partialText=i.responseText),r.next(B)},O=k=>{let B={type:pt.UploadProgress,loaded:k.loaded};k.lengthComputable&&(B.total=k.total),r.next(B)};return i.addEventListener("load",l),i.addEventListener("error",u),i.addEventListener("timeout",u),i.addEventListener("abort",u),n.reportProgress&&(i.addEventListener("progress",A),null!==s&&i.upload&&i.upload.addEventListener("progress",O)),i.send(s),r.next({type:pt.Sent}),()=>{i.removeEventListener("error",u),i.removeEventListener("abort",u),i.removeEventListener("load",l),i.removeEventListener("timeout",u),n.reportProgress&&(i.removeEventListener("progress",A),null!==s&&i.upload&&i.upload.removeEventListener("progress",O)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(n){return new(n||e)(pe(Uy))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();const vf=new fe("XSRF_ENABLED"),gb=new fe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),mb=new fe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class _b{}let zN=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=xy(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(pe(It),pe(Xa),pe(gb))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),e})();function WN(e,t){const n=e.url.toLowerCase();if(!Te(vf)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=Te(_b).getToken(),i=Te(mb);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var ut=(()=>((ut=ut||{})[ut.Interceptors=0]="Interceptors",ut[ut.LegacyInterceptors=1]="LegacyInterceptors",ut[ut.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ut[ut.NoXsrfProtection=3]="NoXsrfProtection",ut[ut.JsonpSupport=4]="JsonpSupport",ut[ut.RequestsMadeViaParent=5]="RequestsMadeViaParent",ut))();function gs(e,t){return{\u0275kind:e,\u0275providers:t}}function GN(...e){const t=[ub,pb,hb,{provide:tc,useExisting:hb},{provide:pf,useExisting:pb},{provide:Bo,useValue:WN,multi:!0},{provide:vf,useValue:!0},{provide:_b,useClass:zN}];for(const n of e)t.push(...n.\u0275providers);return function IE(e){return{\u0275providers:e}}(t)}const vb=new fe("LEGACY_INTERCEPTOR_FN");let KN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=sn({type:e}),e.\u0275inj=qt({providers:[GN(gs(ut.LegacyInterceptors,[{provide:vb,useFactory:FN},{provide:Bo,useExisting:vb,multi:!0}]))]}),e})();const XN=[{path:"",component:bN},{path:"blogs-list",component:EN},{path:"read-blog/:id/:category",component:(()=>{class e{constructor(n,r,i){this.route=n,this.http=r,this.sanitizer=i}ngOnInit(){this.postId=this.route.snapshot.paramMap.get("id"),this.category=this.route.snapshot.paramMap.get("category"),this.http.get(`assets/blogs/${this.category}/${this.postId}.html`,{responseType:"text"}).subscribe(n=>{this.content=this.sanitizer.bypassSecurityTrustHtml(n)})}}return e.\u0275fac=function(n){return new(n||e)(Y(Lr),Y(ub),Y(p0))},e.\u0275cmp=Sr({type:e,selectors:[["app-read-blog"]],decls:2,vars:1,consts:[[1,"blog-container"],[3,"innerHTML"]],template:function(n,r){1&n&&(Be(0,"div",0),Cn(1,"div",1),Ue()),2&n&&(ze(1),Dt("innerHTML",r.content,Eg))},styles:[".blog-container[_ngcontent-%COMP%]{max-width:40em;margin:0 auto;padding:5px;font-family:Georgia,serif;font-size:20px;line-height:30px;background-color:#fff;color:#000;text-align:justify}@media only screen and (max-width: 768px){.blog-container[_ngcontent-%COMP%]{max-width:100%;font-size:18px;line-height:26px}}@media only screen and (max-width: 480px){.blog-container[_ngcontent-%COMP%]{max-width:100%;font-size:16px;line-height:22px}}"]}),e})()}];let YN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=sn({type:e}),e.\u0275inj=qt({imports:[OS.forRoot(XN),OS]}),e})(),ZN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Sr({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Cn(0,"router-outlet")},dependencies:[Kh]}),e})(),JN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=sn({type:e,bootstrap:[ZN]}),e.\u0275inj=qt({imports:[RO,Kk,YN,KN,pN]}),e})();xO().bootstrapModule(JN).catch(e=>console.error(e))},162:Br=>{self,Br.exports=(()=>{"use strict";var Wt,tr={};return Wt=tr,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.FitAddon=void 0,Wt.FitAddon=class{constructor(){}activate(_e){this._terminal=_e}dispose(){}fit(){const _e=this.proposeDimensions();_e&&this._terminal&&!isNaN(_e.cols)&&!isNaN(_e.rows)&&(this._terminal.rows===_e.rows&&this._terminal.cols===_e.cols||(this._terminal._core._renderService.clear(),this._terminal.resize(_e.cols,_e.rows)))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const _e=this._terminal._core,Gt=_e._renderService.dimensions;if(0===Gt.css.cell.width||0===Gt.css.cell.height)return;const Q=0===this._terminal.options.scrollback?0:_e.viewport.scrollBarWidth,h=window.getComputedStyle(this._terminal.element.parentElement),v=parseInt(h.getPropertyValue("height")),y=Math.max(0,parseInt(h.getPropertyValue("width"))),E=window.getComputedStyle(this._terminal.element),b=v-(parseInt(E.getPropertyValue("padding-top"))+parseInt(E.getPropertyValue("padding-bottom"))),w=y-(parseInt(E.getPropertyValue("padding-right"))+parseInt(E.getPropertyValue("padding-left")))-Q;return{cols:Math.max(2,Math.floor(w/Gt.css.cell.width)),rows:Math.max(1,Math.floor(b/Gt.css.cell.height))}}},tr})()},793:Br=>{self,Br.exports=(()=>{"use strict";var tr={4567:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.AccessibilityManager=void 0;const y=v(9042),E=v(6114),b=v(9924),w=v(3656),I=v(844),M=v(5596),C=v(9631);h.AccessibilityManager=class c extends I.Disposable{constructor(g,d){super(),this._terminal=g,this._renderService=d,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityTreeRoot=document.createElement("div"),this._accessibilityTreeRoot.classList.add("xterm-accessibility"),this._accessibilityTreeRoot.tabIndex=0,this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let p=0;p<this._terminal.rows;p++)this._rowElements[p]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[p]);if(this._topBoundaryFocusListener=p=>this._handleBoundaryFocus(p,0),this._bottomBoundaryFocusListener=p=>this._handleBoundaryFocus(p,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityTreeRoot.appendChild(this._rowContainer),this._renderRowsDebouncer=new b.TimeBasedDebouncer(this._renderRows.bind(this)),this._refreshRows(),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityTreeRoot.appendChild(this._liveRegion),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityTreeRoot),this.register(this._renderRowsDebouncer),this.register(this._terminal.onResize(p=>this._handleResize(p.rows))),this.register(this._terminal.onRender(p=>this._refreshRows(p.start,p.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(p=>this._handleChar(p))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab(p=>this._handleTab(p))),this.register(this._terminal.onKey(p=>this._handleKey(p.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new M.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,w.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this.register((0,I.toDisposable)(()=>{(0,C.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0}))}_handleBoundaryFocus(g,d){const p=g.target,S=this._rowElements[0===d?1:this._rowElements.length-2];if(p.getAttribute("aria-posinset")===(0===d?"1":`${this._terminal.buffer.lines.length}`)||g.relatedTarget!==S)return;let D,T;if(0===d?(D=p,T=this._rowElements.pop(),this._rowContainer.removeChild(T)):(D=this._rowElements.shift(),T=p,this._rowContainer.removeChild(D)),D.removeEventListener("focus",this._topBoundaryFocusListener),T.removeEventListener("focus",this._bottomBoundaryFocusListener),0===d){const m=this._createAccessibilityTreeNode();this._rowElements.unshift(m),this._rowContainer.insertAdjacentElement("afterbegin",m)}else{const m=this._createAccessibilityTreeNode();this._rowElements.push(m),this._rowContainer.appendChild(m)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===d?-1:1),this._rowElements[0===d?1:this._rowElements.length-2].focus(),g.preventDefault(),g.stopImmediatePropagation()}_handleResize(g){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let d=this._rowContainer.children.length;d<this._terminal.rows;d++)this._rowElements[d]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[d]);for(;this._rowElements.length>g;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const g=document.createElement("div");return g.setAttribute("role","listitem"),g.tabIndex=-1,this._refreshRowDimensions(g),g}_handleTab(g){for(let d=0;d<g;d++)this._handleChar(" ")}_handleChar(g){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==g&&(this._charsToAnnounce+=g):this._charsToAnnounce+=g,"\n"===g&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=y.tooMuchOutput)),E.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityTreeRoot.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,E.isMac&&(0,C.removeElementFromParent)(this._liveRegion)}_handleKey(g){this._clearLiveRegion(),/\p{Control}/u.test(g)||this._charsToConsume.push(g)}_refreshRows(g,d){this._renderRowsDebouncer.refresh(g,d,this._terminal.rows)}_renderRows(g,d){const p=this._terminal.buffer,S=p.lines.length.toString();for(let D=g;D<=d;D++){const T=p.translateBufferLineToString(p.ydisp+D,!0),m=(p.ydisp+D+1).toString(),x=this._rowElements[D];x&&(0===T.length?x.innerText="\xa0":x.textContent=T,x.setAttribute("aria-posinset",m),x.setAttribute("aria-setsize",S))}this._announceCharacters()}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityTreeRoot.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let g=0;g<this._terminal.rows;g++)this._refreshRowDimensions(this._rowElements[g])}}_refreshRowDimensions(g){g.style.height=`${this._renderService.dimensions.css.cell.height}px`}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}}},3614:(Q,h)=>{function v(w){return w.replace(/\r?\n/g,"\r")}function y(w,I){return I?"\x1b[200~"+w+"\x1b[201~":w}function E(w,I,M){w=y(w=v(w),M.decPrivateModes.bracketedPasteMode),M.triggerDataEvent(w,!0),I.value=""}function b(w,I,M){const C=M.getBoundingClientRect(),c=w.clientX-C.left-10,f=w.clientY-C.top-10;I.style.width="20px",I.style.height="20px",I.style.left=`${c}px`,I.style.top=`${f}px`,I.style.zIndex="1000",I.focus()}Object.defineProperty(h,"__esModule",{value:!0}),h.rightClickHandler=h.moveTextAreaUnderMouseCursor=h.paste=h.handlePasteEvent=h.copyHandler=h.bracketTextForPaste=h.prepareTextForTerminal=void 0,h.prepareTextForTerminal=v,h.bracketTextForPaste=y,h.copyHandler=function(w,I){w.clipboardData&&w.clipboardData.setData("text/plain",I.selectionText),w.preventDefault()},h.handlePasteEvent=function(w,I,M){w.stopPropagation(),w.clipboardData&&E(w.clipboardData.getData("text/plain"),I,M)},h.paste=E,h.moveTextAreaUnderMouseCursor=b,h.rightClickHandler=function(w,I,M,C,c){b(w,I,M),c&&C.rightClickSelect(w),I.value=C.selectionText,I.select()}},7239:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ColorContrastCache=void 0;const y=v(1505);h.ColorContrastCache=class{constructor(){this._color=new y.TwoKeyMap,this._css=new y.TwoKeyMap}setCss(E,b,w){this._css.set(E,b,w)}getCss(E,b){return this._css.get(E,b)}setColor(E,b,w){this._color.set(E,b,w)}getColor(E,b){return this._color.get(E,b)}clear(){this._color.clear(),this._css.clear()}}},9631:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.removeElementFromParent=void 0,h.removeElementFromParent=function(...v){var y;for(const E of v)null===(y=E?.parentElement)||void 0===y||y.removeChild(E)}},3656:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.addDisposableDomListener=void 0,h.addDisposableDomListener=function(v,y,E,b){v.addEventListener(y,E,b);let w=!1;return{dispose:()=>{w||(w=!0,v.removeEventListener(y,E,b))}}}},6465:function(Q,h,v){var y=this&&this.__decorate||function(c,f,g,d){var p,S=arguments.length,D=S<3?f:null===d?d=Object.getOwnPropertyDescriptor(f,g):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(c,f,g,d);else for(var T=c.length-1;T>=0;T--)(p=c[T])&&(D=(S<3?p(D):S>3?p(f,g,D):p(f,g))||D);return S>3&&D&&Object.defineProperty(f,g,D),D},E=this&&this.__param||function(c,f){return function(g,d){f(g,d,c)}};Object.defineProperty(h,"__esModule",{value:!0}),h.Linkifier2=void 0;const b=v(2585),w=v(8460),I=v(844),M=v(3656);let C=class extends I.Disposable{constructor(c){super(),this._bufferService=c,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._activeLine=-1,this._onShowLinkUnderline=this.register(new w.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new w.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,I.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,I.toDisposable)(()=>{this._lastMouseEvent=void 0}))}get currentLink(){return this._currentLink}registerLinkProvider(c){return this._linkProviders.push(c),{dispose:()=>{const f=this._linkProviders.indexOf(c);-1!==f&&this._linkProviders.splice(f,1)}}}attachToDom(c,f,g){this._element=c,this._mouseService=f,this._renderService=g,this.register((0,M.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,M.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,M.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,M.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(c){if(this._lastMouseEvent=c,!this._element||!this._mouseService)return;const f=this._positionFromMouseEvent(c,this._element,this._mouseService);if(!f)return;this._isMouseOut=!1;const g=c.composedPath();for(let d=0;d<g.length;d++){const p=g[d];if(p.classList.contains("xterm"))break;if(p.classList.contains("xterm-hover"))return}this._lastBufferCell&&f.x===this._lastBufferCell.x&&f.y===this._lastBufferCell.y||(this._handleHover(f),this._lastBufferCell=f)}_handleHover(c){if(this._activeLine!==c.y)return this._clearCurrentLink(),void this._askForLink(c,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,c)||(this._clearCurrentLink(),this._askForLink(c,!0))}_askForLink(c,f){var g,d;this._activeProviderReplies&&f||(null===(g=this._activeProviderReplies)||void 0===g||g.forEach(S=>{S?.forEach(D=>{D.link.dispose&&D.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=c.y);let p=!1;for(const[S,D]of this._linkProviders.entries())f?null!==(d=this._activeProviderReplies)&&void 0!==d&&d.get(S)&&(p=this._checkLinkProviderResult(S,c,p)):D.provideLinks(c.y,T=>{var m,x;if(this._isMouseOut)return;const P=T?.map(F=>({link:F}));null===(m=this._activeProviderReplies)||void 0===m||m.set(S,P),p=this._checkLinkProviderResult(S,c,p),(null===(x=this._activeProviderReplies)||void 0===x?void 0:x.size)===this._linkProviders.length&&this._removeIntersectingLinks(c.y,this._activeProviderReplies)})}_removeIntersectingLinks(c,f){const g=new Set;for(let d=0;d<f.size;d++){const p=f.get(d);if(p)for(let S=0;S<p.length;S++){const D=p[S],m=D.link.range.end.y>c?this._bufferService.cols:D.link.range.end.x;for(let x=D.link.range.start.y<c?0:D.link.range.start.x;x<=m;x++){if(g.has(x)){p.splice(S--,1);break}g.add(x)}}}}_checkLinkProviderResult(c,f,g){var d;if(!this._activeProviderReplies)return g;const p=this._activeProviderReplies.get(c);let S=!1;for(let D=0;D<c;D++)this._activeProviderReplies.has(D)&&!this._activeProviderReplies.get(D)||(S=!0);if(!S&&p){const D=p.find(T=>this._linkAtPosition(T.link,f));D&&(g=!0,this._handleNewLink(D))}if(this._activeProviderReplies.size===this._linkProviders.length&&!g)for(let D=0;D<this._activeProviderReplies.size;D++){const T=null===(d=this._activeProviderReplies.get(D))||void 0===d?void 0:d.find(m=>this._linkAtPosition(m.link,f));if(T){g=!0,this._handleNewLink(T);break}}return g}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(c){if(!this._element||!this._mouseService||!this._currentLink)return;const f=this._positionFromMouseEvent(c,this._element,this._mouseService);f&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,f)&&this._currentLink.link.activate(c,this._currentLink.link.text)}_clearCurrentLink(c,f){this._element&&this._currentLink&&this._lastMouseEvent&&(!c||!f||this._currentLink.link.range.start.y>=c&&this._currentLink.link.range.end.y<=f)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,I.disposeArray)(this._linkCacheDisposables))}_handleNewLink(c){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const f=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);f&&this._linkAtPosition(c.link,f)&&(this._currentLink=c,this._currentLink.state={decorations:{underline:void 0===c.link.decorations||c.link.decorations.underline,pointerCursor:void 0===c.link.decorations||c.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,c.link,this._lastMouseEvent),c.link.decorations={},Object.defineProperties(c.link.decorations,{pointerCursor:{get:()=>{var g,d;return null===(d=null===(g=this._currentLink)||void 0===g?void 0:g.state)||void 0===d?void 0:d.decorations.pointerCursor},set:g=>{var d,p;null!==(d=this._currentLink)&&void 0!==d&&d.state&&this._currentLink.state.decorations.pointerCursor!==g&&(this._currentLink.state.decorations.pointerCursor=g,this._currentLink.state.isHovered&&(null===(p=this._element)||void 0===p||p.classList.toggle("xterm-cursor-pointer",g)))}},underline:{get:()=>{var g,d;return null===(d=null===(g=this._currentLink)||void 0===g?void 0:g.state)||void 0===d?void 0:d.decorations.underline},set:g=>{var d,p,S;null!==(d=this._currentLink)&&void 0!==d&&d.state&&(null===(S=null===(p=this._currentLink)||void 0===p?void 0:p.state)||void 0===S?void 0:S.decorations.underline)!==g&&(this._currentLink.state.decorations.underline=g,this._currentLink.state.isHovered&&this._fireUnderlineEvent(c.link,g))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(g=>{const p=this._currentLink?this._lastMouseEvent:void 0;if(this._clearCurrentLink(0===g.start?0:g.start+1+this._bufferService.buffer.ydisp,g.end+1+this._bufferService.buffer.ydisp),p&&this._element){const S=this._positionFromMouseEvent(p,this._element,this._mouseService);S&&this._askForLink(S,!1)}})))}_linkHover(c,f,g){var d;!(null===(d=this._currentLink)||void 0===d)&&d.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!0),this._currentLink.state.decorations.pointerCursor&&c.classList.add("xterm-cursor-pointer")),f.hover&&f.hover(g,f.text)}_fireUnderlineEvent(c,f){const g=c.range,d=this._bufferService.buffer.ydisp,p=this._createLinkUnderlineEvent(g.start.x-1,g.start.y-d-1,g.end.x,g.end.y-d-1,void 0);(f?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(p)}_linkLeave(c,f,g){var d;!(null===(d=this._currentLink)||void 0===d)&&d.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!1),this._currentLink.state.decorations.pointerCursor&&c.classList.remove("xterm-cursor-pointer")),f.leave&&f.leave(g,f.text)}_linkAtPosition(c,f){const p=f.y*this._bufferService.cols+f.x;return c.range.start.y*this._bufferService.cols+c.range.start.x<=p&&p<=c.range.end.y*this._bufferService.cols+c.range.end.x}_positionFromMouseEvent(c,f,g){const d=g.getCoords(c,f,this._bufferService.cols,this._bufferService.rows);if(d)return{x:d[0],y:d[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(c,f,g,d,p){return{x1:c,y1:f,x2:g,y2:d,cols:this._bufferService.cols,fg:p}}};C=y([E(0,b.IBufferService)],C),h.Linkifier2=C},9042:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.tooMuchOutput=h.promptLabel=void 0,h.promptLabel="Terminal input",h.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(Q,h,v){var y=this&&this.__decorate||function(C,c,f,g){var d,p=arguments.length,S=p<3?c:null===g?g=Object.getOwnPropertyDescriptor(c,f):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(C,c,f,g);else for(var D=C.length-1;D>=0;D--)(d=C[D])&&(S=(p<3?d(S):p>3?d(c,f,S):d(c,f))||S);return p>3&&S&&Object.defineProperty(c,f,S),S},E=this&&this.__param||function(C,c){return function(f,g){c(f,g,C)}};Object.defineProperty(h,"__esModule",{value:!0}),h.OscLinkProvider=void 0;const b=v(511),w=v(2585);let I=class{constructor(C,c,f){this._bufferService=C,this._optionsService=c,this._oscLinkService=f}provideLinks(C,c){var f;const g=this._bufferService.buffer.lines.get(C-1);if(!g)return void c(void 0);const d=[],p=this._optionsService.rawOptions.linkHandler,S=new b.CellData,D=g.getTrimmedLength();let T=-1,m=-1,x=!1;for(let P=0;P<D;P++)if(-1!==m||g.hasContent(P)){if(g.loadCell(P,S),S.hasExtendedAttrs()&&S.extended.urlId){if(-1===m){m=P,T=S.extended.urlId;continue}x=S.extended.urlId!==T}else-1!==m&&(x=!0);if(x||-1!==m&&P===D-1){const F=null===(f=this._oscLinkService.getLinkData(T))||void 0===f?void 0:f.uri;if(F){const H={start:{x:m+1,y:C},end:{x:P+(x||P!==D-1?0:1),y:C}};let $=!1;if(!p?.allowNonHttpProtocols)try{const Z=new URL(F);["http:","https:"].includes(Z.protocol)||($=!0)}catch{$=!0}$||d.push({text:F,range:H,activate:(Z,re)=>p?p.activate(Z,re,H):M(0,re),hover:(Z,re)=>{var oe;return null===(oe=p?.hover)||void 0===oe?void 0:oe.call(p,Z,re,H)},leave:(Z,re)=>{var oe;return null===(oe=p?.leave)||void 0===oe?void 0:oe.call(p,Z,re,H)}})}x=!1,S.hasExtendedAttrs()&&S.extended.urlId?(m=P,T=S.extended.urlId):(m=-1,T=-1)}}c(d)}};function M(C,c){if(confirm(`Do you want to navigate to ${c}?\n\nWARNING: This link could potentially be dangerous`)){const f=window.open();if(f){try{f.opener=null}catch{}f.location.href=c}else console.warn("Opening link blocked as opener could not be cleared")}}I=y([E(0,w.IBufferService),E(1,w.IOptionsService),E(2,w.IOscLinkService)],I),h.OscLinkProvider=I},6193:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RenderDebouncer=void 0,h.RenderDebouncer=class{constructor(v,y){this._parentWindow=v,this._renderCallback=y,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(v){return this._refreshCallbacks.push(v),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(v,y,E){this._rowCount=E,v=void 0!==v?v:0,y=void 0!==y?y:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,v):v,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,y):y,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();const v=Math.max(this._rowStart,0),y=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(v,y),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const v of this._refreshCallbacks)v(0);this._refreshCallbacks=[]}}},5596:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ScreenDprMonitor=void 0;const y=v(844);h.ScreenDprMonitor=class E extends y.Disposable{constructor(w){super(),this._parentWindow=w,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,y.toDisposable)(()=>{this.clearListener()}))}setListener(w){this._listener&&this.clearListener(),this._listener=w,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var w;this._outerListener&&(null===(w=this._resolutionMediaMatchList)||void 0===w||w.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}},3236:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Terminal=void 0;const y=v(2950),E=v(1680),b=v(3614),w=v(2584),I=v(5435),M=v(9312),C=v(6114),c=v(3656),f=v(9042),g=v(4567),d=v(1296),p=v(7399),S=v(8460),D=v(8437),T=v(3230),m=v(4725),x=v(428),P=v(8934),F=v(6465),H=v(5114),$=v(8969),Z=v(8055),re=v(4269),oe=v(5941),R=v(3107),L=v(5744),j=v(9074),N=v(2585),te=v(3730),ue=v(844),De=v(6731),ne=typeof window<"u"?window.document:null;h.Terminal=class ae extends $.CoreTerminal{constructor(V={}){super(V),this.browser=C,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._onCursorMove=this.register(new S.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new S.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new S.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new S.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new S.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new S.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new S.EventEmitter),this._onBlur=this.register(new S.EventEmitter),this._onA11yCharEmitter=this.register(new S.EventEmitter),this._onA11yTabEmitter=this.register(new S.EventEmitter),this._onWillOpen=this.register(new S.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(F.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(te.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(j.DecorationService),this._instantiationService.setService(N.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((z,q)=>this.refresh(z,q))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(z=>this._reportWindowsOptions(z))),this.register(this._inputHandler.onColor(z=>this._handleColorEvent(z))),this.register((0,S.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,S.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,S.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,S.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(z=>this._afterResize(z.cols,z.rows))),this.register((0,ue.toDisposable)(()=>{var z,q;this._customKeyEventHandler=void 0,null===(q=null===(z=this.element)||void 0===z?void 0:z.parentNode)||void 0===q||q.removeChild(this.element)}))}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(V){if(this._themeService)for(const z of V){let q,ie="";switch(z.index){case 256:q="foreground",ie="10";break;case 257:q="background",ie="11";break;case 258:q="cursor",ie="12";break;default:q="ansi",ie="4;"+z.index}switch(z.type){case 0:const de=Z.color.toColorRGB("ansi"===q?this._themeService.colors.ansi[z.index]:this._themeService.colors[q]);this.coreService.triggerDataEvent(`${w.C0.ESC}]${ie};${(0,oe.toRgbString)(de)}${w.C1_ESCAPED.ST}`);break;case 1:if("ansi"===q)this._themeService.modifyColors(le=>le.ansi[z.index]=Z.rgba.toColor(...z.color));else{const le=q;this._themeService.modifyColors(gt=>gt[le]=Z.rgba.toColor(...z.color))}break;case 2:this._themeService.restoreColor(z.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(V){var z;V?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new g.AccessibilityManager(this,this._renderService)):(null===(z=this._accessibilityManager)||void 0===z||z.dispose(),this._accessibilityManager=void 0)}_handleTextAreaFocus(V){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(w.C0.ESC+"[I"),this.updateCursorStyle(V),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var V;return null===(V=this.textarea)||void 0===V?void 0:V.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(w.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const z=this.buffer.lines.get(this.buffer.ybase+this.buffer.y);if(!z)return;const q=Math.min(this.buffer.x,this.cols-1),ie=this._renderService.dimensions.css.cell.height,de=z.getWidth(q),le=this._renderService.dimensions.css.cell.width*de,gt=this.buffer.y*this._renderService.dimensions.css.cell.height;this.textarea.style.left=q*this._renderService.dimensions.css.cell.width+"px",this.textarea.style.top=gt+"px",this.textarea.style.width=le+"px",this.textarea.style.height=ie+"px",this.textarea.style.lineHeight=ie+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,c.addDisposableDomListener)(this.element,"copy",z=>{this.hasSelection()&&(0,b.copyHandler)(z,this._selectionService)}));const V=z=>(0,b.handlePasteEvent)(z,this.textarea,this.coreService);this.register((0,c.addDisposableDomListener)(this.textarea,"paste",V)),this.register((0,c.addDisposableDomListener)(this.element,"paste",V)),this.register(C.isFirefox?(0,c.addDisposableDomListener)(this.element,"mousedown",z=>{2===z.button&&(0,b.rightClickHandler)(z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}):(0,c.addDisposableDomListener)(this.element,"contextmenu",z=>{(0,b.rightClickHandler)(z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),C.isLinux&&this.register((0,c.addDisposableDomListener)(this.element,"auxclick",z=>{1===z.button&&(0,b.moveTextAreaUnderMouseCursor)(z,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,c.addDisposableDomListener)(this.textarea,"keyup",V=>this._keyUp(V),!0)),this.register((0,c.addDisposableDomListener)(this.textarea,"keydown",V=>this._keyDown(V),!0)),this.register((0,c.addDisposableDomListener)(this.textarea,"keypress",V=>this._keyPress(V),!0)),this.register((0,c.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,c.addDisposableDomListener)(this.textarea,"compositionupdate",V=>this._compositionHelper.compositionupdate(V))),this.register((0,c.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,c.addDisposableDomListener)(this.textarea,"input",V=>this._inputEvent(V),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(V){var z;if(!V)throw new Error("Terminal requires a parent element.");V.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=V.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),V.appendChild(this.element);const q=ne.createDocumentFragment();this._viewportElement=ne.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),q.appendChild(this._viewportElement),this._viewportScrollArea=ne.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=ne.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=ne.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),q.appendChild(this.screenElement),this.textarea=ne.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",f.promptLabel),C.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(H.CoreBrowserService,this.textarea,null!==(z=this._document.defaultView)&&void 0!==z?z:window),this._instantiationService.setService(m.ICoreBrowserService,this._coreBrowserService),this.register((0,c.addDisposableDomListener)(this.textarea,"focus",ie=>this._handleTextAreaFocus(ie))),this.register((0,c.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(x.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(m.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(De.ThemeService),this._instantiationService.setService(m.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(re.CharacterJoinerService),this._instantiationService.setService(m.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(T.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(m.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(ie=>this._onRender.fire(ie))),this.onResize(ie=>this._renderService.resize(ie.cols,ie.rows)),this._compositionView=ne.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(y.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(q);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(P.MouseService),this._instantiationService.setService(m.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(E.Viewport,ie=>this.scrollLines(ie,!0,1),this._viewportElement,this._viewportScrollArea),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(M.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(m.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(ie=>this.scrollLines(ie.amount,ie.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(ie=>this._renderService.handleSelectionChanged(ie.start,ie.end,ie.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(ie=>{this.textarea.value=ie,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(ie=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,c.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(R.BufferDecorationRenderer,this.screenElement)),this.register((0,c.addDisposableDomListener)(this.element,"mousedown",ie=>this._selectionService.handleMouseDown(ie))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new g.AccessibilityManager(this,this._renderService)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",ie=>this._handleScreenReaderModeOptionChange(ie))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(L.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",ie=>{!this._overviewRulerRenderer&&ie&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(L.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(d.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const V=this,z=this.element;function q(le){const gt=V._mouseService.getMouseReportCoords(le,V.screenElement);if(!gt)return!1;let mt,_t;switch(le.overrideType||le.type){case"mousemove":_t=32,void 0===le.buttons?(mt=3,void 0!==le.button&&(mt=le.button<3?le.button:3)):mt=1&le.buttons?0:4&le.buttons?1:2&le.buttons?2:3;break;case"mouseup":_t=0,mt=le.button<3?le.button:3;break;case"mousedown":_t=1,mt=le.button<3?le.button:3;break;case"wheel":if(0===V.viewport.getLinesScrolled(le))return!1;_t=le.deltaY<0?0:1,mt=4;break;default:return!1}return!(void 0===_t||void 0===mt||mt>4)&&V.coreMouseService.triggerMouseEvent({col:gt.col,row:gt.row,x:gt.x,y:gt.y,button:mt,action:_t,ctrl:le.ctrlKey,alt:le.altKey,shift:le.shiftKey})}const ie={mouseup:null,wheel:null,mousedrag:null,mousemove:null},de={mouseup:le=>(q(le),le.buttons||(this._document.removeEventListener("mouseup",ie.mouseup),ie.mousedrag&&this._document.removeEventListener("mousemove",ie.mousedrag)),this.cancel(le)),wheel:le=>(q(le),this.cancel(le,!0)),mousedrag:le=>{le.buttons&&q(le)},mousemove:le=>{le.buttons||q(le)}};this.register(this.coreMouseService.onProtocolChange(le=>{le?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(le)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&le?ie.mousemove||(z.addEventListener("mousemove",de.mousemove),ie.mousemove=de.mousemove):(z.removeEventListener("mousemove",ie.mousemove),ie.mousemove=null),16&le?ie.wheel||(z.addEventListener("wheel",de.wheel,{passive:!1}),ie.wheel=de.wheel):(z.removeEventListener("wheel",ie.wheel),ie.wheel=null),2&le?ie.mouseup||(ie.mouseup=de.mouseup):(this._document.removeEventListener("mouseup",ie.mouseup),ie.mouseup=null),4&le?ie.mousedrag||(ie.mousedrag=de.mousedrag):(this._document.removeEventListener("mousemove",ie.mousedrag),ie.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,c.addDisposableDomListener)(z,"mousedown",le=>{if(le.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(le))return q(le),ie.mouseup&&this._document.addEventListener("mouseup",ie.mouseup),ie.mousedrag&&this._document.addEventListener("mousemove",ie.mousedrag),this.cancel(le)})),this.register((0,c.addDisposableDomListener)(z,"wheel",le=>{if(!ie.wheel){if(!this.buffer.hasScrollback){const gt=this.viewport.getLinesScrolled(le);if(0===gt)return;const mt=w.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(le.deltaY<0?"A":"B");let _t="";for(let qe=0;qe<Math.abs(gt);qe++)_t+=mt;return this.coreService.triggerDataEvent(_t,!0),this.cancel(le,!0)}return this.viewport.handleWheel(le)?this.cancel(le):void 0}},{passive:!1})),this.register((0,c.addDisposableDomListener)(z,"touchstart",le=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(le),this.cancel(le)},{passive:!0})),this.register((0,c.addDisposableDomListener)(z,"touchmove",le=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(le)?void 0:this.cancel(le)},{passive:!1}))}refresh(V,z){var q;null===(q=this._renderService)||void 0===q||q.refreshRows(V,z)}updateCursorStyle(V){var z;null!==(z=this._selectionService)&&void 0!==z&&z.shouldColumnSelect(V)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(V,z,q=0){super.scrollLines(V,z,q),this.refresh(0,this.rows-1)}paste(V){(0,b.paste)(V,this.textarea,this.coreService)}attachCustomKeyEventHandler(V){this._customKeyEventHandler=V}registerLinkProvider(V){return this.linkifier2.registerLinkProvider(V)}registerCharacterJoiner(V){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const z=this._characterJoinerService.register(V);return this.refresh(0,this.rows-1),z}deregisterCharacterJoiner(V){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(V)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}addMarker(V){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+V)}registerDecoration(V){return this._decorationService.registerDecoration(V)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(V,z,q){this._selectionService.setSelection(V,z,q)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var V;null===(V=this._selectionService)||void 0===V||V.clearSelection()}selectAll(){var V;null===(V=this._selectionService)||void 0===V||V.selectAll()}selectLines(V,z){var q;null===(q=this._selectionService)||void 0===q||q.selectLines(V,z)}_keyDown(V){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(V))return!1;const z=this.browser.isMac&&this.options.macOptionIsMeta&&V.altKey;if(!z&&!this._compositionHelper.keydown(V))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;z||"Dead"!==V.key&&"AltGraph"!==V.key||(this._unprocessedDeadKey=!0);const q=(0,p.evaluateKeyboardEvent)(V,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(V),3===q.type||2===q.type){const ie=this.rows-1;return this.scrollLines(2===q.type?-ie:ie),this.cancel(V,!0)}return 1===q.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,V)||(q.cancel&&this.cancel(V,!0),!q.key||!!(V.key&&!V.ctrlKey&&!V.altKey&&!V.metaKey&&1===V.key.length&&V.key.charCodeAt(0)>=65&&V.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(q.key!==w.C0.ETX&&q.key!==w.C0.CR||(this.textarea.value=""),this._onKey.fire({key:q.key,domEvent:V}),this._showCursor(),this.coreService.triggerDataEvent(q.key,!0),!this.optionsService.rawOptions.screenReaderMode||V.altKey||V.ctrlKey?this.cancel(V,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(V,z){const q=V.isMac&&!this.options.macOptionIsMeta&&z.altKey&&!z.ctrlKey&&!z.metaKey||V.isWindows&&z.altKey&&z.ctrlKey&&!z.metaKey||V.isWindows&&z.getModifierState("AltGraph");return"keypress"===z.type?q:q&&(!z.keyCode||z.keyCode>47)}_keyUp(V){var z;this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(V)||(16===(z=V).keyCode||17===z.keyCode||18===z.keyCode||this.focus(),this.updateCursorStyle(V),this._keyPressHandled=!1)}_keyPress(V){let z;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(V))return!1;if(this.cancel(V),V.charCode)z=V.charCode;else if(null==V.which)z=V.keyCode;else{if(0===V.which||0===V.charCode)return!1;z=V.which}return!(!z||(V.altKey||V.ctrlKey||V.metaKey)&&!this._isThirdLevelShift(this.browser,V)||(z=String.fromCharCode(z),this._onKey.fire({key:z,domEvent:V}),this._showCursor(),this.coreService.triggerDataEvent(z,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(V){return!(!V.data||"insertText"!==V.inputType||V.composed&&this._keyDownSeen||this.optionsService.rawOptions.screenReaderMode||this._keyPressHandled||(this._unprocessedDeadKey=!1,this.coreService.triggerDataEvent(V.data,!0),this.cancel(V),0))}resize(V,z){V!==this.cols||z!==this.rows?super.resize(V,z):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(V,z){var q,ie;null===(q=this._charSizeService)||void 0===q||q.measure(),null===(ie=this.viewport)||void 0===ie||ie.syncScrollArea(!0)}clear(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let V=1;V<this.rows;V++)this.buffer.lines.push(this.buffer.getBlankLine(D.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}}reset(){var V,z;this.options.rows=this.rows,this.options.cols=this.cols;const q=this._customKeyEventHandler;this._setup(),super.reset(),null===(V=this._selectionService)||void 0===V||V.reset(),this._decorationService.reset(),this._customKeyEventHandler=q,this.refresh(0,this.rows-1),null===(z=this.viewport)||void 0===z||z.syncScrollArea()}clearTextureAtlas(){var V;null===(V=this._renderService)||void 0===V||V.clearTextureAtlas()}_reportFocus(){var V;null!==(V=this.element)&&void 0!==V&&V.classList.contains("focus")?this.coreService.triggerDataEvent(w.C0.ESC+"[I"):this.coreService.triggerDataEvent(w.C0.ESC+"[O")}_reportWindowsOptions(V){if(this._renderService)switch(V){case I.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const z=this._renderService.dimensions.css.canvas.width.toFixed(0),q=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${w.C0.ESC}[4;${q};${z}t`);break;case I.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ie=this._renderService.dimensions.css.cell.width.toFixed(0),de=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${w.C0.ESC}[6;${de};${ie}t`)}}cancel(V,z){if(this.options.cancelEvents||z)return V.preventDefault(),V.stopPropagation(),!1}}},9924:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TimeBasedDebouncer=void 0,h.TimeBasedDebouncer=class{constructor(v,y=1e3){this._renderCallback=v,this._debounceThresholdMS=y,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(v,y,E){this._rowCount=E,v=void 0!==v?v:0,y=void 0!==y?y:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,v):v,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,y):y;const b=Date.now();if(b-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=b,this._innerRefresh();else if(!this._additionalRefreshRequested){const I=this._debounceThresholdMS-(b-this._lastRefreshMs);this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},I)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;const v=Math.max(this._rowStart,0),y=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(v,y)}}},1680:function(Q,h,v){var y=this&&this.__decorate||function(c,f,g,d){var p,S=arguments.length,D=S<3?f:null===d?d=Object.getOwnPropertyDescriptor(f,g):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(c,f,g,d);else for(var T=c.length-1;T>=0;T--)(p=c[T])&&(D=(S<3?p(D):S>3?p(f,g,D):p(f,g))||D);return S>3&&D&&Object.defineProperty(f,g,D),D},E=this&&this.__param||function(c,f){return function(g,d){f(g,d,c)}};Object.defineProperty(h,"__esModule",{value:!0}),h.Viewport=void 0;const b=v(844),w=v(3656),I=v(4725),M=v(2585);let C=class extends b.Disposable{constructor(c,f,g,d,p,S,D,T,m){super(),this._scrollLines=c,this._viewportElement=f,this._scrollArea=g,this._bufferService=d,this._optionsService=p,this._charSizeService=S,this._renderService=D,this._coreBrowserService=T,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,w.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(x=>this._activeBuffer=x.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(x=>this._renderDimensions=x)),this._handleThemeChange(m.colors),this.register(m.onChangeColors(x=>this._handleThemeChange(x))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea(),0)}_handleThemeChange(c){this._viewportElement.style.backgroundColor=c.background.css}_refresh(c){if(c)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const f=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==f&&(this._lastRecordedBufferHeight=f,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const c=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==c&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=c),this._refreshAnimationFrame=null}syncScrollArea(c=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(c);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(c)}_handleScroll(c){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);const f=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(f)}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;const c=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(c*(this._smoothScrollState.target-this._smoothScrollState.origin)),c<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(c,f){return!(f<0&&0!==this._viewportElement.scrollTop||f>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(c.cancelable&&c.preventDefault(),!1)}handleWheel(c){const f=this._getPixelsScrolled(c);return 0!==f&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+f:this._smoothScrollState.target+=f,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=f,this._bubbleScroll(c,f))}_getPixelsScrolled(c){if(0===c.deltaY||c.shiftKey)return 0;let f=this._applyScrollModifier(c.deltaY,c);return c.deltaMode===WheelEvent.DOM_DELTA_LINE?f*=this._currentRowHeight:c.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(f*=this._currentRowHeight*this._bufferService.rows),f}getLinesScrolled(c){if(0===c.deltaY||c.shiftKey)return 0;let f=this._applyScrollModifier(c.deltaY,c);return c.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(f/=this._currentRowHeight+0,this._wheelPartialScroll+=f,f=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):c.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(f*=this._bufferService.rows),f}_applyScrollModifier(c,f){const g=this._optionsService.rawOptions.fastScrollModifier;return"alt"===g&&f.altKey||"ctrl"===g&&f.ctrlKey||"shift"===g&&f.shiftKey?c*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:c*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(c){this._lastTouchY=c.touches[0].pageY}handleTouchMove(c){const f=this._lastTouchY-c.touches[0].pageY;return this._lastTouchY=c.touches[0].pageY,0!==f&&(this._viewportElement.scrollTop+=f,this._bubbleScroll(c,f))}};C=y([E(3,M.IBufferService),E(4,M.IOptionsService),E(5,I.ICharSizeService),E(6,I.IRenderService),E(7,I.ICoreBrowserService),E(8,I.IThemeService)],C),h.Viewport=C},3107:function(Q,h,v){var y=this&&this.__decorate||function(c,f,g,d){var p,S=arguments.length,D=S<3?f:null===d?d=Object.getOwnPropertyDescriptor(f,g):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(c,f,g,d);else for(var T=c.length-1;T>=0;T--)(p=c[T])&&(D=(S<3?p(D):S>3?p(f,g,D):p(f,g))||D);return S>3&&D&&Object.defineProperty(f,g,D),D},E=this&&this.__param||function(c,f){return function(g,d){f(g,d,c)}};Object.defineProperty(h,"__esModule",{value:!0}),h.BufferDecorationRenderer=void 0;const b=v(3656),w=v(4725),I=v(844),M=v(2585);let C=class extends I.Disposable{constructor(c,f,g,d){super(),this._screenElement=c,this._bufferService=f,this._decorationService=g,this._renderService=d,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,b.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(p=>this._removeDecoration(p))),this.register((0,I.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const c of this._decorationService.decorations)this._renderDecoration(c);this._dimensionsChanged=!1}_renderDecoration(c){this._refreshStyle(c),this._dimensionsChanged&&this._refreshXPosition(c)}_createElement(c){var f;const g=document.createElement("div");g.classList.add("xterm-decoration"),g.style.width=`${Math.round((c.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,g.style.height=(c.options.height||1)*this._renderService.dimensions.css.cell.height+"px",g.style.top=(c.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",g.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const d=null!==(f=c.options.x)&&void 0!==f?f:0;return d&&d>this._bufferService.cols&&(g.style.display="none"),this._refreshXPosition(c,g),g}_refreshStyle(c){const f=c.marker.line-this._bufferService.buffers.active.ydisp;if(f<0||f>=this._bufferService.rows)c.element&&(c.element.style.display="none",c.onRenderEmitter.fire(c.element));else{let g=this._decorationElements.get(c);g||(g=this._createElement(c),c.element=g,this._decorationElements.set(c,g),this._container.appendChild(g)),g.style.top=f*this._renderService.dimensions.css.cell.height+"px",g.style.display=this._altBufferIsActive?"none":"block",c.onRenderEmitter.fire(g)}}_refreshXPosition(c,f=c.element){var g;if(!f)return;const d=null!==(g=c.options.x)&&void 0!==g?g:0;"right"===(c.options.anchor||"left")?f.style.right=d?d*this._renderService.dimensions.css.cell.width+"px":"":f.style.left=d?d*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(c){var f;null===(f=this._decorationElements.get(c))||void 0===f||f.remove(),this._decorationElements.delete(c),c.dispose()}};C=y([E(1,M.IBufferService),E(2,M.IDecorationService),E(3,w.IRenderService)],C),h.BufferDecorationRenderer=C},5871:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ColorZoneStore=void 0,h.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(v){if(v.options.overviewRulerOptions){for(const y of this._zones)if(y.color===v.options.overviewRulerOptions.color&&y.position===v.options.overviewRulerOptions.position){if(this._lineIntersectsZone(y,v.marker.line))return;if(this._lineAdjacentToZone(y,v.marker.line,v.options.overviewRulerOptions.position))return void this._addLineToZone(y,v.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=v.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=v.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=v.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=v.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:v.options.overviewRulerOptions.color,position:v.options.overviewRulerOptions.position,startBufferLine:v.marker.line,endBufferLine:v.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(v){this._linePadding=v}_lineIntersectsZone(v,y){return y>=v.startBufferLine&&y<=v.endBufferLine}_lineAdjacentToZone(v,y,E){return y>=v.startBufferLine-this._linePadding[E||"full"]&&y<=v.endBufferLine+this._linePadding[E||"full"]}_addLineToZone(v,y){v.startBufferLine=Math.min(v.startBufferLine,y),v.endBufferLine=Math.max(v.endBufferLine,y)}}},5744:function(Q,h,v){var y=this&&this.__decorate||function(p,S,D,T){var m,x=arguments.length,P=x<3?S:null===T?T=Object.getOwnPropertyDescriptor(S,D):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(p,S,D,T);else for(var F=p.length-1;F>=0;F--)(m=p[F])&&(P=(x<3?m(P):x>3?m(S,D,P):m(S,D))||P);return x>3&&P&&Object.defineProperty(S,D,P),P},E=this&&this.__param||function(p,S){return function(D,T){S(D,T,p)}};Object.defineProperty(h,"__esModule",{value:!0}),h.OverviewRulerRenderer=void 0;const b=v(5871),w=v(3656),I=v(4725),M=v(844),C=v(2585),c={full:0,left:0,center:0,right:0},f={full:0,left:0,center:0,right:0},g={full:0,left:0,center:0,right:0};let d=class extends M.Disposable{constructor(p,S,D,T,m,x,P){var F;super(),this._viewportElement=p,this._screenElement=S,this._bufferService=D,this._decorationService=T,this._renderService=m,this._optionsService=x,this._coreBrowseService=P,this._colorZoneStore=new b.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),null===(F=this._viewportElement.parentElement)||void 0===F||F.insertBefore(this._canvas,this._viewportElement);const H=this._canvas.getContext("2d");if(!H)throw new Error("Ctx cannot be null");this._ctx=H,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,M.toDisposable)(()=>{var $;null===($=this._canvas)||void 0===$||$.remove()}))}get _width(){return this._optionsService.options.overviewRulerWidth||0}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,w.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const p=Math.floor(this._canvas.width/3),S=Math.ceil(this._canvas.width/3);f.full=this._canvas.width,f.left=p,f.center=S,f.right=p,this._refreshDrawHeightConstants(),g.full=0,g.left=0,g.center=f.left,g.right=f.left+f.center}_refreshDrawHeightConstants(){c.full=Math.round(2*this._coreBrowseService.dpr);const S=Math.round(Math.max(Math.min(this._canvas.height/this._bufferService.buffer.lines.length,12),6)*this._coreBrowseService.dpr);c.left=S,c.center=S,c.right=S}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const S of this._decorationService.decorations)this._colorZoneStore.addDecoration(S);this._ctx.lineWidth=1;const p=this._colorZoneStore.zones;for(const S of p)"full"!==S.position&&this._renderColorZone(S);for(const S of p)"full"===S.position&&this._renderColorZone(S);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(p){this._ctx.fillStyle=p.color,this._ctx.fillRect(g[p.position||"full"],Math.round(p.startBufferLine/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)-c[p.position||"full"]/2),f[p.position||"full"],Math.round((p.endBufferLine-p.startBufferLine)/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)+c[p.position||"full"]))}_queueRefresh(p,S){this._shouldUpdateDimensions=p||this._shouldUpdateDimensions,this._shouldUpdateAnchor=S||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};d=y([E(2,C.IBufferService),E(3,C.IDecorationService),E(4,I.IRenderService),E(5,C.IOptionsService),E(6,I.ICoreBrowserService)],d),h.OverviewRulerRenderer=d},2950:function(Q,h,v){var y=this&&this.__decorate||function(C,c,f,g){var d,p=arguments.length,S=p<3?c:null===g?g=Object.getOwnPropertyDescriptor(c,f):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(C,c,f,g);else for(var D=C.length-1;D>=0;D--)(d=C[D])&&(S=(p<3?d(S):p>3?d(c,f,S):d(c,f))||S);return p>3&&S&&Object.defineProperty(c,f,S),S},E=this&&this.__param||function(C,c){return function(f,g){c(f,g,C)}};Object.defineProperty(h,"__esModule",{value:!0}),h.CompositionHelper=void 0;const b=v(4725),w=v(2585),I=v(2584);let M=class{constructor(C,c,f,g,d,p){this._textarea=C,this._compositionView=c,this._bufferService=f,this._optionsService=g,this._coreService=d,this._renderService=p,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(C){this._compositionView.textContent=C.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(C){if(this._isComposing||this._isSendingComposition){if(229===C.keyCode||16===C.keyCode||17===C.keyCode||18===C.keyCode)return!1;this._finalizeComposition(!1)}return 229!==C.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(C){if(this._compositionView.classList.remove("active"),this._isComposing=!1,C){const c={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let f;this._isSendingComposition=!1,c.start+=this._dataAlreadySent.length,f=this._isComposing?this._textarea.value.substring(c.start,c.end):this._textarea.value.substring(c.start),f.length>0&&this._coreService.triggerDataEvent(f,!0)}},0)}else{this._isSendingComposition=!1;const c=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(c,!0)}}_handleAnyTextareaChanges(){const C=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const c=this._textarea.value,f=c.replace(C,"");this._dataAlreadySent=f,c.length>C.length?this._coreService.triggerDataEvent(f,!0):c.length<C.length?this._coreService.triggerDataEvent(`${I.C0.DEL}`,!0):c.length===C.length&&c!==C&&this._coreService.triggerDataEvent(c,!0)}},0)}updateCompositionElements(C){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const c=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),f=this._renderService.dimensions.css.cell.height,g=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,d=c*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=d+"px",this._compositionView.style.top=g+"px",this._compositionView.style.height=f+"px",this._compositionView.style.lineHeight=f+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const p=this._compositionView.getBoundingClientRect();this._textarea.style.left=d+"px",this._textarea.style.top=g+"px",this._textarea.style.width=Math.max(p.width,1)+"px",this._textarea.style.height=Math.max(p.height,1)+"px",this._textarea.style.lineHeight=p.height+"px"}C||setTimeout(()=>this.updateCompositionElements(!0),0)}}};M=y([E(2,w.IBufferService),E(3,w.IOptionsService),E(4,w.ICoreService),E(5,b.IRenderService)],M),h.CompositionHelper=M},9806:(Q,h)=>{function v(y,E,b){const w=b.getBoundingClientRect(),I=y.getComputedStyle(b),M=parseInt(I.getPropertyValue("padding-left")),C=parseInt(I.getPropertyValue("padding-top"));return[E.clientX-w.left-M,E.clientY-w.top-C]}Object.defineProperty(h,"__esModule",{value:!0}),h.getCoords=h.getCoordsRelativeToElement=void 0,h.getCoordsRelativeToElement=v,h.getCoords=function(y,E,b,w,I,M,C,c,f){if(!M)return;const g=v(y,E,b);return g?(g[0]=Math.ceil((g[0]+(f?C/2:0))/C),g[1]=Math.ceil(g[1]/c),g[0]=Math.min(Math.max(g[0],1),w+(f?1:0)),g[1]=Math.min(Math.max(g[1],1),I),g):void 0}},9504:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.moveToCellSequence=void 0;const y=v(2584);function E(c,f,g,d){const p=c-b(c,g),S=f-b(f,g);return C(Math.abs(p-S)-function(T,m,x){let P=0;const F=T-b(T,x),H=m-b(m,x);for(let $=0;$<Math.abs(F-H);$++){const Z="A"===w(T,m)?-1:1;x.buffer.lines.get(F+Z*$)?.isWrapped&&P++}return P}(c,f,g),M(w(c,f),d))}function b(c,f){let g=0,d=f.buffer.lines.get(c),p=d?.isWrapped;for(;p&&c>=0&&c<f.rows;)g++,d=f.buffer.lines.get(--c),p=d?.isWrapped;return g}function w(c,f){return c>f?"A":"B"}function I(c,f,g,d,p,S){let D=c,T=f,m="";for(;D!==g||T!==d;)D+=p?1:-1,p&&D>S.cols-1?(m+=S.buffer.translateBufferLineToString(T,!1,c,D),D=0,c=0,T++):!p&&D<0&&(m+=S.buffer.translateBufferLineToString(T,!1,0,c+1),D=S.cols-1,c=D,T--);return m+S.buffer.translateBufferLineToString(T,!1,c,D)}function M(c,f){return y.C0.ESC+(f?"O":"[")+c}function C(c,f){c=Math.floor(c);let g="";for(let d=0;d<c;d++)g+=f;return g}h.moveToCellSequence=function(c,f,g,d){const p=g.buffer.x,S=g.buffer.y;if(!g.buffer.hasScrollback)return m=p,(0===E(x=S,f,H=g,$=d).length?"":C(I(m,x,m,x-b(x,H),!1,H).length,M("D",$)))+E(S,f,g,d)+function(m,x,P,F,H,$){let Z;Z=E(x,F,H,$).length>0?F-b(F,H):x;const re=F,oe=function(R,L,j,N,te,ue){let De;return De=E(j,N,te,ue).length>0?N-b(N,te):L,R<j&&De<=N||R>=j&&De<N?"C":"D"}(m,x,P,F,H,$);return C(I(m,Z,P,re,"C"===oe,H).length,M(oe,$))}(p,S,c,f,g,d);var m,x,H,$;let D;if(S===f)return D=p>c?"D":"C",C(Math.abs(p-c),M(D,d));D=S>f?"D":"C";const T=Math.abs(S-f);return C(function(m,x){return x.cols-m}(S>f?c:p,g)+(T-1)*g.cols+1+((S>f?p:c)-1),M(D,d))}},1296:function(Q,h,v){var y=this&&this.__decorate||function(m,x,P,F){var H,$=arguments.length,Z=$<3?x:null===F?F=Object.getOwnPropertyDescriptor(x,P):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(m,x,P,F);else for(var re=m.length-1;re>=0;re--)(H=m[re])&&(Z=($<3?H(Z):$>3?H(x,P,Z):H(x,P))||Z);return $>3&&Z&&Object.defineProperty(x,P,Z),Z},E=this&&this.__param||function(m,x){return function(P,F){x(P,F,m)}};Object.defineProperty(h,"__esModule",{value:!0}),h.DomRenderer=void 0;const b=v(9631),w=v(3787),I=v(2223),M=v(6171),C=v(4725),c=v(8055),f=v(8460),g=v(844),d=v(2585),p="xterm-dom-renderer-owner-",S="xterm-focus";let D=1,T=class extends g.Disposable{constructor(m,x,P,F,H,$,Z,re,oe,R){super(),this._element=m,this._screenElement=x,this._viewportElement=P,this._linkifier2=F,this._charSizeService=$,this._optionsService=Z,this._bufferService=re,this._coreBrowserService=oe,this._terminalClass=D++,this._rowElements=[],this._cellToRowElements=[],this.onRequestRedraw=this.register(new f.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add("xterm-rows"),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add("xterm-selection"),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,M.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(R.onChangeColors(L=>this._injectCss(L))),this._injectCss(R.colors),this._rowFactory=H.createInstance(w.DomRendererRowFactory,document),this._element.classList.add(p+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(L=>this._handleLinkHover(L))),this.register(this._linkifier2.onHideLinkUnderline(L=>this._handleLinkLeave(L))),this.register((0,g.toDisposable)(()=>{this._element.classList.remove(p+this._terminalClass),(0,b.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement)}))}_updateDimensions(){const m=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*m,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*m),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/m),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/m),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const P of this._rowElements)P.style.width=`${this.dimensions.css.canvas.width}px`,P.style.height=`${this.dimensions.css.cell.height}px`,P.style.lineHeight=`${this.dimensions.css.cell.height}px`,P.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.textContent=`${this._terminalSelector} .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: ${this.dimensions.css.cell.width}px}`,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(m){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let x=`${this._terminalSelector} .xterm-rows { color: ${m.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px;}`;x+=`${this._terminalSelector} span:not(.${w.BOLD_CLASS}) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.${w.BOLD_CLASS} { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.${w.ITALIC_CLASS} { font-style: italic;}`,x+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",x+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${m.cursor.css};  color: ${m.cursorAccent.css}; } 50% {  background-color: ${m.cursorAccent.css};  color: ${m.cursor.css}; }}`,x+=`${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${w.CURSOR_CLASS}.${w.CURSOR_STYLE_BLOCK_CLASS} { outline: 1px solid ${m.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .xterm-rows.xterm-focus .${w.CURSOR_CLASS}.${w.CURSOR_BLINK_CLASS}:not(.${w.CURSOR_STYLE_BLOCK_CLASS}) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${w.CURSOR_CLASS}.${w.CURSOR_BLINK_CLASS}.${w.CURSOR_STYLE_BLOCK_CLASS} { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${w.CURSOR_CLASS}.${w.CURSOR_STYLE_BLOCK_CLASS} { background-color: ${m.cursor.css}; color: ${m.cursorAccent.css};}${this._terminalSelector} .xterm-rows .${w.CURSOR_CLASS}.${w.CURSOR_STYLE_BAR_CLASS} { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${m.cursor.css} inset;}${this._terminalSelector} .xterm-rows .${w.CURSOR_CLASS}.${w.CURSOR_STYLE_UNDERLINE_CLASS} { box-shadow: 0 -1px 0 ${m.cursor.css} inset;}`,x+=`${this._terminalSelector} .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .xterm-selection div { position: absolute; background-color: ${m.selectionBackgroundOpaque.css};}${this._terminalSelector} .xterm-selection div { position: absolute; background-color: ${m.selectionInactiveBackgroundOpaque.css};}`;for(const[P,F]of m.ansi.entries())x+=`${this._terminalSelector} .xterm-fg-${P} { color: ${F.css}; }${this._terminalSelector} .xterm-bg-${P} { background-color: ${F.css}; }`;x+=`${this._terminalSelector} .xterm-fg-${I.INVERTED_DEFAULT_COLOR} { color: ${c.color.opaque(m.background).css}; }${this._terminalSelector} .xterm-bg-${I.INVERTED_DEFAULT_COLOR} { background-color: ${m.foreground.css}; }`,this._themeStyleElement.textContent=x}handleDevicePixelRatioChange(){this._updateDimensions()}_refreshRowElements(m,x){for(let P=this._rowElements.length;P<=x;P++){const F=document.createElement("div");this._rowContainer.appendChild(F),this._rowElements.push(F)}for(;this._rowElements.length>x;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(m,x){this._refreshRowElements(m,x),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions()}handleBlur(){this._rowContainer.classList.remove(S)}handleFocus(){this._rowContainer.classList.add(S)}handleSelectionChanged(m,x,P){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.handleSelectionChanged(m,x,P),this.renderRows(0,this._bufferService.rows-1),!m||!x)return;const F=m[1]-this._bufferService.buffer.ydisp,H=x[1]-this._bufferService.buffer.ydisp,$=Math.max(F,0),Z=Math.min(H,this._bufferService.rows-1);if($>=this._bufferService.rows||Z<0)return;const re=document.createDocumentFragment();if(P){const oe=m[0]>x[0];re.appendChild(this._createSelectionElement($,oe?x[0]:m[0],oe?m[0]:x[0],Z-$+1))}else re.appendChild(this._createSelectionElement($,F===$?m[0]:0,$===H?x[0]:this._bufferService.cols)),re.appendChild(this._createSelectionElement($+1,0,this._bufferService.cols,Z-$-1)),$!==Z&&re.appendChild(this._createSelectionElement(Z,0,H===Z?x[0]:this._bufferService.cols));this._selectionContainer.appendChild(re)}_createSelectionElement(m,x,P,F=1){const H=document.createElement("div");return H.style.height=F*this.dimensions.css.cell.height+"px",H.style.top=m*this.dimensions.css.cell.height+"px",H.style.left=x*this.dimensions.css.cell.width+"px",H.style.width=this.dimensions.css.cell.width*(P-x)+"px",H}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions()}clear(){for(const m of this._rowElements)m.replaceChildren()}renderRows(m,x){const P=this._bufferService.buffer.ybase+this._bufferService.buffer.y,F=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),H=this._optionsService.rawOptions.cursorBlink;for(let $=m;$<=x;$++){const Z=this._rowElements[$],re=$+this._bufferService.buffer.ydisp,oe=this._bufferService.buffer.lines.get(re),R=this._optionsService.rawOptions.cursorStyle;this._cellToRowElements[$]&&this._cellToRowElements[$].length===this._bufferService.cols||(this._cellToRowElements[$]=new Int16Array(this._bufferService.cols)),Z.replaceChildren(this._rowFactory.createRow(oe,re,re===P,R,F,H,this.dimensions.css.cell.width,this._bufferService.cols,this._cellToRowElements[$]))}}get _terminalSelector(){return`.${p}${this._terminalClass}`}_handleLinkHover(m){this._setCellUnderline(m.x1,m.x2,m.y1,m.y2,m.cols,!0)}_handleLinkLeave(m){this._setCellUnderline(m.x1,m.x2,m.y1,m.y2,m.cols,!1)}_setCellUnderline(m,x,P,F,H,$){if(x=this._cellToRowElements[F][x],-1!==(m=this._cellToRowElements[P][m])&&-1!==x)for(;m!==x||P!==F;){const Z=this._rowElements[P];if(!Z)return;const re=Z.children[m];re&&(re.style.textDecoration=$?"underline":"none"),++m>=H&&(m=0,P++)}}};T=y([E(4,d.IInstantiationService),E(5,C.ICharSizeService),E(6,d.IOptionsService),E(7,d.IBufferService),E(8,C.ICoreBrowserService),E(9,C.IThemeService)],T),h.DomRenderer=T},3787:function(Q,h,v){var y=this&&this.__decorate||function(D,T,m,x){var P,F=arguments.length,H=F<3?T:null===x?x=Object.getOwnPropertyDescriptor(T,m):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(D,T,m,x);else for(var $=D.length-1;$>=0;$--)(P=D[$])&&(H=(F<3?P(H):F>3?P(T,m,H):P(T,m))||H);return F>3&&H&&Object.defineProperty(T,m,H),H},E=this&&this.__param||function(D,T){return function(m,x){T(m,x,D)}};Object.defineProperty(h,"__esModule",{value:!0}),h.DomRendererRowFactory=h.CURSOR_STYLE_UNDERLINE_CLASS=h.CURSOR_STYLE_BAR_CLASS=h.CURSOR_STYLE_BLOCK_CLASS=h.CURSOR_BLINK_CLASS=h.CURSOR_CLASS=h.STRIKETHROUGH_CLASS=h.UNDERLINE_CLASS=h.ITALIC_CLASS=h.DIM_CLASS=h.BOLD_CLASS=void 0;const b=v(2223),w=v(643),I=v(511),M=v(2585),C=v(8055),c=v(4725),f=v(4269),g=v(6171),d=v(3734);h.BOLD_CLASS="xterm-bold",h.DIM_CLASS="xterm-dim",h.ITALIC_CLASS="xterm-italic",h.UNDERLINE_CLASS="xterm-underline",h.STRIKETHROUGH_CLASS="xterm-strikethrough",h.CURSOR_CLASS="xterm-cursor",h.CURSOR_BLINK_CLASS="xterm-cursor-blink",h.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",h.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",h.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";let p=class{constructor(D,T,m,x,P,F,H){this._document=D,this._characterJoinerService=T,this._optionsService=m,this._coreBrowserService=x,this._coreService=P,this._decorationService=F,this._themeService=H,this._workCell=new I.CellData,this._columnSelectMode=!1}handleSelectionChanged(D,T,m){this._selectionStart=D,this._selectionEnd=T,this._columnSelectMode=m}createRow(D,T,m,x,P,F,H,$,Z){const re=this._document.createDocumentFragment(),oe=this._characterJoinerService.getJoinedCharacters(T);let R=0;for(let te=Math.min(D.length,$)-1;te>=0;te--)if(D.loadCell(te,this._workCell).getCode()!==w.NULL_CELL_CODE||m&&te===P){R=te+1;break}const L=this._themeService.colors;let j=-1,N=0;for(;N<R;N++){D.loadCell(N,this._workCell);let te=this._workCell.getWidth();if(0===te){Z[N]=j;continue}let ue=!1,De=N,ne=this._workCell;if(oe.length>0&&N===oe[0][0]){ue=!0;const qe=oe.shift();ne=new f.JoinedCellData(this._workCell,D.translateToString(!0,qe[0],qe[1]),qe[1]-qe[0]),De=qe[1]-1,te=ne.getWidth()}const ae=this._document.createElement("span");if(te>1&&(ae.style.width=H*te+"px"),ue&&(ae.style.display="inline",P>=N&&P<=De&&(P=N)),!this._coreService.isCursorHidden&&m&&N===P)switch(ae.classList.add(h.CURSOR_CLASS),F&&ae.classList.add(h.CURSOR_BLINK_CLASS),x){case"bar":ae.classList.add(h.CURSOR_STYLE_BAR_CLASS);break;case"underline":ae.classList.add(h.CURSOR_STYLE_UNDERLINE_CLASS);break;default:ae.classList.add(h.CURSOR_STYLE_BLOCK_CLASS)}if(ne.isBold()&&ae.classList.add(h.BOLD_CLASS),ne.isItalic()&&ae.classList.add(h.ITALIC_CLASS),ne.isDim()&&ae.classList.add(h.DIM_CLASS),ae.textContent=ne.isInvisible()?w.WHITESPACE_CELL_CHAR:ne.getChars()||w.WHITESPACE_CELL_CHAR,ne.isUnderline()&&(ae.classList.add(`${h.UNDERLINE_CLASS}-${ne.extended.underlineStyle}`)," "===ae.textContent&&(ae.textContent="\xa0"),!ne.isUnderlineColorDefault()))if(ne.isUnderlineColorRGB())ae.style.textDecorationColor=`rgb(${d.AttributeData.toColorRGB(ne.getUnderlineColor()).join(",")})`;else{let qe=ne.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ne.isBold()&&qe<8&&(qe+=8),ae.style.textDecorationColor=L.ansi[qe].css}ne.isStrikethrough()&&ae.classList.add(h.STRIKETHROUGH_CLASS);let U=ne.getFgColor(),V=ne.getFgColorMode(),z=ne.getBgColor(),q=ne.getBgColorMode();const ie=!!ne.isInverse();if(ie){const qe=U;U=z,z=qe;const yf=V;V=q,q=yf}let de,le,gt=!1;this._decorationService.forEachDecorationAtCell(N,T,void 0,qe=>{"top"!==qe.options.layer&&gt||(qe.backgroundColorRGB&&(q=50331648,z=qe.backgroundColorRGB.rgba>>8&16777215,de=qe.backgroundColorRGB),qe.foregroundColorRGB&&(V=50331648,U=qe.foregroundColorRGB.rgba>>8&16777215,le=qe.foregroundColorRGB),gt="top"===qe.options.layer)});const mt=this._isCellInSelection(N,T);let _t;switch(gt||L.selectionForeground&&mt&&(V=50331648,U=L.selectionForeground.rgba>>8&16777215,le=L.selectionForeground),mt&&(de=this._coreBrowserService.isFocused?L.selectionBackgroundOpaque:L.selectionInactiveBackgroundOpaque,gt=!0),gt&&ae.classList.add("xterm-decoration-top"),q){case 16777216:case 33554432:_t=L.ansi[z],ae.classList.add(`xterm-bg-${z}`);break;case 50331648:_t=C.rgba.toColor(z>>16,z>>8&255,255&z),this._addStyle(ae,`background-color:#${S((z>>>0).toString(16),"0",6)}`);break;default:ie?(_t=L.foreground,ae.classList.add(`xterm-bg-${b.INVERTED_DEFAULT_COLOR}`)):_t=L.background}switch(de||ne.isDim()&&(de=C.color.multiplyOpacity(_t,.5)),V){case 16777216:case 33554432:ne.isBold()&&U<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(U+=8),this._applyMinimumContrast(ae,_t,L.ansi[U],ne,de,void 0)||ae.classList.add(`xterm-fg-${U}`);break;case 50331648:const qe=C.rgba.toColor(U>>16&255,U>>8&255,255&U);this._applyMinimumContrast(ae,_t,qe,ne,de,le)||this._addStyle(ae,`color:#${S(U.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(ae,_t,L.foreground,ne,de,void 0)||ie&&ae.classList.add(`xterm-fg-${b.INVERTED_DEFAULT_COLOR}`)}re.appendChild(ae),Z[N]=++j,N=De}return N<$-1&&Z.subarray(N).fill(++j),re}_applyMinimumContrast(D,T,m,x,P,F){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,g.excludeFromContrastRatioDemands)(x.getCode()))return!1;let H;return P||F||(H=this._themeService.colors.contrastCache.getColor(T.rgba,m.rgba)),void 0===H&&(H=C.color.ensureContrastRatio(P||T,F||m,this._optionsService.rawOptions.minimumContrastRatio),this._themeService.colors.contrastCache.setColor((P||T).rgba,(F||m).rgba,H??null)),!!H&&(this._addStyle(D,`color:${H.css}`),!0)}_addStyle(D,T){D.setAttribute("style",`${D.getAttribute("style")||""}${T};`)}_isCellInSelection(D,T){const m=this._selectionStart,x=this._selectionEnd;return!(!m||!x)&&(this._columnSelectMode?m[0]<=x[0]?D>=m[0]&&T>=m[1]&&D<x[0]&&T<=x[1]:D<m[0]&&T>=m[1]&&D>=x[0]&&T<=x[1]:T>m[1]&&T<x[1]||m[1]===x[1]&&T===m[1]&&D>=m[0]&&D<x[0]||m[1]<x[1]&&T===x[1]&&D<x[0]||m[1]<x[1]&&T===m[1]&&D>=m[0])}};function S(D,T,m){for(;D.length<m;)D=T+D;return D}p=y([E(1,c.ICharacterJoinerService),E(2,M.IOptionsService),E(3,c.ICoreBrowserService),E(4,M.ICoreService),E(5,M.IDecorationService),E(6,c.IThemeService)],p),h.DomRendererRowFactory=p},2223:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TEXT_BASELINE=h.DIM_OPACITY=h.INVERTED_DEFAULT_COLOR=void 0;const y=v(6114);h.INVERTED_DEFAULT_COLOR=257,h.DIM_OPACITY=.5,h.TEXT_BASELINE=y.isFirefox||y.isLegacyEdge?"bottom":"ideographic"},6171:(Q,h)=>{function v(y){return 57508<=y&&y<=57558}Object.defineProperty(h,"__esModule",{value:!0}),h.createRenderDimensions=h.excludeFromContrastRatioDemands=h.isRestrictedPowerlineGlyph=h.isPowerlineGlyph=h.throwIfFalsy=void 0,h.throwIfFalsy=function(y){if(!y)throw new Error("value must not be falsy");return y},h.isPowerlineGlyph=v,h.isRestrictedPowerlineGlyph=function(y){return 57520<=y&&y<=57527},h.excludeFromContrastRatioDemands=function(y){return v(y)||9472<=(E=y)&&E<=9631;var E},h.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.SelectionModel=void 0,h.SelectionModel=class{constructor(v){this._bufferService=v,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const v=this.selectionStart[0]+this.selectionStartLength;return v>this._bufferService.cols?v%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(v/this._bufferService.cols)-1]:[v%this._bufferService.cols,this.selectionStart[1]+Math.floor(v/this._bufferService.cols)]:[v,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const v=this.selectionStart[0]+this.selectionStartLength;return v>this._bufferService.cols?[v%this._bufferService.cols,this.selectionStart[1]+Math.floor(v/this._bufferService.cols)]:[Math.max(v,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const v=this.selectionStart,y=this.selectionEnd;return!(!v||!y)&&(v[1]>y[1]||v[1]===y[1]&&v[0]>y[0])}handleTrim(v){return this.selectionStart&&(this.selectionStart[1]-=v),this.selectionEnd&&(this.selectionEnd[1]-=v),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(Q,h,v){var y=this&&this.__decorate||function(c,f,g,d){var p,S=arguments.length,D=S<3?f:null===d?d=Object.getOwnPropertyDescriptor(f,g):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(c,f,g,d);else for(var T=c.length-1;T>=0;T--)(p=c[T])&&(D=(S<3?p(D):S>3?p(f,g,D):p(f,g))||D);return S>3&&D&&Object.defineProperty(f,g,D),D},E=this&&this.__param||function(c,f){return function(g,d){f(g,d,c)}};Object.defineProperty(h,"__esModule",{value:!0}),h.CharSizeService=void 0;const b=v(2585),w=v(8460),I=v(844);let M=class extends I.Disposable{constructor(c,f,g){super(),this._optionsService=g,this.width=0,this.height=0,this._onCharSizeChange=this.register(new w.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new C(c,f,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){const c=this._measureStrategy.measure();c.width===this.width&&c.height===this.height||(this.width=c.width,this.height=c.height,this._onCharSizeChange.fire())}};M=y([E(2,b.IOptionsService)],M),h.CharSizeService=M;class C{constructor(f,g,d){this._document=f,this._parentElement=g,this._optionsService=d,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const f=this._measureElement.getBoundingClientRect();return 0!==f.width&&0!==f.height&&(this._result.width=f.width,this._result.height=Math.ceil(f.height)),this._result}}},4269:function(Q,h,v){var y=this&&this.__decorate||function(f,g,d,p){var S,D=arguments.length,T=D<3?g:null===p?p=Object.getOwnPropertyDescriptor(g,d):p;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(f,g,d,p);else for(var m=f.length-1;m>=0;m--)(S=f[m])&&(T=(D<3?S(T):D>3?S(g,d,T):S(g,d))||T);return D>3&&T&&Object.defineProperty(g,d,T),T},E=this&&this.__param||function(f,g){return function(d,p){g(d,p,f)}};Object.defineProperty(h,"__esModule",{value:!0}),h.CharacterJoinerService=h.JoinedCellData=void 0;const b=v(3734),w=v(643),I=v(511),M=v(2585);h.JoinedCellData=class C extends b.AttributeData{constructor(g,d,p){super(),this.content=0,this.combinedData="",this.fg=g.fg,this.bg=g.bg,this.combinedData=d,this._width=p}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(g){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}};let c=class Sb{constructor(g){this._bufferService=g,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new I.CellData}register(g){const d={id:this._nextCharacterJoinerId++,handler:g};return this._characterJoiners.push(d),d.id}deregister(g){for(let d=0;d<this._characterJoiners.length;d++)if(this._characterJoiners[d].id===g)return this._characterJoiners.splice(d,1),!0;return!1}getJoinedCharacters(g){if(0===this._characterJoiners.length)return[];const d=this._bufferService.buffer.lines.get(g);if(!d||0===d.length)return[];const p=[],S=d.translateToString(!0);let D=0,T=0,m=0,x=d.getFg(0),P=d.getBg(0);for(let F=0;F<d.getTrimmedLength();F++)if(d.loadCell(F,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==x||this._workCell.bg!==P){if(F-D>1){const H=this._getJoinedRanges(S,m,T,d,D);for(let $=0;$<H.length;$++)p.push(H[$])}D=F,m=T,x=this._workCell.fg,P=this._workCell.bg}T+=this._workCell.getChars().length||w.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-D>1){const F=this._getJoinedRanges(S,m,T,d,D);for(let H=0;H<F.length;H++)p.push(F[H])}return p}_getJoinedRanges(g,d,p,S,D){const T=g.substring(d,p);let m=[];try{m=this._characterJoiners[0].handler(T)}catch(x){console.error(x)}for(let x=1;x<this._characterJoiners.length;x++)try{const P=this._characterJoiners[x].handler(T);for(let F=0;F<P.length;F++)Sb._mergeRanges(m,P[F])}catch(P){console.error(P)}return this._stringRangesToCellRanges(m,S,D),m}_stringRangesToCellRanges(g,d,p){let S=0,D=!1,T=0,m=g[S];if(m){for(let x=p;x<this._bufferService.cols;x++){const P=d.getWidth(x),F=d.getString(x).length||w.WHITESPACE_CELL_CHAR.length;if(0!==P){if(!D&&m[0]<=T&&(m[0]=x,D=!0),m[1]<=T){if(m[1]=x,m=g[++S],!m)break;m[0]<=T?(m[0]=x,D=!0):D=!1}T+=F}}m&&(m[1]=this._bufferService.cols)}}static _mergeRanges(g,d){let p=!1;for(let S=0;S<g.length;S++){const D=g[S];if(p){if(d[1]<=D[0])return g[S-1][1]=d[1],g;if(d[1]<=D[1])return g[S-1][1]=Math.max(d[1],D[1]),g.splice(S,1),g;g.splice(S,1),S--}else{if(d[1]<=D[0])return g.splice(S,0,d),g;if(d[1]<=D[1])return D[0]=Math.min(d[0],D[0]),g;d[0]<D[1]&&(D[0]=Math.min(d[0],D[0]),p=!0)}}return p?g[g.length-1][1]=d[1]:g.push(d),g}};c=y([E(0,M.IBufferService)],c),h.CharacterJoinerService=c},5114:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CoreBrowserService=void 0,h.CoreBrowserService=class{constructor(v,y){this._textarea=v,this.window=y,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return void 0===this._cachedIsFocused&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(Q,h,v){var y=this&&this.__decorate||function(M,C,c,f){var g,d=arguments.length,p=d<3?C:null===f?f=Object.getOwnPropertyDescriptor(C,c):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(M,C,c,f);else for(var S=M.length-1;S>=0;S--)(g=M[S])&&(p=(d<3?g(p):d>3?g(C,c,p):g(C,c))||p);return d>3&&p&&Object.defineProperty(C,c,p),p},E=this&&this.__param||function(M,C){return function(c,f){C(c,f,M)}};Object.defineProperty(h,"__esModule",{value:!0}),h.MouseService=void 0;const b=v(4725),w=v(9806);let I=class{constructor(M,C){this._renderService=M,this._charSizeService=C}getCoords(M,C,c,f,g){return(0,w.getCoords)(window,M,C,c,f,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,g)}getMouseReportCoords(M,C){const c=(0,w.getCoordsRelativeToElement)(window,M,C);if(!(!this._charSizeService.hasValidSize||c[0]<0||c[1]<0||c[0]>=this._renderService.dimensions.css.canvas.width||c[1]>=this._renderService.dimensions.css.canvas.height))return{col:Math.floor(c[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(c[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(c[0]),y:Math.floor(c[1])}}};I=y([E(0,b.IRenderService),E(1,b.ICharSizeService)],I),h.MouseService=I},3230:function(Q,h,v){var y=this&&this.__decorate||function(p,S,D,T){var m,x=arguments.length,P=x<3?S:null===T?T=Object.getOwnPropertyDescriptor(S,D):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(p,S,D,T);else for(var F=p.length-1;F>=0;F--)(m=p[F])&&(P=(x<3?m(P):x>3?m(S,D,P):m(S,D))||P);return x>3&&P&&Object.defineProperty(S,D,P),P},E=this&&this.__param||function(p,S){return function(D,T){S(D,T,p)}};Object.defineProperty(h,"__esModule",{value:!0}),h.RenderService=void 0;const b=v(6193),w=v(8460),I=v(844),M=v(5596),C=v(3656),c=v(2585),f=v(4725),g=v(7226);let d=class extends I.Disposable{constructor(p,S,D,T,m,x,P,F){if(super(),this._rowCount=p,this._charSizeService=T,this._pausedResizeTask=new g.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new w.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new w.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new w.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new w.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this.register({dispose:()=>{var H;return null===(H=this._renderer)||void 0===H?void 0:H.dispose()}}),this._renderDebouncer=new b.RenderDebouncer(P.window,(H,$)=>this._renderRows(H,$)),this.register(this._renderDebouncer),this._screenDprMonitor=new M.ScreenDprMonitor(P.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(x.onResize(()=>this._fullRefresh())),this.register(x.buffers.onBufferActivate(()=>{var H;return null===(H=this._renderer)||void 0===H?void 0:H.clear()})),this.register(D.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(m.onDecorationRegistered(()=>this._fullRefresh())),this.register(m.onDecorationRemoved(()=>this._fullRefresh())),this.register(D.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(x.cols,x.rows),this._fullRefresh()})),this.register(D.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(x.buffer.y,x.buffer.y,!0))),this.register((0,C.addDisposableDomListener)(P.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(F.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in P.window){const H=new P.window.IntersectionObserver($=>this._handleIntersectionChange($[$.length-1]),{threshold:0});H.observe(S),this.register({dispose:()=>H.disconnect()})}}get dimensions(){return this._renderer.dimensions}_handleIntersectionChange(p){this._isPaused=void 0===p.isIntersecting?0===p.intersectionRatio:!p.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(p,S,D=!1){this._isPaused?this._needsFullRefresh=!0:(D||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(p,S,this._rowCount))}_renderRows(p,S){this._renderer&&(this._renderer.renderRows(p,S),this._needsSelectionRefresh&&(this._renderer.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:p,end:S}),this._onRender.fire({start:p,end:S}),this._isNextRenderRedrawOnly=!0)}resize(p,S){this._rowCount=S,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer&&(this._renderer.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions))}hasRenderer(){return!!this._renderer}setRenderer(p){var S;null===(S=this._renderer)||void 0===S||S.dispose(),this._renderer=p,this._renderer.onRequestRedraw(D=>this.refreshRows(D.start,D.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(p){return this._renderDebouncer.addRefreshCallback(p)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var p,S;this._renderer&&(null===(S=(p=this._renderer).clearTextureAtlas)||void 0===S||S.call(p),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer&&(this._renderer.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(p,S){this._renderer&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.handleResize(p,S)):this._renderer.handleResize(p,S),this._fullRefresh())}handleCharSizeChanged(){var p;null===(p=this._renderer)||void 0===p||p.handleCharSizeChanged()}handleBlur(){var p;null===(p=this._renderer)||void 0===p||p.handleBlur()}handleFocus(){var p;null===(p=this._renderer)||void 0===p||p.handleFocus()}handleSelectionChanged(p,S,D){var T;this._selectionState.start=p,this._selectionState.end=S,this._selectionState.columnSelectMode=D,null===(T=this._renderer)||void 0===T||T.handleSelectionChanged(p,S,D)}handleCursorMove(){var p;null===(p=this._renderer)||void 0===p||p.handleCursorMove()}clear(){var p;null===(p=this._renderer)||void 0===p||p.clear()}};d=y([E(2,c.IOptionsService),E(3,f.ICharSizeService),E(4,c.IDecorationService),E(5,c.IBufferService),E(6,f.ICoreBrowserService),E(7,f.IThemeService)],d),h.RenderService=d},9312:function(Q,h,v){var y=this&&this.__decorate||function(m,x,P,F){var H,$=arguments.length,Z=$<3?x:null===F?F=Object.getOwnPropertyDescriptor(x,P):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(m,x,P,F);else for(var re=m.length-1;re>=0;re--)(H=m[re])&&(Z=($<3?H(Z):$>3?H(x,P,Z):H(x,P))||Z);return $>3&&Z&&Object.defineProperty(x,P,Z),Z},E=this&&this.__param||function(m,x){return function(P,F){x(P,F,m)}};Object.defineProperty(h,"__esModule",{value:!0}),h.SelectionService=void 0;const b=v(6114),w=v(456),I=v(511),M=v(8460),C=v(4725),c=v(2585),f=v(9806),g=v(9504),d=v(844),p=v(4841),S=String.fromCharCode(160),D=new RegExp(S,"g");let T=class extends d.Disposable{constructor(m,x,P,F,H,$,Z,re,oe){super(),this._element=m,this._screenElement=x,this._linkifier=P,this._bufferService=F,this._coreService=H,this._mouseService=$,this._optionsService=Z,this._renderService=re,this._coreBrowserService=oe,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new I.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new M.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new M.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new M.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new M.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=R=>this._handleMouseMove(R),this._mouseUpListener=R=>this._handleMouseUp(R),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(R=>this._handleTrim(R)),this.register(this._bufferService.buffers.onBufferActivate(R=>this._handleBufferActivate(R))),this.enable(),this._model=new w.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,d.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const m=this._model.finalSelectionStart,x=this._model.finalSelectionEnd;return!(!m||!x||m[0]===x[0]&&m[1]===x[1])}get selectionText(){const m=this._model.finalSelectionStart,x=this._model.finalSelectionEnd;if(!m||!x)return"";const P=this._bufferService.buffer,F=[];if(3===this._activeSelectionMode){if(m[0]===x[0])return"";const H=m[0]<x[0]?m[0]:x[0],$=m[0]<x[0]?x[0]:m[0];for(let Z=m[1];Z<=x[1];Z++){const re=P.translateBufferLineToString(Z,!0,H,$);F.push(re)}}else{F.push(P.translateBufferLineToString(m[1],!0,m[0],m[1]===x[1]?x[0]:void 0));for(let $=m[1]+1;$<=x[1]-1;$++){const Z=P.lines.get($),re=P.translateBufferLineToString($,!0);Z?.isWrapped?F[F.length-1]+=re:F.push(re)}if(m[1]!==x[1]){const $=P.lines.get(x[1]),Z=P.translateBufferLineToString(x[1],!0,0,x[0]);$&&$.isWrapped?F[F.length-1]+=Z:F.push(Z)}}return F.map(H=>H.replace(D," ")).join(b.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(m){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),b.isLinux&&m&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(m){const x=this._getMouseBufferCoords(m),P=this._model.finalSelectionStart,F=this._model.finalSelectionEnd;return!!(P&&F&&x)&&this._areCoordsInSelection(x,P,F)}isCellInSelection(m,x){const P=this._model.finalSelectionStart,F=this._model.finalSelectionEnd;return!(!P||!F)&&this._areCoordsInSelection([m,x],P,F)}_areCoordsInSelection(m,x,P){return m[1]>x[1]&&m[1]<P[1]||x[1]===P[1]&&m[1]===x[1]&&m[0]>=x[0]&&m[0]<P[0]||x[1]<P[1]&&m[1]===P[1]&&m[0]<P[0]||x[1]<P[1]&&m[1]===x[1]&&m[0]>=x[0]}_selectWordAtCursor(m,x){var P,F;const H=null===(F=null===(P=this._linkifier.currentLink)||void 0===P?void 0:P.link)||void 0===F?void 0:F.range;if(H)return this._model.selectionStart=[H.start.x-1,H.start.y-1],this._model.selectionStartLength=(0,p.getRangeLength)(H,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const $=this._getMouseBufferCoords(m);return!!$&&(this._selectWordAt($,x),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(m,x){this._model.clearSelection(),m=Math.max(m,0),x=Math.min(x,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,m],this._model.selectionEnd=[this._bufferService.cols,x],this.refresh(),this._onSelectionChange.fire()}_handleTrim(m){this._model.handleTrim(m)&&this.refresh()}_getMouseBufferCoords(m){const x=this._mouseService.getCoords(m,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(x)return x[0]--,x[1]--,x[1]+=this._bufferService.buffer.ydisp,x}_getMouseEventScrollAmount(m){let x=(0,f.getCoordsRelativeToElement)(this._coreBrowserService.window,m,this._screenElement)[1];const P=this._renderService.dimensions.css.canvas.height;return x>=0&&x<=P?0:(x>P&&(x-=P),x=Math.min(Math.max(x,-50),50),x/=50,x/Math.abs(x)+Math.round(14*x))}shouldForceSelection(m){return b.isMac?m.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:m.shiftKey}handleMouseDown(m){if(this._mouseDownTimeStamp=m.timeStamp,(2!==m.button||!this.hasSelection)&&0===m.button){if(!this._enabled){if(!this.shouldForceSelection(m))return;m.stopPropagation()}m.preventDefault(),this._dragScrollAmount=0,this._enabled&&m.shiftKey?this._handleIncrementalClick(m):1===m.detail?this._handleSingleClick(m):2===m.detail?this._handleDoubleClick(m):3===m.detail&&this._handleTripleClick(m),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(m){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(m))}_handleSingleClick(m){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(m)?3:0,this._model.selectionStart=this._getMouseBufferCoords(m),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const x=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);x&&x.length!==this._model.selectionStart[0]&&0===x.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_handleDoubleClick(m){this._selectWordAtCursor(m,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(m){const x=this._getMouseBufferCoords(m);x&&(this._activeSelectionMode=2,this._selectLineAt(x[1]))}shouldColumnSelect(m){return m.altKey&&!(b.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(m){if(m.stopImmediatePropagation(),!this._model.selectionStart)return;const x=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(m),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(m),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const P=this._bufferService.buffer;if(this._model.selectionEnd[1]<P.lines.length){const F=P.lines.get(this._model.selectionEnd[1]);F&&0===F.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}x&&x[0]===this._model.selectionEnd[0]&&x[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const m=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(m.ydisp+this._bufferService.rows,m.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=m.ydisp),this.refresh()}}_handleMouseUp(m){const x=m.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&x<500&&m.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const P=this._mouseService.getCoords(m,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(P&&void 0!==P[0]&&void 0!==P[1]){const F=(0,g.moveToCellSequence)(P[0]-1,P[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(F,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const m=this._model.finalSelectionStart,x=this._model.finalSelectionEnd,P=!(!m||!x||m[0]===x[0]&&m[1]===x[1]);P?m&&x&&(this._oldSelectionStart&&this._oldSelectionEnd&&m[0]===this._oldSelectionStart[0]&&m[1]===this._oldSelectionStart[1]&&x[0]===this._oldSelectionEnd[0]&&x[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(m,x,P)):this._oldHasSelection&&this._fireOnSelectionChange(m,x,P)}_fireOnSelectionChange(m,x,P){this._oldSelectionStart=m,this._oldSelectionEnd=x,this._oldHasSelection=P,this._onSelectionChange.fire()}_handleBufferActivate(m){this.clearSelection(),this._trimListener.dispose(),this._trimListener=m.activeBuffer.lines.onTrim(x=>this._handleTrim(x))}_convertViewportColToCharacterIndex(m,x){let P=x;for(let F=0;x>=F;F++){const H=m.loadCell(F,this._workCell).getChars().length;0===this._workCell.getWidth()?P--:H>1&&x!==F&&(P+=H-1)}return P}setSelection(m,x,P){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[m,x],this._model.selectionStartLength=P,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(m){this._isClickInSelection(m)||(this._selectWordAtCursor(m,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(m,x,P=!0,F=!0){if(m[0]>=this._bufferService.cols)return;const H=this._bufferService.buffer,$=H.lines.get(m[1]);if(!$)return;const Z=H.translateBufferLineToString(m[1],!1);let re=this._convertViewportColToCharacterIndex($,m[0]),oe=re;const R=m[0]-re;let L=0,j=0,N=0,te=0;if(" "===Z.charAt(re)){for(;re>0&&" "===Z.charAt(re-1);)re--;for(;oe<Z.length&&" "===Z.charAt(oe+1);)oe++}else{let ne=m[0],ae=m[0];0===$.getWidth(ne)&&(L++,ne--),2===$.getWidth(ae)&&(j++,ae++);const U=$.getString(ae).length;for(U>1&&(te+=U-1,oe+=U-1);ne>0&&re>0&&!this._isCharWordSeparator($.loadCell(ne-1,this._workCell));){$.loadCell(ne-1,this._workCell);const V=this._workCell.getChars().length;0===this._workCell.getWidth()?(L++,ne--):V>1&&(N+=V-1,re-=V-1),re--,ne--}for(;ae<$.length&&oe+1<Z.length&&!this._isCharWordSeparator($.loadCell(ae+1,this._workCell));){$.loadCell(ae+1,this._workCell);const V=this._workCell.getChars().length;2===this._workCell.getWidth()?(j++,ae++):V>1&&(te+=V-1,oe+=V-1),oe++,ae++}}oe++;let ue=re+R-L+N,De=Math.min(this._bufferService.cols,oe-re+L+j-N-te);if(x||""!==Z.slice(re,oe).trim()){if(P&&0===ue&&32!==$.getCodePoint(0)){const ne=H.lines.get(m[1]-1);if(ne&&$.isWrapped&&32!==ne.getCodePoint(this._bufferService.cols-1)){const ae=this._getWordAt([this._bufferService.cols-1,m[1]-1],!1,!0,!1);if(ae){const U=this._bufferService.cols-ae.start;ue-=U,De+=U}}}if(F&&ue+De===this._bufferService.cols&&32!==$.getCodePoint(this._bufferService.cols-1)){const ne=H.lines.get(m[1]+1);if(ne?.isWrapped&&32!==ne.getCodePoint(0)){const ae=this._getWordAt([0,m[1]+1],!1,!1,!0);ae&&(De+=ae.length)}}return{start:ue,length:De}}}_selectWordAt(m,x){const P=this._getWordAt(m,x);if(P){for(;P.start<0;)P.start+=this._bufferService.cols,m[1]--;this._model.selectionStart=[P.start,m[1]],this._model.selectionStartLength=P.length}}_selectToWordAt(m){const x=this._getWordAt(m,!0);if(x){let P=m[1];for(;x.start<0;)x.start+=this._bufferService.cols,P--;if(!this._model.areSelectionValuesReversed())for(;x.start+x.length>this._bufferService.cols;)x.length-=this._bufferService.cols,P++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?x.start:x.start+x.length,P]}}_isCharWordSeparator(m){return 0!==m.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(m.getChars())>=0}_selectLineAt(m){const x=this._bufferService.buffer.getWrappedRangeForLine(m),P={start:{x:0,y:x.first},end:{x:this._bufferService.cols-1,y:x.last}};this._model.selectionStart=[0,x.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,p.getRangeLength)(P,this._bufferService.cols)}};T=y([E(3,c.IBufferService),E(4,c.ICoreService),E(5,C.IMouseService),E(6,c.IOptionsService),E(7,C.IRenderService),E(8,C.ICoreBrowserService)],T),h.SelectionService=T},4725:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.IThemeService=h.ICharacterJoinerService=h.ISelectionService=h.IRenderService=h.IMouseService=h.ICoreBrowserService=h.ICharSizeService=void 0;const y=v(8343);h.ICharSizeService=(0,y.createDecorator)("CharSizeService"),h.ICoreBrowserService=(0,y.createDecorator)("CoreBrowserService"),h.IMouseService=(0,y.createDecorator)("MouseService"),h.IRenderService=(0,y.createDecorator)("RenderService"),h.ISelectionService=(0,y.createDecorator)("SelectionService"),h.ICharacterJoinerService=(0,y.createDecorator)("CharacterJoinerService"),h.IThemeService=(0,y.createDecorator)("ThemeService")},6731:function(Q,h,v){var y=this&&this.__decorate||function(T,m,x,P){var F,H=arguments.length,$=H<3?m:null===P?P=Object.getOwnPropertyDescriptor(m,x):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(T,m,x,P);else for(var Z=T.length-1;Z>=0;Z--)(F=T[Z])&&($=(H<3?F($):H>3?F(m,x,$):F(m,x))||$);return H>3&&$&&Object.defineProperty(m,x,$),$},E=this&&this.__param||function(T,m){return function(x,P){m(x,P,T)}};Object.defineProperty(h,"__esModule",{value:!0}),h.ThemeService=h.DEFAULT_ANSI_COLORS=void 0;const b=v(7239),w=v(8055),I=v(8460),M=v(844),C=v(2585),c=w.css.toColor("#ffffff"),f=w.css.toColor("#000000"),g=w.css.toColor("#ffffff"),d=w.css.toColor("#000000"),p={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};h.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const T=[w.css.toColor("#2e3436"),w.css.toColor("#cc0000"),w.css.toColor("#4e9a06"),w.css.toColor("#c4a000"),w.css.toColor("#3465a4"),w.css.toColor("#75507b"),w.css.toColor("#06989a"),w.css.toColor("#d3d7cf"),w.css.toColor("#555753"),w.css.toColor("#ef2929"),w.css.toColor("#8ae234"),w.css.toColor("#fce94f"),w.css.toColor("#729fcf"),w.css.toColor("#ad7fa8"),w.css.toColor("#34e2e2"),w.css.toColor("#eeeeec")],m=[0,95,135,175,215,255];for(let x=0;x<216;x++){const P=m[x/36%6|0],F=m[x/6%6|0],H=m[x%6];T.push({css:w.channels.toCss(P,F,H),rgba:w.channels.toRgba(P,F,H)})}for(let x=0;x<24;x++){const P=8+10*x;T.push({css:w.channels.toCss(P,P,P),rgba:w.channels.toRgba(P,P,P)})}return T})());let S=class extends M.Disposable{constructor(T){super(),this._optionsService=T,this._onChangeColors=this.register(new I.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._contrastCache=new b.ColorContrastCache,this._colors={foreground:c,background:f,cursor:g,cursorAccent:d,selectionForeground:void 0,selectionBackgroundTransparent:p,selectionBackgroundOpaque:w.color.blend(f,p),selectionInactiveBackgroundTransparent:p,selectionInactiveBackgroundOpaque:w.color.blend(f,p),ansi:h.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(T={}){const m=this._colors;if(m.foreground=D(T.foreground,c),m.background=D(T.background,f),m.cursor=D(T.cursor,g),m.cursorAccent=D(T.cursorAccent,d),m.selectionBackgroundTransparent=D(T.selectionBackground,p),m.selectionBackgroundOpaque=w.color.blend(m.background,m.selectionBackgroundTransparent),m.selectionInactiveBackgroundTransparent=D(T.selectionInactiveBackground,m.selectionBackgroundTransparent),m.selectionInactiveBackgroundOpaque=w.color.blend(m.background,m.selectionInactiveBackgroundTransparent),m.selectionForeground=T.selectionForeground?D(T.selectionForeground,w.NULL_COLOR):void 0,m.selectionForeground===w.NULL_COLOR&&(m.selectionForeground=void 0),w.color.isOpaque(m.selectionBackgroundTransparent)&&(m.selectionBackgroundTransparent=w.color.opacity(m.selectionBackgroundTransparent,.3)),w.color.isOpaque(m.selectionInactiveBackgroundTransparent)&&(m.selectionInactiveBackgroundTransparent=w.color.opacity(m.selectionInactiveBackgroundTransparent,.3)),m.ansi=h.DEFAULT_ANSI_COLORS.slice(),m.ansi[0]=D(T.black,h.DEFAULT_ANSI_COLORS[0]),m.ansi[1]=D(T.red,h.DEFAULT_ANSI_COLORS[1]),m.ansi[2]=D(T.green,h.DEFAULT_ANSI_COLORS[2]),m.ansi[3]=D(T.yellow,h.DEFAULT_ANSI_COLORS[3]),m.ansi[4]=D(T.blue,h.DEFAULT_ANSI_COLORS[4]),m.ansi[5]=D(T.magenta,h.DEFAULT_ANSI_COLORS[5]),m.ansi[6]=D(T.cyan,h.DEFAULT_ANSI_COLORS[6]),m.ansi[7]=D(T.white,h.DEFAULT_ANSI_COLORS[7]),m.ansi[8]=D(T.brightBlack,h.DEFAULT_ANSI_COLORS[8]),m.ansi[9]=D(T.brightRed,h.DEFAULT_ANSI_COLORS[9]),m.ansi[10]=D(T.brightGreen,h.DEFAULT_ANSI_COLORS[10]),m.ansi[11]=D(T.brightYellow,h.DEFAULT_ANSI_COLORS[11]),m.ansi[12]=D(T.brightBlue,h.DEFAULT_ANSI_COLORS[12]),m.ansi[13]=D(T.brightMagenta,h.DEFAULT_ANSI_COLORS[13]),m.ansi[14]=D(T.brightCyan,h.DEFAULT_ANSI_COLORS[14]),m.ansi[15]=D(T.brightWhite,h.DEFAULT_ANSI_COLORS[15]),T.extendedAnsi){const x=Math.min(m.ansi.length-16,T.extendedAnsi.length);for(let P=0;P<x;P++)m.ansi[P+16]=D(T.extendedAnsi[P],h.DEFAULT_ANSI_COLORS[P+16])}this._contrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(T){this._restoreColor(T),this._onChangeColors.fire(this.colors)}_restoreColor(T){if(void 0!==T)switch(T){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[T]=this._restoreColors.ansi[T]}else for(let m=0;m<this._restoreColors.ansi.length;++m)this._colors.ansi[m]=this._restoreColors.ansi[m]}modifyColors(T){T(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function D(T,m){if(void 0!==T)try{return w.css.toColor(T)}catch{}return m}S=y([E(0,C.IOptionsService)],S),h.ThemeService=S},6349:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CircularList=void 0;const y=v(8460),E=v(844);h.CircularList=class b extends E.Disposable{constructor(I){super(),this._maxLength=I,this.onDeleteEmitter=this.register(new y.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new y.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new y.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(I){if(this._maxLength===I)return;const M=new Array(I);for(let C=0;C<Math.min(I,this.length);C++)M[C]=this._array[this._getCyclicIndex(C)];this._array=M,this._maxLength=I,this._startIndex=0}get length(){return this._length}set length(I){if(I>this._length)for(let M=this._length;M<I;M++)this._array[M]=void 0;this._length=I}get(I){return this._array[this._getCyclicIndex(I)]}set(I,M){this._array[this._getCyclicIndex(I)]=M}push(I){this._array[this._getCyclicIndex(this._length)]=I,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(I,M,...C){if(M){for(let c=I;c<this._length-M;c++)this._array[this._getCyclicIndex(c)]=this._array[this._getCyclicIndex(c+M)];this._length-=M,this.onDeleteEmitter.fire({index:I,amount:M})}for(let c=this._length-1;c>=I;c--)this._array[this._getCyclicIndex(c+C.length)]=this._array[this._getCyclicIndex(c)];for(let c=0;c<C.length;c++)this._array[this._getCyclicIndex(I+c)]=C[c];if(C.length&&this.onInsertEmitter.fire({index:I,amount:C.length}),this._length+C.length>this._maxLength){const c=this._length+C.length-this._maxLength;this._startIndex+=c,this._length=this._maxLength,this.onTrimEmitter.fire(c)}else this._length+=C.length}trimStart(I){I>this._length&&(I=this._length),this._startIndex+=I,this._length-=I,this.onTrimEmitter.fire(I)}shiftElements(I,M,C){if(!(M<=0)){if(I<0||I>=this._length)throw new Error("start argument out of range");if(I+C<0)throw new Error("Cannot shift elements in list beyond index 0");if(C>0){for(let f=M-1;f>=0;f--)this.set(I+f+C,this.get(I+f));const c=I+M+C-this._length;if(c>0)for(this._length+=c;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let c=0;c<M;c++)this.set(I+c+C,this.get(I+c))}}_getCyclicIndex(I){return(this._startIndex+I)%this._maxLength}}},1439:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.clone=void 0,h.clone=function v(y,E=5){if("object"!=typeof y)return y;const b=Array.isArray(y)?[]:{};for(const w in y)b[w]=E<=1?y[w]:y[w]&&v(y[w],E-1);return b}},8055:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.contrastRatio=h.toPaddedHex=h.rgba=h.rgb=h.css=h.color=h.channels=h.NULL_COLOR=void 0;const y=v(6114);let E=0,b=0,w=0,I=0;var M,C,c,d;function f(d){const p=d.toString(16);return p.length<2?"0"+p:p}function g(d,p){return d<p?(p+.05)/(d+.05):(d+.05)/(p+.05)}h.NULL_COLOR={css:"#00000000",rgba:0},(d=M=h.channels||(h.channels={})).toCss=function(p,S,D,T){return void 0!==T?`#${f(p)}${f(S)}${f(D)}${f(T)}`:`#${f(p)}${f(S)}${f(D)}`},d.toRgba=function(p,S,D,T=255){return(p<<24|S<<16|D<<8|T)>>>0},function(d){function p(S,D){return I=Math.round(255*D),[E,b,w]=c.toChannels(S.rgba),{css:M.toCss(E,b,w,I),rgba:M.toRgba(E,b,w,I)}}d.blend=function(S,D){if(I=(255&D.rgba)/255,1===I)return{css:D.css,rgba:D.rgba};const m=D.rgba>>16&255,x=D.rgba>>8&255,P=S.rgba>>24&255,F=S.rgba>>16&255,H=S.rgba>>8&255;return E=P+Math.round(((D.rgba>>24&255)-P)*I),b=F+Math.round((m-F)*I),w=H+Math.round((x-H)*I),{css:M.toCss(E,b,w),rgba:M.toRgba(E,b,w)}},d.isOpaque=function(S){return 255==(255&S.rgba)},d.ensureContrastRatio=function(S,D,T){const m=c.ensureContrastRatio(S.rgba,D.rgba,T);if(m)return c.toColor(m>>24&255,m>>16&255,m>>8&255)},d.opaque=function(S){const D=(255|S.rgba)>>>0;return[E,b,w]=c.toChannels(D),{css:M.toCss(E,b,w),rgba:D}},d.opacity=p,d.multiplyOpacity=function(S,D){return I=255&S.rgba,p(S,I*D/255)},d.toColorRGB=function(S){return[S.rgba>>24&255,S.rgba>>16&255,S.rgba>>8&255]}}(h.color||(h.color={})),function(d){let p,S;if(!y.isNode){const D=document.createElement("canvas");D.width=1,D.height=1;const T=D.getContext("2d",{willReadFrequently:!0});T&&(p=T,p.globalCompositeOperation="copy",S=p.createLinearGradient(0,0,1,1))}d.toColor=function(D){if(D.match(/#[\da-f]{3,8}/i))switch(D.length){case 4:return E=parseInt(D.slice(1,2).repeat(2),16),b=parseInt(D.slice(2,3).repeat(2),16),w=parseInt(D.slice(3,4).repeat(2),16),c.toColor(E,b,w);case 5:return E=parseInt(D.slice(1,2).repeat(2),16),b=parseInt(D.slice(2,3).repeat(2),16),w=parseInt(D.slice(3,4).repeat(2),16),I=parseInt(D.slice(4,5).repeat(2),16),c.toColor(E,b,w,I);case 7:return{css:D,rgba:(parseInt(D.slice(1),16)<<8|255)>>>0};case 9:return{css:D,rgba:parseInt(D.slice(1),16)>>>0}}const T=D.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(T)return E=parseInt(T[1]),b=parseInt(T[2]),w=parseInt(T[3]),I=Math.round(255*(void 0===T[5]?1:parseFloat(T[5]))),c.toColor(E,b,w,I);if(!p||!S)throw new Error("css.toColor: Unsupported css format");if(p.fillStyle=S,p.fillStyle=D,"string"!=typeof p.fillStyle)throw new Error("css.toColor: Unsupported css format");if(p.fillRect(0,0,1,1),[E,b,w,I]=p.getImageData(0,0,1,1).data,255!==I)throw new Error("css.toColor: Unsupported css format");return{rgba:M.toRgba(E,b,w,I),css:D}}}(h.css||(h.css={})),function(d){function p(S,D,T){const m=S/255,x=D/255,P=T/255;return.2126*(m<=.03928?m/12.92:Math.pow((m+.055)/1.055,2.4))+.7152*(x<=.03928?x/12.92:Math.pow((x+.055)/1.055,2.4))+.0722*(P<=.03928?P/12.92:Math.pow((P+.055)/1.055,2.4))}d.relativeLuminance=function(S){return p(S>>16&255,S>>8&255,255&S)},d.relativeLuminance2=p}(C=h.rgb||(h.rgb={})),function(d){function p(D,T,m){const x=D>>24&255,P=D>>16&255,F=D>>8&255;let H=T>>24&255,$=T>>16&255,Z=T>>8&255,re=g(C.relativeLuminance2(H,$,Z),C.relativeLuminance2(x,P,F));for(;re<m&&(H>0||$>0||Z>0);)H-=Math.max(0,Math.ceil(.1*H)),$-=Math.max(0,Math.ceil(.1*$)),Z-=Math.max(0,Math.ceil(.1*Z)),re=g(C.relativeLuminance2(H,$,Z),C.relativeLuminance2(x,P,F));return(H<<24|$<<16|Z<<8|255)>>>0}function S(D,T,m){const x=D>>24&255,P=D>>16&255,F=D>>8&255;let H=T>>24&255,$=T>>16&255,Z=T>>8&255,re=g(C.relativeLuminance2(H,$,Z),C.relativeLuminance2(x,P,F));for(;re<m&&(H<255||$<255||Z<255);)H=Math.min(255,H+Math.ceil(.1*(255-H))),$=Math.min(255,$+Math.ceil(.1*(255-$))),Z=Math.min(255,Z+Math.ceil(.1*(255-Z))),re=g(C.relativeLuminance2(H,$,Z),C.relativeLuminance2(x,P,F));return(H<<24|$<<16|Z<<8|255)>>>0}d.ensureContrastRatio=function(D,T,m){const x=C.relativeLuminance(D>>8),P=C.relativeLuminance(T>>8);if(g(x,P)<m){if(P<x){const $=p(D,T,m),Z=g(x,C.relativeLuminance($>>8));if(Z<m){const re=S(D,T,m);return Z>g(x,C.relativeLuminance(re>>8))?$:re}return $}const F=S(D,T,m),H=g(x,C.relativeLuminance(F>>8));if(H<m){const $=p(D,T,m);return H>g(x,C.relativeLuminance($>>8))?F:$}return F}},d.reduceLuminance=p,d.increaseLuminance=S,d.toChannels=function(D){return[D>>24&255,D>>16&255,D>>8&255,255&D]},d.toColor=function(D,T,m,x){return{css:M.toCss(D,T,m,x),rgba:M.toRgba(D,T,m,x)}}}(c=h.rgba||(h.rgba={})),h.toPaddedHex=f,h.contrastRatio=g},8969:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CoreTerminal=void 0;const y=v(844),E=v(2585),b=v(4348),w=v(7866),I=v(744),M=v(7302),C=v(6975),c=v(8460),f=v(1753),g=v(1480),d=v(7994),p=v(9282),S=v(5435),D=v(5981),T=v(2660);let m=!1;h.CoreTerminal=class x extends y.Disposable{constructor(F){super(),this._onBinary=this.register(new c.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new c.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new c.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new c.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new c.EventEmitter),this._instantiationService=new b.InstantiationService,this.optionsService=this.register(new M.OptionsService(F)),this._instantiationService.setService(E.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(I.BufferService)),this._instantiationService.setService(E.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(w.LogService)),this._instantiationService.setService(E.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(C.CoreService)),this._instantiationService.setService(E.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(f.CoreMouseService)),this._instantiationService.setService(E.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(g.UnicodeService)),this._instantiationService.setService(E.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(d.CharsetService),this._instantiationService.setService(E.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(T.OscLinkService),this._instantiationService.setService(E.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new S.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,c.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,c.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,c.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,c.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onSpecificOptionChange("windowsMode",H=>this._handleWindowsModeOptionChange(H))),this.register(this._bufferService.onScroll(H=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(H=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new D.WriteBuffer((H,$)=>this._inputHandler.parse(H,$))),this.register((0,c.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed)),this.register((0,y.toDisposable)(()=>{var H;null===(H=this._windowsMode)||void 0===H||H.dispose(),this._windowsMode=void 0}))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new c.EventEmitter),this._onScroll.event(F=>{var H;null===(H=this._onScrollApi)||void 0===H||H.fire(F.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(F){for(const H in F)this.optionsService.options[H]=F[H]}write(F,H){this._writeBuffer.write(F,H)}writeSync(F,H){this._logService.logLevel<=E.LogLevelEnum.WARN&&!m&&(this._logService.warn("writeSync is unreliable and will be removed soon."),m=!0),this._writeBuffer.writeSync(F,H)}resize(F,H){isNaN(F)||isNaN(H)||(F=Math.max(F,I.MINIMUM_COLS),H=Math.max(H,I.MINIMUM_ROWS),this._bufferService.resize(F,H))}scroll(F,H=!1){this._bufferService.scroll(F,H)}scrollLines(F,H,$){this._bufferService.scrollLines(F,H,$)}scrollPages(F){this._bufferService.scrollPages(F)}scrollToTop(){this._bufferService.scrollToTop()}scrollToBottom(){this._bufferService.scrollToBottom()}scrollToLine(F){this._bufferService.scrollToLine(F)}registerEscHandler(F,H){return this._inputHandler.registerEscHandler(F,H)}registerDcsHandler(F,H){return this._inputHandler.registerDcsHandler(F,H)}registerCsiHandler(F,H){return this._inputHandler.registerCsiHandler(F,H)}registerOscHandler(F,H){return this._inputHandler.registerOscHandler(F,H)}_setup(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsModeOptionChange(F){var H;F?this._enableWindowsMode():(null===(H=this._windowsMode)||void 0===H||H.dispose(),this._windowsMode=void 0)}_enableWindowsMode(){if(!this._windowsMode){const F=[];F.push(this.onLineFeed(p.updateWindowsModeWrappedState.bind(null,this._bufferService))),F.push(this.registerCsiHandler({final:"H"},()=>((0,p.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsMode={dispose:()=>{for(const H of F)H.dispose()}}}}}},8460:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.forwardEvent=h.EventEmitter=void 0,h.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=v=>(this._listeners.push(v),{dispose:()=>{if(!this._disposed)for(let y=0;y<this._listeners.length;y++)if(this._listeners[y]===v)return void this._listeners.splice(y,1)}})),this._event}fire(v,y){const E=[];for(let b=0;b<this._listeners.length;b++)E.push(this._listeners[b]);for(let b=0;b<E.length;b++)E[b].call(void 0,v,y)}dispose(){this._listeners&&(this._listeners.length=0),this._disposed=!0}},h.forwardEvent=function(v,y){return v(E=>y.fire(E))}},5435:function(Q,h,v){var y=this&&this.__decorate||function(oe,R,L,j){var N,te=arguments.length,ue=te<3?R:null===j?j=Object.getOwnPropertyDescriptor(R,L):j;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(oe,R,L,j);else for(var De=oe.length-1;De>=0;De--)(N=oe[De])&&(ue=(te<3?N(ue):te>3?N(R,L,ue):N(R,L))||ue);return te>3&&ue&&Object.defineProperty(R,L,ue),ue},E=this&&this.__param||function(oe,R){return function(L,j){R(L,j,oe)}};Object.defineProperty(h,"__esModule",{value:!0}),h.InputHandler=h.WindowsOptionsReportType=void 0;const b=v(2584),w=v(7116),I=v(2015),M=v(844),C=v(482),c=v(8437),f=v(8460),g=v(643),d=v(511),p=v(3734),S=v(2585),D=v(6242),T=v(6351),m=v(5941),x={"(":0,")":1,"*":2,"+":3,"-":1,".":2},P=131072;function F(oe,R){if(oe>24)return R.setWinLines||!1;switch(oe){case 1:return!!R.restoreWin;case 2:return!!R.minimizeWin;case 3:return!!R.setWinPosition;case 4:return!!R.setWinSizePixels;case 5:return!!R.raiseWin;case 6:return!!R.lowerWin;case 7:return!!R.refreshWin;case 8:return!!R.setWinSizeChars;case 9:return!!R.maximizeWin;case 10:return!!R.fullscreenWin;case 11:return!!R.getWinState;case 13:return!!R.getWinPosition;case 14:return!!R.getWinSizePixels;case 15:return!!R.getScreenSizePixels;case 16:return!!R.getCellSizePixels;case 18:return!!R.getWinSizeChars;case 19:return!!R.getScreenSizeChars;case 20:return!!R.getIconTitle;case 21:return!!R.getWinTitle;case 22:return!!R.pushTitle;case 23:return!!R.popTitle;case 24:return!!R.setWinLines}return!1}var H,oe;(oe=H=h.WindowsOptionsReportType||(h.WindowsOptionsReportType={}))[oe.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",oe[oe.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";let $=0;h.InputHandler=class Z extends M.Disposable{constructor(R,L,j,N,te,ue,De,ne,ae=new I.EscapeSequenceParser){super(),this._bufferService=R,this._charsetService=L,this._coreService=j,this._logService=N,this._optionsService=te,this._oscLinkService=ue,this._coreMouseService=De,this._unicodeService=ne,this._parser=ae,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new C.StringToUtf32,this._utf8Decoder=new C.Utf8ToUtf32,this._workCell=new d.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=c.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new f.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new f.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new f.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new f.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new f.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new f.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new f.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new f.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new f.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new f.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new f.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new f.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new re(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(U=>this._activeBuffer=U.activeBuffer)),this._parser.setCsiHandlerFallback((U,V)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(U),params:V.toArray()})}),this._parser.setEscHandlerFallback(U=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(U)})}),this._parser.setExecuteHandlerFallback(U=>{this._logService.debug("Unknown EXECUTE code: ",{code:U})}),this._parser.setOscHandlerFallback((U,V,z)=>{this._logService.debug("Unknown OSC code: ",{identifier:U,action:V,data:z})}),this._parser.setDcsHandlerFallback((U,V,z)=>{"HOOK"===V&&(z=z.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(U),action:V,payload:z})}),this._parser.setPrintHandler((U,V,z)=>this.print(U,V,z)),this._parser.registerCsiHandler({final:"@"},U=>this.insertChars(U)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},U=>this.scrollLeft(U)),this._parser.registerCsiHandler({final:"A"},U=>this.cursorUp(U)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},U=>this.scrollRight(U)),this._parser.registerCsiHandler({final:"B"},U=>this.cursorDown(U)),this._parser.registerCsiHandler({final:"C"},U=>this.cursorForward(U)),this._parser.registerCsiHandler({final:"D"},U=>this.cursorBackward(U)),this._parser.registerCsiHandler({final:"E"},U=>this.cursorNextLine(U)),this._parser.registerCsiHandler({final:"F"},U=>this.cursorPrecedingLine(U)),this._parser.registerCsiHandler({final:"G"},U=>this.cursorCharAbsolute(U)),this._parser.registerCsiHandler({final:"H"},U=>this.cursorPosition(U)),this._parser.registerCsiHandler({final:"I"},U=>this.cursorForwardTab(U)),this._parser.registerCsiHandler({final:"J"},U=>this.eraseInDisplay(U,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},U=>this.eraseInDisplay(U,!0)),this._parser.registerCsiHandler({final:"K"},U=>this.eraseInLine(U,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},U=>this.eraseInLine(U,!0)),this._parser.registerCsiHandler({final:"L"},U=>this.insertLines(U)),this._parser.registerCsiHandler({final:"M"},U=>this.deleteLines(U)),this._parser.registerCsiHandler({final:"P"},U=>this.deleteChars(U)),this._parser.registerCsiHandler({final:"S"},U=>this.scrollUp(U)),this._parser.registerCsiHandler({final:"T"},U=>this.scrollDown(U)),this._parser.registerCsiHandler({final:"X"},U=>this.eraseChars(U)),this._parser.registerCsiHandler({final:"Z"},U=>this.cursorBackwardTab(U)),this._parser.registerCsiHandler({final:"`"},U=>this.charPosAbsolute(U)),this._parser.registerCsiHandler({final:"a"},U=>this.hPositionRelative(U)),this._parser.registerCsiHandler({final:"b"},U=>this.repeatPrecedingCharacter(U)),this._parser.registerCsiHandler({final:"c"},U=>this.sendDeviceAttributesPrimary(U)),this._parser.registerCsiHandler({prefix:">",final:"c"},U=>this.sendDeviceAttributesSecondary(U)),this._parser.registerCsiHandler({final:"d"},U=>this.linePosAbsolute(U)),this._parser.registerCsiHandler({final:"e"},U=>this.vPositionRelative(U)),this._parser.registerCsiHandler({final:"f"},U=>this.hVPosition(U)),this._parser.registerCsiHandler({final:"g"},U=>this.tabClear(U)),this._parser.registerCsiHandler({final:"h"},U=>this.setMode(U)),this._parser.registerCsiHandler({prefix:"?",final:"h"},U=>this.setModePrivate(U)),this._parser.registerCsiHandler({final:"l"},U=>this.resetMode(U)),this._parser.registerCsiHandler({prefix:"?",final:"l"},U=>this.resetModePrivate(U)),this._parser.registerCsiHandler({final:"m"},U=>this.charAttributes(U)),this._parser.registerCsiHandler({final:"n"},U=>this.deviceStatus(U)),this._parser.registerCsiHandler({prefix:"?",final:"n"},U=>this.deviceStatusPrivate(U)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},U=>this.softReset(U)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},U=>this.setCursorStyle(U)),this._parser.registerCsiHandler({final:"r"},U=>this.setScrollRegion(U)),this._parser.registerCsiHandler({final:"s"},U=>this.saveCursor(U)),this._parser.registerCsiHandler({final:"t"},U=>this.windowOptions(U)),this._parser.registerCsiHandler({final:"u"},U=>this.restoreCursor(U)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},U=>this.insertColumns(U)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},U=>this.deleteColumns(U)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},U=>this.selectProtected(U)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},U=>this.requestMode(U,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},U=>this.requestMode(U,!1)),this._parser.setExecuteHandler(b.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(b.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(b.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(b.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(b.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(b.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(b.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(b.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(b.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(b.C1.IND,()=>this.index()),this._parser.setExecuteHandler(b.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(b.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new D.OscHandler(U=>(this.setTitle(U),this.setIconName(U),!0))),this._parser.registerOscHandler(1,new D.OscHandler(U=>this.setIconName(U))),this._parser.registerOscHandler(2,new D.OscHandler(U=>this.setTitle(U))),this._parser.registerOscHandler(4,new D.OscHandler(U=>this.setOrReportIndexedColor(U))),this._parser.registerOscHandler(8,new D.OscHandler(U=>this.setHyperlink(U))),this._parser.registerOscHandler(10,new D.OscHandler(U=>this.setOrReportFgColor(U))),this._parser.registerOscHandler(11,new D.OscHandler(U=>this.setOrReportBgColor(U))),this._parser.registerOscHandler(12,new D.OscHandler(U=>this.setOrReportCursorColor(U))),this._parser.registerOscHandler(104,new D.OscHandler(U=>this.restoreIndexedColor(U))),this._parser.registerOscHandler(110,new D.OscHandler(U=>this.restoreFgColor(U))),this._parser.registerOscHandler(111,new D.OscHandler(U=>this.restoreBgColor(U))),this._parser.registerOscHandler(112,new D.OscHandler(U=>this.restoreCursorColor(U))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const U in w.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:U},()=>this.selectCharset("("+U)),this._parser.registerEscHandler({intermediates:")",final:U},()=>this.selectCharset(")"+U)),this._parser.registerEscHandler({intermediates:"*",final:U},()=>this.selectCharset("*"+U)),this._parser.registerEscHandler({intermediates:"+",final:U},()=>this.selectCharset("+"+U)),this._parser.registerEscHandler({intermediates:"-",final:U},()=>this.selectCharset("-"+U)),this._parser.registerEscHandler({intermediates:".",final:U},()=>this.selectCharset("."+U)),this._parser.registerEscHandler({intermediates:"/",final:U},()=>this.selectCharset("/"+U));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(U=>(this._logService.error("Parsing error: ",U),U)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new T.DcsHandler((U,V)=>this.requestStatusString(U,V)))}getAttrData(){return this._curAttrData}_preserveStack(R,L,j,N){this._parseStack.paused=!0,this._parseStack.cursorStartX=R,this._parseStack.cursorStartY=L,this._parseStack.decodedLength=j,this._parseStack.position=N}_logSlowResolvingAsync(R){this._logService.logLevel<=S.LogLevelEnum.WARN&&Promise.race([R,new Promise((L,j)=>setTimeout(()=>j("#SLOW_TIMEOUT"),5e3))]).catch(L=>{if("#SLOW_TIMEOUT"!==L)throw L;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(R,L){let j,N=this._activeBuffer.x,te=this._activeBuffer.y,ue=0;const De=this._parseStack.paused;if(De){if(j=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,L))return this._logSlowResolvingAsync(j),j;N=this._parseStack.cursorStartX,te=this._parseStack.cursorStartY,this._parseStack.paused=!1,R.length>P&&(ue=this._parseStack.position+P)}if(this._logService.logLevel<=S.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof R?` "${R}"`:` "${Array.prototype.map.call(R,ne=>String.fromCharCode(ne)).join("")}"`),"string"==typeof R?R.split("").map(ne=>ne.charCodeAt(0)):R),this._parseBuffer.length<R.length&&this._parseBuffer.length<P&&(this._parseBuffer=new Uint32Array(Math.min(R.length,P))),De||this._dirtyRowTracker.clearRange(),R.length>P)for(let ne=ue;ne<R.length;ne+=P){const ae=ne+P<R.length?ne+P:R.length,U="string"==typeof R?this._stringDecoder.decode(R.substring(ne,ae),this._parseBuffer):this._utf8Decoder.decode(R.subarray(ne,ae),this._parseBuffer);if(j=this._parser.parse(this._parseBuffer,U))return this._preserveStack(N,te,U,ne),this._logSlowResolvingAsync(j),j}else if(!De){const ne="string"==typeof R?this._stringDecoder.decode(R,this._parseBuffer):this._utf8Decoder.decode(R,this._parseBuffer);if(j=this._parser.parse(this._parseBuffer,ne))return this._preserveStack(N,te,ne,0),this._logSlowResolvingAsync(j),j}this._activeBuffer.x===N&&this._activeBuffer.y===te||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(R,L,j){let N,te;const ue=this._charsetService.charset,De=this._optionsService.rawOptions.screenReaderMode,ne=this._bufferService.cols,ae=this._coreService.decPrivateModes.wraparound,U=this._coreService.modes.insertMode,V=this._curAttrData;let z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&j-L>0&&2===z.getWidth(this._activeBuffer.x-1)&&z.setCellFromCodePoint(this._activeBuffer.x-1,0,1,V.fg,V.bg,V.extended);for(let q=L;q<j;++q){if(N=R[q],te=this._unicodeService.wcwidth(N),N<127&&ue){const ie=ue[String.fromCharCode(N)];ie&&(N=ie.charCodeAt(0))}if(De&&this._onA11yChar.fire((0,C.stringFromCodePoint)(N)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),te||!this._activeBuffer.x){if(this._activeBuffer.x+te-1>=ne)if(ae){for(;this._activeBuffer.x<ne;)z.setCellFromCodePoint(this._activeBuffer.x++,0,1,V.fg,V.bg,V.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=ne-1,2===te)continue;if(U&&(z.insertCells(this._activeBuffer.x,te,this._activeBuffer.getNullCell(V),V),2===z.getWidth(ne-1)&&z.setCellFromCodePoint(ne-1,g.NULL_CELL_CODE,g.NULL_CELL_WIDTH,V.fg,V.bg,V.extended)),z.setCellFromCodePoint(this._activeBuffer.x++,N,te,V.fg,V.bg,V.extended),te>0)for(;--te;)z.setCellFromCodePoint(this._activeBuffer.x++,0,0,V.fg,V.bg,V.extended)}else z.getWidth(this._activeBuffer.x-1)?z.addCodepointToCell(this._activeBuffer.x-1,N):z.addCodepointToCell(this._activeBuffer.x-2,N)}j-L>0&&(z.loadCell(this._activeBuffer.x-1,this._workCell),this._parser.precedingCodepoint=2===this._workCell.getWidth()||this._workCell.getCode()>65535?0:this._workCell.isCombined()?this._workCell.getChars().charCodeAt(0):this._workCell.content),this._activeBuffer.x<ne&&j-L>0&&0===z.getWidth(this._activeBuffer.x)&&!z.hasContent(this._activeBuffer.x)&&z.setCellFromCodePoint(this._activeBuffer.x,0,1,V.fg,V.bg,V.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(R,L){return this._parser.registerCsiHandler(R,"t"!==R.final||R.prefix||R.intermediates?L:j=>!F(j.params[0],this._optionsService.rawOptions.windowOptions)||L(j))}registerDcsHandler(R,L){return this._parser.registerDcsHandler(R,new T.DcsHandler(L))}registerEscHandler(R,L){return this._parser.registerEscHandler(R,L)}registerOscHandler(R,L){return this._parser.registerOscHandler(R,new D.OscHandler(L))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var R;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&null!==(R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))&&void 0!==R&&R.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);L.hasWidth(this._activeBuffer.x)&&!L.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const R=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-R),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(R=this._bufferService.cols-1){this._activeBuffer.x=Math.min(R,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(R,L){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=R,this._activeBuffer.y=this._activeBuffer.scrollTop+L):(this._activeBuffer.x=R,this._activeBuffer.y=L),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(R,L){this._restrictCursor(),this._setCursor(this._activeBuffer.x+R,this._activeBuffer.y+L)}cursorUp(R){const L=this._activeBuffer.y-this._activeBuffer.scrollTop;return this._moveCursor(0,L>=0?-Math.min(L,R.params[0]||1):-(R.params[0]||1)),!0}cursorDown(R){const L=this._activeBuffer.scrollBottom-this._activeBuffer.y;return this._moveCursor(0,L>=0?Math.min(L,R.params[0]||1):R.params[0]||1),!0}cursorForward(R){return this._moveCursor(R.params[0]||1,0),!0}cursorBackward(R){return this._moveCursor(-(R.params[0]||1),0),!0}cursorNextLine(R){return this.cursorDown(R),this._activeBuffer.x=0,!0}cursorPrecedingLine(R){return this.cursorUp(R),this._activeBuffer.x=0,!0}cursorCharAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(R){return this._setCursor(R.length>=2?(R.params[1]||1)-1:0,(R.params[0]||1)-1),!0}charPosAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(R){return this._moveCursor(R.params[0]||1,0),!0}linePosAbsolute(R){return this._setCursor(this._activeBuffer.x,(R.params[0]||1)-1),!0}vPositionRelative(R){return this._moveCursor(0,R.params[0]||1),!0}hVPosition(R){return this.cursorPosition(R),!0}tabClear(R){const L=R.params[0];return 0===L?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===L&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let L=R.params[0]||1;for(;L--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let L=R.params[0]||1;for(;L--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(R){const L=R.params[0];return 1===L&&(this._curAttrData.bg|=536870912),2!==L&&0!==L||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(R,L,j,N=!1,te=!1){const ue=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);ue.replaceCells(L,j,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),te),N&&(ue.isWrapped=!1)}_resetBufferLine(R,L=!1){const j=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);j.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),L),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+R),j.isWrapped=!1}eraseInDisplay(R,L=!1){let j;switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:for(j=this._activeBuffer.y,this._dirtyRowTracker.markDirty(j),this._eraseInBufferLine(j++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,L);j<this._bufferService.rows;j++)this._resetBufferLine(j,L);this._dirtyRowTracker.markDirty(j);break;case 1:for(j=this._activeBuffer.y,this._dirtyRowTracker.markDirty(j),this._eraseInBufferLine(j,0,this._activeBuffer.x+1,!0,L),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(j+1).isWrapped=!1);j--;)this._resetBufferLine(j,L);this._dirtyRowTracker.markDirty(0);break;case 2:for(j=this._bufferService.rows,this._dirtyRowTracker.markDirty(j-1);j--;)this._resetBufferLine(j,L);this._dirtyRowTracker.markDirty(0);break;case 3:const N=this._activeBuffer.lines.length-this._bufferService.rows;N>0&&(this._activeBuffer.lines.trimStart(N),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-N,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-N,0),this._onScroll.fire(0))}return!0}eraseInLine(R,L=!1){switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,L);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,L);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,L)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(R){this._restrictCursor();let L=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const j=this._activeBuffer.ybase+this._activeBuffer.y,te=this._bufferService.rows-1+this._activeBuffer.ybase-(this._bufferService.rows-1-this._activeBuffer.scrollBottom)+1;for(;L--;)this._activeBuffer.lines.splice(te-1,1),this._activeBuffer.lines.splice(j,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(R){this._restrictCursor();let L=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const j=this._activeBuffer.ybase+this._activeBuffer.y;let N;for(N=this._bufferService.rows-1-this._activeBuffer.scrollBottom,N=this._bufferService.rows-1+this._activeBuffer.ybase-N;L--;)this._activeBuffer.lines.splice(j,1),this._activeBuffer.lines.splice(N,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(R){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.insertCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(R){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.deleteCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(R){let L=R.params[0]||1;for(;L--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(R){let L=R.params[0]||1;for(;L--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(c.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=R.params[0]||1;for(let j=this._activeBuffer.scrollTop;j<=this._activeBuffer.scrollBottom;++j){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);N.deleteCells(0,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=R.params[0]||1;for(let j=this._activeBuffer.scrollTop;j<=this._activeBuffer.scrollBottom;++j){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);N.insertCells(0,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=R.params[0]||1;for(let j=this._activeBuffer.scrollTop;j<=this._activeBuffer.scrollBottom;++j){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);N.insertCells(this._activeBuffer.x,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=R.params[0]||1;for(let j=this._activeBuffer.scrollTop;j<=this._activeBuffer.scrollBottom;++j){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);N.deleteCells(this._activeBuffer.x,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(R){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(R.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(R){if(!this._parser.precedingCodepoint)return!0;const L=R.params[0]||1,j=new Uint32Array(L);for(let N=0;N<L;++N)j[N]=this._parser.precedingCodepoint;return this.print(j,0,j.length),!0}sendDeviceAttributesPrimary(R){return R.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(b.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(b.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(R){return R.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(b.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(b.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(R.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(b.C0.ESC+"[>83;40003;0c")),!0}_is(R){return 0===(this._optionsService.rawOptions.termName+"").indexOf(R)}setMode(R){for(let L=0;L<R.length;L++)switch(R.params[L]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(R){for(let L=0;L<R.length;L++)switch(R.params[L]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,w.DEFAULT_CHARSET),this._charsetService.setgCharset(1,w.DEFAULT_CHARSET),this._charsetService.setgCharset(2,w.DEFAULT_CHARSET),this._charsetService.setgCharset(3,w.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(R){for(let L=0;L<R.length;L++)switch(R.params[L]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(R){for(let L=0;L<R.length;L++)switch(R.params[L]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===R.params[L]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(R,L){const j=this._coreService.decPrivateModes,{activeProtocol:N,activeEncoding:te}=this._coreMouseService,ue=this._coreService,{buffers:De,cols:ne}=this._bufferService,{active:ae,alt:U}=De,V=this._optionsService.rawOptions,z=le=>le?1:2,q=R.params[0];return ie=q,de=L?2===q?3:4===q?z(ue.modes.insertMode):12===q?4:20===q?z(V.convertEol):0:1===q?z(j.applicationCursorKeys):3===q?V.windowOptions.setWinLines?80===ne?2:132===ne?1:0:0:6===q?z(j.origin):7===q?z(j.wraparound):8===q?3:9===q?z("X10"===N):12===q?z(V.cursorBlink):25===q?z(!ue.isCursorHidden):45===q?z(j.reverseWraparound):66===q?z(j.applicationKeypad):1e3===q?z("VT200"===N):1002===q?z("DRAG"===N):1003===q?z("ANY"===N):1004===q?z(j.sendFocus):1005===q?4:1006===q?z("SGR"===te):1015===q?4:1016===q?z("SGR_PIXELS"===te):1048===q?1:47===q||1047===q||1049===q?z(ae===U):2004===q?z(j.bracketedPasteMode):0,ue.triggerDataEvent(`${b.C0.ESC}[${L?"":"?"}${ie};${de}$y`),!0;var ie,de}_updateAttrColor(R,L,j,N,te){return 2===L?(R|=50331648,R&=-16777216,R|=p.AttributeData.fromColorRGB([j,N,te])):5===L&&(R&=-50331904,R|=33554432|255&j),R}_extractColor(R,L,j){const N=[0,0,-1,0,0,0];let te=0,ue=0;do{if(N[ue+te]=R.params[L+ue],R.hasSubParams(L+ue)){const De=R.getSubParams(L+ue);let ne=0;do{5===N[1]&&(te=1),N[ue+ne+1+te]=De[ne]}while(++ne<De.length&&ne+ue+1+te<N.length);break}if(5===N[1]&&ue+te>=2||2===N[1]&&ue+te>=5)break;N[1]&&(te=1)}while(++ue+L<R.length&&ue+te<N.length);for(let De=2;De<N.length;++De)-1===N[De]&&(N[De]=0);switch(N[0]){case 38:j.fg=this._updateAttrColor(j.fg,N[1],N[3],N[4],N[5]);break;case 48:j.bg=this._updateAttrColor(j.bg,N[1],N[3],N[4],N[5]);break;case 58:j.extended=j.extended.clone(),j.extended.underlineColor=this._updateAttrColor(j.extended.underlineColor,N[1],N[3],N[4],N[5])}return ue}_processUnderline(R,L){L.extended=L.extended.clone(),(!~R||R>5)&&(R=1),L.extended.underlineStyle=R,L.fg|=268435456,0===R&&(L.fg&=-268435457),L.updateExtended()}_processSGR0(R){R.fg=c.DEFAULT_ATTR_DATA.fg,R.bg=c.DEFAULT_ATTR_DATA.bg,R.extended=R.extended.clone(),R.extended.underlineStyle=0,R.extended.underlineColor&=-67108864,R.updateExtended()}charAttributes(R){if(1===R.length&&0===R.params[0])return this._processSGR0(this._curAttrData),!0;const L=R.length;let j;const N=this._curAttrData;for(let te=0;te<L;te++)j=R.params[te],j>=30&&j<=37?(N.fg&=-50331904,N.fg|=16777216|j-30):j>=40&&j<=47?(N.bg&=-50331904,N.bg|=16777216|j-40):j>=90&&j<=97?(N.fg&=-50331904,N.fg|=16777224|j-90):j>=100&&j<=107?(N.bg&=-50331904,N.bg|=16777224|j-100):0===j?this._processSGR0(N):1===j?N.fg|=134217728:3===j?N.bg|=67108864:4===j?(N.fg|=268435456,this._processUnderline(R.hasSubParams(te)?R.getSubParams(te)[0]:1,N)):5===j?N.fg|=536870912:7===j?N.fg|=67108864:8===j?N.fg|=1073741824:9===j?N.fg|=2147483648:2===j?N.bg|=134217728:21===j?this._processUnderline(2,N):22===j?(N.fg&=-134217729,N.bg&=-134217729):23===j?N.bg&=-67108865:24===j?(N.fg&=-268435457,this._processUnderline(0,N)):25===j?N.fg&=-536870913:27===j?N.fg&=-67108865:28===j?N.fg&=-1073741825:29===j?N.fg&=2147483647:39===j?(N.fg&=-67108864,N.fg|=16777215&c.DEFAULT_ATTR_DATA.fg):49===j?(N.bg&=-67108864,N.bg|=16777215&c.DEFAULT_ATTR_DATA.bg):38===j||48===j||58===j?te+=this._extractColor(R,te,N):59===j?(N.extended=N.extended.clone(),N.extended.underlineColor=-1,N.updateExtended()):100===j?(N.fg&=-67108864,N.fg|=16777215&c.DEFAULT_ATTR_DATA.fg,N.bg&=-67108864,N.bg|=16777215&c.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",j);return!0}deviceStatus(R){switch(R.params[0]){case 5:this._coreService.triggerDataEvent(`${b.C0.ESC}[0n`);break;case 6:this._coreService.triggerDataEvent(`${b.C0.ESC}[${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`)}return!0}deviceStatusPrivate(R){return 6===R.params[0]&&this._coreService.triggerDataEvent(`${b.C0.ESC}[?${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`),!0}softReset(R){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(R){const L=R.params[0]||1;switch(L){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=L%2==1,!0}setScrollRegion(R){const L=R.params[0]||1;let j;return(R.length<2||(j=R.params[1])>this._bufferService.rows||0===j)&&(j=this._bufferService.rows),j>L&&(this._activeBuffer.scrollTop=L-1,this._activeBuffer.scrollBottom=j-1,this._setCursor(0,0)),!0}windowOptions(R){if(!F(R.params[0],this._optionsService.rawOptions.windowOptions))return!0;const L=R.length>1?R.params[1]:0;switch(R.params[0]){case 14:2!==L&&this._onRequestWindowsOptionsReport.fire(H.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(H.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${b.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:0!==L&&2!==L||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==L&&1!==L||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==L&&2!==L||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==L&&1!==L||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(R){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(R){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(R){return this._windowTitle=R,this._onTitleChange.fire(R),!0}setIconName(R){return this._iconName=R,!0}setOrReportIndexedColor(R){const L=[],j=R.split(";");for(;j.length>1;){const N=j.shift(),te=j.shift();if(/^\d+$/.exec(N)){const ue=parseInt(N);if(0<=ue&&ue<256)if("?"===te)L.push({type:0,index:ue});else{const De=(0,m.parseColor)(te);De&&L.push({type:1,index:ue,color:De})}}}return L.length&&this._onColor.fire(L),!0}setHyperlink(R){const L=R.split(";");return!(L.length<2)&&(L[1]?this._createHyperlink(L[0],L[1]):!L[0]&&this._finishHyperlink())}_createHyperlink(R,L){this._getCurrentLinkId()&&this._finishHyperlink();const j=R.split(":");let N;const te=j.findIndex(ue=>ue.startsWith("id="));return-1!==te&&(N=j[te].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:N,uri:L}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(R,L){const j=R.split(";");for(let N=0;N<j.length&&!(L>=this._specialColors.length);++N,++L)if("?"===j[N])this._onColor.fire([{type:0,index:this._specialColors[L]}]);else{const te=(0,m.parseColor)(j[N]);te&&this._onColor.fire([{type:1,index:this._specialColors[L],color:te}])}return!0}setOrReportFgColor(R){return this._setOrReportSpecialColor(R,0)}setOrReportBgColor(R){return this._setOrReportSpecialColor(R,1)}setOrReportCursorColor(R){return this._setOrReportSpecialColor(R,2)}restoreIndexedColor(R){if(!R)return this._onColor.fire([{type:2}]),!0;const L=[],j=R.split(";");for(let N=0;N<j.length;++N)if(/^\d+$/.exec(j[N])){const te=parseInt(j[N]);0<=te&&te<256&&L.push({type:2,index:te})}return L.length&&this._onColor.fire(L),!0}restoreFgColor(R){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(R){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(R){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,w.DEFAULT_CHARSET),!0}selectCharset(R){return 2!==R.length?(this.selectDefaultCharset(),!0):("/"===R[0]||this._charsetService.setgCharset(x[R[0]],w.CHARSETS[R[1]]||w.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){return this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop?(this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)):(this._activeBuffer.y--,this._restrictCursor()),!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=c.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(R){return this._charsetService.setgLevel(R),!0}screenAlignmentPattern(){const R=new d.CellData;R.content=4194304|"E".charCodeAt(0),R.fg=this._curAttrData.fg,R.bg=this._curAttrData.bg,this._setCursor(0,0);for(let L=0;L<this._bufferService.rows;++L){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y+L);N&&(N.fill(R),N.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(R,L){const j=this._bufferService.buffer,N=this._optionsService.rawOptions;return(te=>(this._coreService.triggerDataEvent(`${b.C0.ESC}${te}${b.C0.ESC}\\`),!0))('"q'===R?`P1$r${this._curAttrData.isProtected()?1:0}"q`:'"p'===R?'P1$r61;1"p':"r"===R?`P1$r${j.scrollTop+1};${j.scrollBottom+1}r`:"m"===R?"P1$r0m":" q"===R?`P1$r${{block:2,underline:4,bar:6}[N.cursorStyle]-(N.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(R,L){this._dirtyRowTracker.markRangeDirty(R,L)}};let re=class{constructor(oe){this._bufferService=oe,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(oe){oe<this.start?this.start=oe:oe>this.end&&(this.end=oe)}markRangeDirty(oe,R){oe>R&&($=oe,oe=R,R=$),oe<this.start&&(this.start=oe),R>this.end&&(this.end=R)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};re=y([E(0,S.IBufferService)],re)},844:(Q,h)=>{function v(y){for(const E of y)E.dispose();y.length=0}Object.defineProperty(h,"__esModule",{value:!0}),h.getDisposeArrayDisposable=h.disposeArray=h.toDisposable=h.Disposable=void 0,h.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const y of this._disposables)y.dispose();this._disposables.length=0}register(y){return this._disposables.push(y),y}unregister(y){const E=this._disposables.indexOf(y);-1!==E&&this._disposables.splice(E,1)}},h.toDisposable=function(y){return{dispose:y}},h.disposeArray=v,h.getDisposeArrayDisposable=function(y){return{dispose:()=>v(y)}}},1505:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.FourKeyMap=h.TwoKeyMap=void 0;class v{constructor(){this._data={}}set(E,b,w){this._data[E]||(this._data[E]={}),this._data[E][b]=w}get(E,b){return this._data[E]?this._data[E][b]:void 0}clear(){this._data={}}}h.TwoKeyMap=v,h.FourKeyMap=class{constructor(){this._data=new v}set(y,E,b,w,I){this._data.get(y,E)||this._data.set(y,E,new v),this._data.get(y,E).set(b,w,I)}get(y,E,b,w){var I;return null===(I=this._data.get(y,E))||void 0===I?void 0:I.get(b,w)}clear(){this._data.clear()}}},6114:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.isChromeOS=h.isLinux=h.isWindows=h.isIphone=h.isIpad=h.isMac=h.getSafariVersion=h.isSafari=h.isLegacyEdge=h.isFirefox=h.isNode=void 0,h.isNode=typeof navigator>"u";const v=h.isNode?"node":navigator.userAgent,y=h.isNode?"node":navigator.platform;h.isFirefox=v.includes("Firefox"),h.isLegacyEdge=v.includes("Edge"),h.isSafari=/^((?!chrome|android).)*safari/i.test(v),h.getSafariVersion=function(){if(!h.isSafari)return 0;const E=v.match(/Version\/(\d+)/);return null===E||E.length<2?0:parseInt(E[1])},h.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(y),h.isIpad="iPad"===y,h.isIphone="iPhone"===y,h.isWindows=["Windows","Win16","Win32","WinCE"].includes(y),h.isLinux=y.indexOf("Linux")>=0,h.isChromeOS=/\bCrOS\b/.test(v)},6106:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.SortedList=void 0;let v=0;h.SortedList=class{constructor(y){this._getKey=y,this._array=[]}clear(){this._array.length=0}insert(y){0!==this._array.length?(v=this._search(this._getKey(y),0,this._array.length-1),this._array.splice(v,0,y)):this._array.push(y)}delete(y){if(0===this._array.length)return!1;const E=this._getKey(y);if(void 0===E||(v=this._search(E,0,this._array.length-1),-1===v)||this._getKey(this._array[v])!==E)return!1;do{if(this._array[v]===y)return this._array.splice(v,1),!0}while(++v<this._array.length&&this._getKey(this._array[v])===E);return!1}*getKeyIterator(y){if(0!==this._array.length&&(v=this._search(y,0,this._array.length-1),!(v<0||v>=this._array.length)&&this._getKey(this._array[v])===y))do{yield this._array[v]}while(++v<this._array.length&&this._getKey(this._array[v])===y)}forEachByKey(y,E){if(0!==this._array.length&&(v=this._search(y,0,this._array.length-1),!(v<0||v>=this._array.length)&&this._getKey(this._array[v])===y))do{E(this._array[v])}while(++v<this._array.length&&this._getKey(this._array[v])===y)}values(){return this._array.values()}_search(y,E,b){if(b<E)return E;let w=Math.floor((E+b)/2);const I=this._getKey(this._array[w]);if(I>y)return this._search(y,E,w-1);if(I<y)return this._search(y,w+1,b);for(;w>0&&this._getKey(this._array[w-1])===y;)w--;return w}}},7226:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DebouncedIdleTask=h.IdleTaskQueue=h.PriorityTaskQueue=void 0;const y=v(6114);class E{constructor(){this._tasks=[],this._i=0}enqueue(I){this._tasks.push(I),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(I){this._idleCallback=void 0;let M=0,C=0,c=I.timeRemaining(),f=0;for(;this._i<this._tasks.length;){if(M=Date.now(),this._tasks[this._i]()||this._i++,M=Math.max(1,Date.now()-M),C=Math.max(M,C),f=I.timeRemaining(),1.5*C>f)return c-M<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(c-M))}ms`),void this._start();c=f}this.clear()}}class b extends E{_requestCallback(I){return setTimeout(()=>I(this._createDeadline(16)))}_cancelCallback(I){clearTimeout(I)}_createDeadline(I){const M=Date.now()+I;return{timeRemaining:()=>Math.max(0,M-Date.now())}}}h.PriorityTaskQueue=b,h.IdleTaskQueue=!y.isNode&&"requestIdleCallback"in window?class extends E{_requestCallback(w){return requestIdleCallback(w)}_cancelCallback(w){cancelIdleCallback(w)}}:b,h.DebouncedIdleTask=class{constructor(){this._queue=new h.IdleTaskQueue}set(w){this._queue.clear(),this._queue.enqueue(w)}flush(){this._queue.flush()}}},9282:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.updateWindowsModeWrappedState=void 0;const y=v(643);h.updateWindowsModeWrappedState=function(E){const w=E.buffer.lines.get(E.buffer.ybase+E.buffer.y-1)?.get(E.cols-1),I=E.buffer.lines.get(E.buffer.ybase+E.buffer.y);I&&w&&(I.isWrapped=w[y.CHAR_DATA_CODE_INDEX]!==y.NULL_CELL_CODE&&w[y.CHAR_DATA_CODE_INDEX]!==y.WHITESPACE_CELL_CODE)}},3734:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ExtendedAttrs=h.AttributeData=void 0;class v{constructor(){this.fg=0,this.bg=0,this.extended=new y}static toColorRGB(b){return[b>>>16&255,b>>>8&255,255&b]}static fromColorRGB(b){return(255&b[0])<<16|(255&b[1])<<8|255&b[2]}clone(){const b=new v;return b.fg=this.fg,b.bg=this.bg,b.extended=this.extended.clone(),b}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}h.AttributeData=v;class y{constructor(b=0,w=0){this._ext=0,this._urlId=0,this._ext=b,this._urlId=w}get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(b){this._ext=b}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(b){this._ext&=-469762049,this._ext|=b<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(b){this._ext&=-67108864,this._ext|=67108863&b}get urlId(){return this._urlId}set urlId(b){this._urlId=b}clone(){return new y(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}h.ExtendedAttrs=y},9092:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BufferStringIterator=h.Buffer=h.MAX_BUFFER_SIZE=void 0;const y=v(6349),E=v(8437),b=v(511),w=v(643),I=v(4634),M=v(4863),C=v(7116),c=v(3734),f=v(7226);h.MAX_BUFFER_SIZE=4294967295,h.Buffer=class{constructor(d,p,S){this._hasScrollback=d,this._optionsService=p,this._bufferService=S,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=E.DEFAULT_ATTR_DATA.clone(),this.savedCharset=C.DEFAULT_CHARSET,this.markers=[],this._nullCell=b.CellData.fromCharData([0,w.NULL_CELL_CHAR,w.NULL_CELL_WIDTH,w.NULL_CELL_CODE]),this._whitespaceCell=b.CellData.fromCharData([0,w.WHITESPACE_CELL_CHAR,w.WHITESPACE_CELL_WIDTH,w.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new f.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new y.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(d){return d?(this._nullCell.fg=d.fg,this._nullCell.bg=d.bg,this._nullCell.extended=d.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new c.ExtendedAttrs),this._nullCell}getWhitespaceCell(d){return d?(this._whitespaceCell.fg=d.fg,this._whitespaceCell.bg=d.bg,this._whitespaceCell.extended=d.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new c.ExtendedAttrs),this._whitespaceCell}getBlankLine(d,p){return new E.BufferLine(this._bufferService.cols,this.getNullCell(d),p)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const d=this.ybase+this.y-this.ydisp;return d>=0&&d<this._rows}_getCorrectBufferLength(d){if(!this._hasScrollback)return d;const p=d+this._optionsService.rawOptions.scrollback;return p>h.MAX_BUFFER_SIZE?h.MAX_BUFFER_SIZE:p}fillViewportRows(d){if(0===this.lines.length){void 0===d&&(d=E.DEFAULT_ATTR_DATA);let p=this._rows;for(;p--;)this.lines.push(this.getBlankLine(d))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new y.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(d,p){const S=this.getNullCell(E.DEFAULT_ATTR_DATA);let D=0;const T=this._getCorrectBufferLength(p);if(T>this.lines.maxLength&&(this.lines.maxLength=T),this.lines.length>0){if(this._cols<d)for(let x=0;x<this.lines.length;x++)D+=+this.lines.get(x).resize(d,S);let m=0;if(this._rows<p)for(let x=this._rows;x<p;x++)this.lines.length<p+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new E.BufferLine(d,S)):this.ybase>0&&this.lines.length<=this.ybase+this.y+m+1?(this.ybase--,m++,this.ydisp>0&&this.ydisp--):this.lines.push(new E.BufferLine(d,S)));else for(let x=this._rows;x>p;x--)this.lines.length>p+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(T<this.lines.maxLength){const x=this.lines.length-T;x>0&&(this.lines.trimStart(x),this.ybase=Math.max(this.ybase-x,0),this.ydisp=Math.max(this.ydisp-x,0),this.savedY=Math.max(this.savedY-x,0)),this.lines.maxLength=T}this.x=Math.min(this.x,d-1),this.y=Math.min(this.y,p-1),m&&(this.y+=m),this.savedX=Math.min(this.savedX,d-1),this.scrollTop=0}if(this.scrollBottom=p-1,this._isReflowEnabled&&(this._reflow(d,p),this._cols>d))for(let m=0;m<this.lines.length;m++)D+=+this.lines.get(m).resize(d,S);this._cols=d,this._rows=p,this._memoryCleanupQueue.clear(),D>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let d=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,d=!1);let p=0;for(;this._memoryCleanupPosition<this.lines.length;)if(p+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),p>100)return!0;return d}get _isReflowEnabled(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(d,p){this._cols!==d&&(d>this._cols?this._reflowLarger(d,p):this._reflowSmaller(d,p))}_reflowLarger(d,p){const S=(0,I.reflowLargerGetLinesToRemove)(this.lines,this._cols,d,this.ybase+this.y,this.getNullCell(E.DEFAULT_ATTR_DATA));if(S.length>0){const D=(0,I.reflowLargerCreateNewLayout)(this.lines,S);(0,I.reflowLargerApplyNewLayout)(this.lines,D.layout),this._reflowLargerAdjustViewport(d,p,D.countRemoved)}}_reflowLargerAdjustViewport(d,p,S){const D=this.getNullCell(E.DEFAULT_ATTR_DATA);let T=S;for(;T-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<p&&this.lines.push(new E.BufferLine(d,D))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-S,0)}_reflowSmaller(d,p){const S=this.getNullCell(E.DEFAULT_ATTR_DATA),D=[];let T=0;for(let m=this.lines.length-1;m>=0;m--){let x=this.lines.get(m);if(!x||!x.isWrapped&&x.getTrimmedLength()<=d)continue;const P=[x];for(;x.isWrapped&&m>0;)x=this.lines.get(--m),P.unshift(x);const F=this.ybase+this.y;if(F>=m&&F<m+P.length)continue;const H=P[P.length-1].getTrimmedLength(),$=(0,I.reflowSmallerGetNewLineLengths)(P,this._cols,d),Z=$.length-P.length;let re;re=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+Z):Math.max(0,this.lines.length-this.lines.maxLength+Z);const oe=[];for(let ue=0;ue<Z;ue++){const De=this.getBlankLine(E.DEFAULT_ATTR_DATA,!0);oe.push(De)}oe.length>0&&(D.push({start:m+P.length+T,newLines:oe}),T+=oe.length),P.push(...oe);let R=$.length-1,L=$[R];0===L&&(R--,L=$[R]);let j=P.length-Z-1,N=H;for(;j>=0;){const ue=Math.min(N,L);if(void 0===P[R])break;if(P[R].copyCellsFrom(P[j],N-ue,L-ue,ue,!0),L-=ue,0===L&&(R--,L=$[R]),N-=ue,0===N){j--;const De=Math.max(j,0);N=(0,I.getWrappedLineTrimmedLength)(P,De,this._cols)}}for(let ue=0;ue<P.length;ue++)$[ue]<d&&P[ue].setCell($[ue],S);let te=Z-re;for(;te-- >0;)0===this.ybase?this.y<p-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+T)-p&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+Z,this.ybase+p-1)}if(D.length>0){const m=[],x=[];for(let R=0;R<this.lines.length;R++)x.push(this.lines.get(R));const P=this.lines.length;let F=P-1,H=0,$=D[H];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+T);let Z=0;for(let R=Math.min(this.lines.maxLength-1,P+T-1);R>=0;R--)if($&&$.start>F+Z){for(let L=$.newLines.length-1;L>=0;L--)this.lines.set(R--,$.newLines[L]);R++,m.push({index:F+1,amount:$.newLines.length}),Z+=$.newLines.length,$=D[++H]}else this.lines.set(R,x[F--]);let re=0;for(let R=m.length-1;R>=0;R--)m[R].index+=re,this.lines.onInsertEmitter.fire(m[R]),re+=m[R].amount;const oe=Math.max(0,P+T-this.lines.maxLength);oe>0&&this.lines.onTrimEmitter.fire(oe)}}stringIndexToBufferIndex(d,p,S=!1){for(;p;){const D=this.lines.get(d);if(!D)return[-1,-1];const T=S?D.getTrimmedLength():D.length;for(let m=0;m<T;++m)if(D.get(m)[w.CHAR_DATA_WIDTH_INDEX]&&(p-=D.get(m)[w.CHAR_DATA_CHAR_INDEX].length||1),p<0)return[d,m];d++}return[d,0]}translateBufferLineToString(d,p,S=0,D){const T=this.lines.get(d);return T?T.translateToString(p,S,D):""}getWrappedRangeForLine(d){let p=d,S=d;for(;p>0&&this.lines.get(p).isWrapped;)p--;for(;S+1<this.lines.length&&this.lines.get(S+1).isWrapped;)S++;return{first:p,last:S}}setupTabStops(d){for(null!=d?this.tabs[d]||(d=this.prevStop(d)):(this.tabs={},d=0);d<this._cols;d+=this._optionsService.rawOptions.tabStopWidth)this.tabs[d]=!0}prevStop(d){for(null==d&&(d=this.x);!this.tabs[--d]&&d>0;);return d>=this._cols?this._cols-1:d<0?0:d}nextStop(d){for(null==d&&(d=this.x);!this.tabs[++d]&&d<this._cols;);return d>=this._cols?this._cols-1:d<0?0:d}clearMarkers(d){this._isClearing=!0;for(let p=0;p<this.markers.length;p++)this.markers[p].line===d&&(this.markers[p].dispose(),this.markers.splice(p--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].dispose(),this.markers.splice(d--,1);this._isClearing=!1}addMarker(d){const p=new M.Marker(d);return this.markers.push(p),p.register(this.lines.onTrim(S=>{p.line-=S,p.line<0&&p.dispose()})),p.register(this.lines.onInsert(S=>{p.line>=S.index&&(p.line+=S.amount)})),p.register(this.lines.onDelete(S=>{p.line>=S.index&&p.line<S.index+S.amount&&p.dispose(),p.line>S.index&&(p.line-=S.amount)})),p.register(p.onDispose(()=>this._removeMarker(p))),p}_removeMarker(d){this._isClearing||this.markers.splice(this.markers.indexOf(d),1)}iterator(d,p,S,D,T){return new g(this,d,p,S,D,T)}};class g{constructor(p,S,D=0,T=p.lines.length,m=0,x=0){this._buffer=p,this._trimRight=S,this._startIndex=D,this._endIndex=T,this._startOverscan=m,this._endOverscan=x,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}hasNext(){return this._current<this._endIndex}next(){const p=this._buffer.getWrappedRangeForLine(this._current);p.first<this._startIndex-this._startOverscan&&(p.first=this._startIndex-this._startOverscan),p.last>this._endIndex+this._endOverscan&&(p.last=this._endIndex+this._endOverscan),p.first=Math.max(p.first,0),p.last=Math.min(p.last,this._buffer.lines.length);let S="";for(let D=p.first;D<=p.last;++D)S+=this._buffer.translateBufferLineToString(D,this._trimRight);return this._current=p.last+1,{range:p,content:S}}}h.BufferStringIterator=g},8437:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BufferLine=h.DEFAULT_ATTR_DATA=void 0;const y=v(482),E=v(643),b=v(511),w=v(3734);h.DEFAULT_ATTR_DATA=Object.freeze(new w.AttributeData);let I=0;class M{constructor(c,f,g=!1){this.isWrapped=g,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*c);const d=f||b.CellData.fromCharData([0,E.NULL_CELL_CHAR,E.NULL_CELL_WIDTH,E.NULL_CELL_CODE]);for(let p=0;p<c;++p)this.setCell(p,d);this.length=c}get(c){const f=this._data[3*c+0],g=2097151&f;return[this._data[3*c+1],2097152&f?this._combined[c]:g?(0,y.stringFromCodePoint)(g):"",f>>22,2097152&f?this._combined[c].charCodeAt(this._combined[c].length-1):g]}set(c,f){this._data[3*c+1]=f[E.CHAR_DATA_ATTR_INDEX],f[E.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[c]=f[1],this._data[3*c+0]=2097152|c|f[E.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*c+0]=f[E.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|f[E.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(c){return this._data[3*c+0]>>22}hasWidth(c){return 12582912&this._data[3*c+0]}getFg(c){return this._data[3*c+1]}getBg(c){return this._data[3*c+2]}hasContent(c){return 4194303&this._data[3*c+0]}getCodePoint(c){const f=this._data[3*c+0];return 2097152&f?this._combined[c].charCodeAt(this._combined[c].length-1):2097151&f}isCombined(c){return 2097152&this._data[3*c+0]}getString(c){const f=this._data[3*c+0];return 2097152&f?this._combined[c]:2097151&f?(0,y.stringFromCodePoint)(2097151&f):""}isProtected(c){return 536870912&this._data[3*c+2]}loadCell(c,f){return I=3*c,f.content=this._data[I+0],f.fg=this._data[I+1],f.bg=this._data[I+2],2097152&f.content&&(f.combinedData=this._combined[c]),268435456&f.bg&&(f.extended=this._extendedAttrs[c]),f}setCell(c,f){2097152&f.content&&(this._combined[c]=f.combinedData),268435456&f.bg&&(this._extendedAttrs[c]=f.extended),this._data[3*c+0]=f.content,this._data[3*c+1]=f.fg,this._data[3*c+2]=f.bg}setCellFromCodePoint(c,f,g,d,p,S){268435456&p&&(this._extendedAttrs[c]=S),this._data[3*c+0]=f|g<<22,this._data[3*c+1]=d,this._data[3*c+2]=p}addCodepointToCell(c,f){let g=this._data[3*c+0];2097152&g?this._combined[c]+=(0,y.stringFromCodePoint)(f):(2097151&g?(this._combined[c]=(0,y.stringFromCodePoint)(2097151&g)+(0,y.stringFromCodePoint)(f),g&=-2097152,g|=2097152):g=4194304|f,this._data[3*c+0]=g)}insertCells(c,f,g,d){if((c%=this.length)&&2===this.getWidth(c-1)&&this.setCellFromCodePoint(c-1,0,1,d?.fg||0,d?.bg||0,d?.extended||new w.ExtendedAttrs),f<this.length-c){const p=new b.CellData;for(let S=this.length-c-f-1;S>=0;--S)this.setCell(c+f+S,this.loadCell(c+S,p));for(let S=0;S<f;++S)this.setCell(c+S,g)}else for(let p=c;p<this.length;++p)this.setCell(p,g);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,d?.fg||0,d?.bg||0,d?.extended||new w.ExtendedAttrs)}deleteCells(c,f,g,d){if(f<this.length-(c%=this.length)){const p=new b.CellData;for(let S=0;S<this.length-c-f;++S)this.setCell(c+S,this.loadCell(c+f+S,p));for(let S=this.length-f;S<this.length;++S)this.setCell(S,g)}else for(let p=c;p<this.length;++p)this.setCell(p,g);c&&2===this.getWidth(c-1)&&this.setCellFromCodePoint(c-1,0,1,d?.fg||0,d?.bg||0,d?.extended||new w.ExtendedAttrs),0!==this.getWidth(c)||this.hasContent(c)||this.setCellFromCodePoint(c,0,1,d?.fg||0,d?.bg||0,d?.extended||new w.ExtendedAttrs)}replaceCells(c,f,g,d,p=!1){if(p)for(c&&2===this.getWidth(c-1)&&!this.isProtected(c-1)&&this.setCellFromCodePoint(c-1,0,1,d?.fg||0,d?.bg||0,d?.extended||new w.ExtendedAttrs),f<this.length&&2===this.getWidth(f-1)&&!this.isProtected(f)&&this.setCellFromCodePoint(f,0,1,d?.fg||0,d?.bg||0,d?.extended||new w.ExtendedAttrs);c<f&&c<this.length;)this.isProtected(c)||this.setCell(c,g),c++;else for(c&&2===this.getWidth(c-1)&&this.setCellFromCodePoint(c-1,0,1,d?.fg||0,d?.bg||0,d?.extended||new w.ExtendedAttrs),f<this.length&&2===this.getWidth(f-1)&&this.setCellFromCodePoint(f,0,1,d?.fg||0,d?.bg||0,d?.extended||new w.ExtendedAttrs);c<f&&c<this.length;)this.setCell(c++,g)}resize(c,f){if(c===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const g=3*c;if(c>this.length){if(this._data.buffer.byteLength>=4*g)this._data=new Uint32Array(this._data.buffer,0,g);else{const d=new Uint32Array(g);d.set(this._data),this._data=d}for(let d=this.length;d<c;++d)this.setCell(d,f)}else{this._data=this._data.subarray(0,g);const d=Object.keys(this._combined);for(let S=0;S<d.length;S++){const D=parseInt(d[S],10);D>=c&&delete this._combined[D]}const p=Object.keys(this._extendedAttrs);for(let S=0;S<p.length;S++){const D=parseInt(p[S],10);D>=c&&delete this._extendedAttrs[D]}}return this.length=c,4*g*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const c=new Uint32Array(this._data.length);return c.set(this._data),this._data=c,1}return 0}fill(c,f=!1){if(f)for(let g=0;g<this.length;++g)this.isProtected(g)||this.setCell(g,c);else{this._combined={},this._extendedAttrs={};for(let g=0;g<this.length;++g)this.setCell(g,c)}}copyFrom(c){this.length!==c.length?this._data=new Uint32Array(c._data):this._data.set(c._data),this.length=c.length,this._combined={};for(const f in c._combined)this._combined[f]=c._combined[f];this._extendedAttrs={};for(const f in c._extendedAttrs)this._extendedAttrs[f]=c._extendedAttrs[f];this.isWrapped=c.isWrapped}clone(){const c=new M(0);c._data=new Uint32Array(this._data),c.length=this.length;for(const f in this._combined)c._combined[f]=this._combined[f];for(const f in this._extendedAttrs)c._extendedAttrs[f]=this._extendedAttrs[f];return c.isWrapped=this.isWrapped,c}getTrimmedLength(){for(let c=this.length-1;c>=0;--c)if(4194303&this._data[3*c+0])return c+(this._data[3*c+0]>>22);return 0}copyCellsFrom(c,f,g,d,p){const S=c._data;if(p)for(let T=d-1;T>=0;T--){for(let m=0;m<3;m++)this._data[3*(g+T)+m]=S[3*(f+T)+m];268435456&S[3*(f+T)+2]&&(this._extendedAttrs[g+T]=c._extendedAttrs[f+T])}else for(let T=0;T<d;T++){for(let m=0;m<3;m++)this._data[3*(g+T)+m]=S[3*(f+T)+m];268435456&S[3*(f+T)+2]&&(this._extendedAttrs[g+T]=c._extendedAttrs[f+T])}const D=Object.keys(c._combined);for(let T=0;T<D.length;T++){const m=parseInt(D[T],10);m>=f&&(this._combined[m-f+g]=c._combined[m])}}translateToString(c=!1,f=0,g=this.length){c&&(g=Math.min(g,this.getTrimmedLength()));let d="";for(;f<g;){const p=this._data[3*f+0],S=2097151&p;d+=2097152&p?this._combined[f]:S?(0,y.stringFromCodePoint)(S):E.WHITESPACE_CELL_CHAR,f+=p>>22||1}return d}}h.BufferLine=M},4841:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.getRangeLength=void 0,h.getRangeLength=function(v,y){if(v.start.y>v.end.y)throw new Error(`Buffer range end (${v.end.x}, ${v.end.y}) cannot be before start (${v.start.x}, ${v.start.y})`);return y*(v.end.y-v.start.y)+(v.end.x-v.start.x+1)}},4634:(Q,h)=>{function v(y,E,b){if(E===y.length-1)return y[E].getTrimmedLength();const w=!y[E].hasContent(b-1)&&1===y[E].getWidth(b-1),I=2===y[E+1].getWidth(0);return w&&I?b-1:b}Object.defineProperty(h,"__esModule",{value:!0}),h.getWrappedLineTrimmedLength=h.reflowSmallerGetNewLineLengths=h.reflowLargerApplyNewLayout=h.reflowLargerCreateNewLayout=h.reflowLargerGetLinesToRemove=void 0,h.reflowLargerGetLinesToRemove=function(y,E,b,w,I){const M=[];for(let C=0;C<y.length-1;C++){let c=C,f=y.get(++c);if(!f.isWrapped)continue;const g=[y.get(C)];for(;c<y.length&&f.isWrapped;)g.push(f),f=y.get(++c);if(w>=C&&w<c){C+=g.length-1;continue}let d=0,p=v(g,d,E),S=1,D=0;for(;S<g.length;){const m=v(g,S,E),F=Math.min(m-D,b-p);g[d].copyCellsFrom(g[S],D,p,F,!1),p+=F,p===b&&(d++,p=0),D+=F,D===m&&(S++,D=0),0===p&&0!==d&&2===g[d-1].getWidth(b-1)&&(g[d].copyCellsFrom(g[d-1],b-1,p++,1,!1),g[d-1].setCell(b-1,I))}g[d].replaceCells(p,b,I);let T=0;for(let m=g.length-1;m>0&&(m>d||0===g[m].getTrimmedLength());m--)T++;T>0&&(M.push(C+g.length-T),M.push(T)),C+=g.length-1}return M},h.reflowLargerCreateNewLayout=function(y,E){const b=[];let w=0,I=E[w],M=0;for(let C=0;C<y.length;C++)if(I===C){const c=E[++w];y.onDeleteEmitter.fire({index:C-M,amount:c}),C+=c-1,M+=c,I=E[++w]}else b.push(C);return{layout:b,countRemoved:M}},h.reflowLargerApplyNewLayout=function(y,E){const b=[];for(let w=0;w<E.length;w++)b.push(y.get(E[w]));for(let w=0;w<b.length;w++)y.set(w,b[w]);y.length=E.length},h.reflowSmallerGetNewLineLengths=function(y,E,b){const w=[],I=y.map((f,g)=>v(y,g,E)).reduce((f,g)=>f+g);let M=0,C=0,c=0;for(;c<I;){if(I-c<b){w.push(I-c);break}M+=b;const f=v(y,C,E);M>f&&(M-=f,C++);const g=2===y[C].getWidth(M-1);g&&M--;const d=g?b-1:b;w.push(d),c+=d}return w},h.getWrappedLineTrimmedLength=v},5295:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BufferSet=void 0;const y=v(9092),E=v(8460),b=v(844);h.BufferSet=class w extends b.Disposable{constructor(M,C){super(),this._optionsService=M,this._bufferService=C,this._onBufferActivate=this.register(new E.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new y.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new y.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(M){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(M),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(M,C){this._normal.resize(M,C),this._alt.resize(M,C),this.setupTabStops(M)}setupTabStops(M){this._normal.setupTabStops(M),this._alt.setupTabStops(M)}}},511:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CellData=void 0;const y=v(482),E=v(643),b=v(3734);class w extends b.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new b.ExtendedAttrs,this.combinedData=""}static fromCharData(M){const C=new w;return C.setFromCharData(M),C}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,y.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(M){this.fg=M[E.CHAR_DATA_ATTR_INDEX],this.bg=0;let C=!1;if(M[E.CHAR_DATA_CHAR_INDEX].length>2)C=!0;else if(2===M[E.CHAR_DATA_CHAR_INDEX].length){const c=M[E.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=c&&c<=56319){const f=M[E.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=f&&f<=57343?this.content=1024*(c-55296)+f-56320+65536|M[E.CHAR_DATA_WIDTH_INDEX]<<22:C=!0}else C=!0}else this.content=M[E.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|M[E.CHAR_DATA_WIDTH_INDEX]<<22;C&&(this.combinedData=M[E.CHAR_DATA_CHAR_INDEX],this.content=2097152|M[E.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}h.CellData=w},643:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WHITESPACE_CELL_CODE=h.WHITESPACE_CELL_WIDTH=h.WHITESPACE_CELL_CHAR=h.NULL_CELL_CODE=h.NULL_CELL_WIDTH=h.NULL_CELL_CHAR=h.CHAR_DATA_CODE_INDEX=h.CHAR_DATA_WIDTH_INDEX=h.CHAR_DATA_CHAR_INDEX=h.CHAR_DATA_ATTR_INDEX=h.DEFAULT_EXT=h.DEFAULT_ATTR=h.DEFAULT_COLOR=void 0,h.DEFAULT_COLOR=0,h.DEFAULT_ATTR=256|h.DEFAULT_COLOR<<9,h.DEFAULT_EXT=0,h.CHAR_DATA_ATTR_INDEX=0,h.CHAR_DATA_CHAR_INDEX=1,h.CHAR_DATA_WIDTH_INDEX=2,h.CHAR_DATA_CODE_INDEX=3,h.NULL_CELL_CHAR="",h.NULL_CELL_WIDTH=1,h.NULL_CELL_CODE=0,h.WHITESPACE_CELL_CHAR=" ",h.WHITESPACE_CELL_WIDTH=1,h.WHITESPACE_CELL_CODE=32},4863:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Marker=void 0;const y=v(8460),E=v(844);class b{constructor(I){this.line=I,this.isDisposed=!1,this._disposables=[],this._id=b._nextId++,this._onDispose=this.register(new y.EventEmitter),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,E.disposeArray)(this._disposables),this._disposables.length=0)}register(I){return this._disposables.push(I),I}}h.Marker=b,b._nextId=1},7116:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DEFAULT_CHARSET=h.CHARSETS=void 0,h.CHARSETS={},h.DEFAULT_CHARSET=h.CHARSETS.B,h.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},h.CHARSETS.A={"#":"\xa3"},h.CHARSETS.B=void 0,h.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},h.CHARSETS.C=h.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},h.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},h.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},h.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},h.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},h.CHARSETS.E=h.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},h.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},h.CHARSETS.H=h.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},h.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(Q,h)=>{var v,y,E;Object.defineProperty(h,"__esModule",{value:!0}),h.C1_ESCAPED=h.C1=h.C0=void 0,(E=v=h.C0||(h.C0={})).NUL="\0",E.SOH="\x01",E.STX="\x02",E.ETX="\x03",E.EOT="\x04",E.ENQ="\x05",E.ACK="\x06",E.BEL="\x07",E.BS="\b",E.HT="\t",E.LF="\n",E.VT="\v",E.FF="\f",E.CR="\r",E.SO="\x0e",E.SI="\x0f",E.DLE="\x10",E.DC1="\x11",E.DC2="\x12",E.DC3="\x13",E.DC4="\x14",E.NAK="\x15",E.SYN="\x16",E.ETB="\x17",E.CAN="\x18",E.EM="\x19",E.SUB="\x1a",E.ESC="\x1b",E.FS="\x1c",E.GS="\x1d",E.RS="\x1e",E.US="\x1f",E.SP=" ",E.DEL="\x7f",(y=h.C1||(h.C1={})).PAD="\x80",y.HOP="\x81",y.BPH="\x82",y.NBH="\x83",y.IND="\x84",y.NEL="\x85",y.SSA="\x86",y.ESA="\x87",y.HTS="\x88",y.HTJ="\x89",y.VTS="\x8a",y.PLD="\x8b",y.PLU="\x8c",y.RI="\x8d",y.SS2="\x8e",y.SS3="\x8f",y.DCS="\x90",y.PU1="\x91",y.PU2="\x92",y.STS="\x93",y.CCH="\x94",y.MW="\x95",y.SPA="\x96",y.EPA="\x97",y.SOS="\x98",y.SGCI="\x99",y.SCI="\x9a",y.CSI="\x9b",y.ST="\x9c",y.OSC="\x9d",y.PM="\x9e",y.APC="\x9f",(h.C1_ESCAPED||(h.C1_ESCAPED={})).ST=`${v.ESC}\\`},7399:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.evaluateKeyboardEvent=void 0;const y=v(2584),E={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};h.evaluateKeyboardEvent=function(b,w,I,M){const C={type:0,cancel:!1,key:void 0},c=(b.shiftKey?1:0)|(b.altKey?2:0)|(b.ctrlKey?4:0)|(b.metaKey?8:0);switch(b.keyCode){case 0:"UIKeyInputUpArrow"===b.key?C.key=w?y.C0.ESC+"OA":y.C0.ESC+"[A":"UIKeyInputLeftArrow"===b.key?C.key=w?y.C0.ESC+"OD":y.C0.ESC+"[D":"UIKeyInputRightArrow"===b.key?C.key=w?y.C0.ESC+"OC":y.C0.ESC+"[C":"UIKeyInputDownArrow"===b.key&&(C.key=w?y.C0.ESC+"OB":y.C0.ESC+"[B");break;case 8:if(b.altKey){C.key=y.C0.ESC+y.C0.DEL;break}C.key=y.C0.DEL;break;case 9:if(b.shiftKey){C.key=y.C0.ESC+"[Z";break}C.key=y.C0.HT,C.cancel=!0;break;case 13:C.key=b.altKey?y.C0.ESC+y.C0.CR:y.C0.CR,C.cancel=!0;break;case 27:C.key=y.C0.ESC,b.altKey&&(C.key=y.C0.ESC+y.C0.ESC),C.cancel=!0;break;case 37:if(b.metaKey)break;c?(C.key=y.C0.ESC+"[1;"+(c+1)+"D",C.key===y.C0.ESC+"[1;3D"&&(C.key=y.C0.ESC+(I?"b":"[1;5D"))):C.key=w?y.C0.ESC+"OD":y.C0.ESC+"[D";break;case 39:if(b.metaKey)break;c?(C.key=y.C0.ESC+"[1;"+(c+1)+"C",C.key===y.C0.ESC+"[1;3C"&&(C.key=y.C0.ESC+(I?"f":"[1;5C"))):C.key=w?y.C0.ESC+"OC":y.C0.ESC+"[C";break;case 38:if(b.metaKey)break;c?(C.key=y.C0.ESC+"[1;"+(c+1)+"A",I||C.key!==y.C0.ESC+"[1;3A"||(C.key=y.C0.ESC+"[1;5A")):C.key=w?y.C0.ESC+"OA":y.C0.ESC+"[A";break;case 40:if(b.metaKey)break;c?(C.key=y.C0.ESC+"[1;"+(c+1)+"B",I||C.key!==y.C0.ESC+"[1;3B"||(C.key=y.C0.ESC+"[1;5B")):C.key=w?y.C0.ESC+"OB":y.C0.ESC+"[B";break;case 45:b.shiftKey||b.ctrlKey||(C.key=y.C0.ESC+"[2~");break;case 46:C.key=c?y.C0.ESC+"[3;"+(c+1)+"~":y.C0.ESC+"[3~";break;case 36:C.key=c?y.C0.ESC+"[1;"+(c+1)+"H":w?y.C0.ESC+"OH":y.C0.ESC+"[H";break;case 35:C.key=c?y.C0.ESC+"[1;"+(c+1)+"F":w?y.C0.ESC+"OF":y.C0.ESC+"[F";break;case 33:b.shiftKey?C.type=2:C.key=b.ctrlKey?y.C0.ESC+"[5;"+(c+1)+"~":y.C0.ESC+"[5~";break;case 34:b.shiftKey?C.type=3:C.key=b.ctrlKey?y.C0.ESC+"[6;"+(c+1)+"~":y.C0.ESC+"[6~";break;case 112:C.key=c?y.C0.ESC+"[1;"+(c+1)+"P":y.C0.ESC+"OP";break;case 113:C.key=c?y.C0.ESC+"[1;"+(c+1)+"Q":y.C0.ESC+"OQ";break;case 114:C.key=c?y.C0.ESC+"[1;"+(c+1)+"R":y.C0.ESC+"OR";break;case 115:C.key=c?y.C0.ESC+"[1;"+(c+1)+"S":y.C0.ESC+"OS";break;case 116:C.key=c?y.C0.ESC+"[15;"+(c+1)+"~":y.C0.ESC+"[15~";break;case 117:C.key=c?y.C0.ESC+"[17;"+(c+1)+"~":y.C0.ESC+"[17~";break;case 118:C.key=c?y.C0.ESC+"[18;"+(c+1)+"~":y.C0.ESC+"[18~";break;case 119:C.key=c?y.C0.ESC+"[19;"+(c+1)+"~":y.C0.ESC+"[19~";break;case 120:C.key=c?y.C0.ESC+"[20;"+(c+1)+"~":y.C0.ESC+"[20~";break;case 121:C.key=c?y.C0.ESC+"[21;"+(c+1)+"~":y.C0.ESC+"[21~";break;case 122:C.key=c?y.C0.ESC+"[23;"+(c+1)+"~":y.C0.ESC+"[23~";break;case 123:C.key=c?y.C0.ESC+"[24;"+(c+1)+"~":y.C0.ESC+"[24~";break;default:if(!b.ctrlKey||b.shiftKey||b.altKey||b.metaKey)if(I&&!M||!b.altKey||b.metaKey)!I||b.altKey||b.ctrlKey||b.shiftKey||!b.metaKey?b.key&&!b.ctrlKey&&!b.altKey&&!b.metaKey&&b.keyCode>=48&&1===b.key.length?C.key=b.key:b.key&&b.ctrlKey&&("_"===b.key&&(C.key=y.C0.US),"@"===b.key&&(C.key=y.C0.NUL)):65===b.keyCode&&(C.type=1);else{const g=E[b.keyCode]?.[b.shiftKey?1:0];if(g)C.key=y.C0.ESC+g;else if(b.keyCode>=65&&b.keyCode<=90){let p=String.fromCharCode(b.ctrlKey?b.keyCode-64:b.keyCode+32);b.shiftKey&&(p=p.toUpperCase()),C.key=y.C0.ESC+p}else if(32===b.keyCode)C.key=y.C0.ESC+(b.ctrlKey?y.C0.NUL:" ");else if("Dead"===b.key&&b.code.startsWith("Key")){let d=b.code.slice(3,4);b.shiftKey||(d=d.toLowerCase()),C.key=y.C0.ESC+d,C.cancel=!0}}else b.keyCode>=65&&b.keyCode<=90?C.key=String.fromCharCode(b.keyCode-64):32===b.keyCode?C.key=y.C0.NUL:b.keyCode>=51&&b.keyCode<=55?C.key=String.fromCharCode(b.keyCode-51+27):56===b.keyCode?C.key=y.C0.DEL:219===b.keyCode?C.key=y.C0.ESC:220===b.keyCode?C.key=y.C0.FS:221===b.keyCode&&(C.key=y.C0.GS)}return C}},482:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Utf8ToUtf32=h.StringToUtf32=h.utf32ToString=h.stringFromCodePoint=void 0,h.stringFromCodePoint=function(v){return v>65535?(v-=65536,String.fromCharCode(55296+(v>>10))+String.fromCharCode(v%1024+56320)):String.fromCharCode(v)},h.utf32ToString=function(v,y=0,E=v.length){let b="";for(let w=y;w<E;++w){let I=v[w];I>65535?(I-=65536,b+=String.fromCharCode(55296+(I>>10))+String.fromCharCode(I%1024+56320)):b+=String.fromCharCode(I)}return b},h.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(v,y){const E=v.length;if(!E)return 0;let b=0,w=0;if(this._interim){const I=v.charCodeAt(w++);56320<=I&&I<=57343?y[b++]=1024*(this._interim-55296)+I-56320+65536:(y[b++]=this._interim,y[b++]=I),this._interim=0}for(let I=w;I<E;++I){const M=v.charCodeAt(I);if(55296<=M&&M<=56319){if(++I>=E)return this._interim=M,b;const C=v.charCodeAt(I);56320<=C&&C<=57343?y[b++]=1024*(M-55296)+C-56320+65536:(y[b++]=M,y[b++]=C)}else 65279!==M&&(y[b++]=M)}return b}},h.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(v,y){const E=v.length;if(!E)return 0;let b,w,I,M,C=0,c=0,f=0;if(this.interim[0]){let p=!1,S=this.interim[0];S&=192==(224&S)?31:224==(240&S)?15:7;let D,T=0;for(;(D=63&this.interim[++T])&&T<4;)S<<=6,S|=D;const m=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,x=m-T;for(;f<x;){if(f>=E)return 0;if(D=v[f++],128!=(192&D)){f--,p=!0;break}this.interim[T++]=D,S<<=6,S|=63&D}p||(2===m?S<128?f--:y[C++]=S:3===m?S<2048||S>=55296&&S<=57343||65279===S||(y[C++]=S):S<65536||S>1114111||(y[C++]=S)),this.interim.fill(0)}const g=E-4;let d=f;for(;d<E;){for(;!(!(d<g)||128&(b=v[d])||128&(w=v[d+1])||128&(I=v[d+2])||128&(M=v[d+3]));)y[C++]=b,y[C++]=w,y[C++]=I,y[C++]=M,d+=4;if(b=v[d++],b<128)y[C++]=b;else if(192==(224&b)){if(d>=E)return this.interim[0]=b,C;if(w=v[d++],128!=(192&w)){d--;continue}if(c=(31&b)<<6|63&w,c<128){d--;continue}y[C++]=c}else if(224==(240&b)){if(d>=E)return this.interim[0]=b,C;if(w=v[d++],128!=(192&w)){d--;continue}if(d>=E)return this.interim[0]=b,this.interim[1]=w,C;if(I=v[d++],128!=(192&I)){d--;continue}if(c=(15&b)<<12|(63&w)<<6|63&I,c<2048||c>=55296&&c<=57343||65279===c)continue;y[C++]=c}else if(240==(248&b)){if(d>=E)return this.interim[0]=b,C;if(w=v[d++],128!=(192&w)){d--;continue}if(d>=E)return this.interim[0]=b,this.interim[1]=w,C;if(I=v[d++],128!=(192&I)){d--;continue}if(d>=E)return this.interim[0]=b,this.interim[1]=w,this.interim[2]=I,C;if(M=v[d++],128!=(192&M)){d--;continue}if(c=(7&b)<<18|(63&w)<<12|(63&I)<<6|63&M,c<65536||c>1114111)continue;y[C++]=c}}return C}}},225:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.UnicodeV6=void 0;const v=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],y=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let E;h.UnicodeV6=class{constructor(){if(this.version="6",!E){E=new Uint8Array(65536),E.fill(1),E[0]=0,E.fill(0,1,32),E.fill(0,127,160),E.fill(2,4352,4448),E[9001]=2,E[9002]=2,E.fill(2,11904,42192),E[12351]=1,E.fill(2,44032,55204),E.fill(2,63744,64256),E.fill(2,65040,65050),E.fill(2,65072,65136),E.fill(2,65280,65377),E.fill(2,65504,65511);for(let b=0;b<v.length;++b)E.fill(0,v[b][0],v[b][1]+1)}}wcwidth(b){return b<32?0:b<127?1:b<65536?E[b]:function(w,I){let M,C=0,c=I.length-1;if(w<I[0][0]||w>I[c][1])return!1;for(;c>=C;)if(M=C+c>>1,w>I[M][1])C=M+1;else{if(!(w<I[M][0]))return!0;c=M-1}return!1}(b,y)?0:b>=131072&&b<=196605||b>=196608&&b<=262141?2:1}}},5981:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WriteBuffer=void 0;const y=v(8460),E=v(844);h.WriteBuffer=class b extends E.Disposable{constructor(I){super(),this._action=I,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new y.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(I,M){if(void 0!==M&&this._syncCalls>M)return void(this._syncCalls=0);if(this._pendingData+=I.length,this._writeBuffer.push(I),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let C;for(this._isSyncWriting=!0;C=this._writeBuffer.shift();){this._action(C);const c=this._callbacks.shift();c&&c()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(I,M){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=I.length,this._writeBuffer.push(I),this._callbacks.push(M),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=I.length,this._writeBuffer.push(I),this._callbacks.push(M)}_innerWrite(I=0,M=!0){const C=I||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const c=this._writeBuffer[this._bufferOffset],f=this._action(c,M);if(f){const d=p=>Date.now()-C>=12?setTimeout(()=>this._innerWrite(0,p)):this._innerWrite(C,p);return void f.catch(p=>(queueMicrotask(()=>{throw p}),Promise.resolve(!1))).then(d)}const g=this._callbacks[this._bufferOffset];if(g&&g(),this._bufferOffset++,this._pendingData-=c.length,Date.now()-C>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}},5941:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.toRgbString=h.parseColor=void 0;const v=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,y=/^[\da-f]+$/;function E(b,w){const I=b.toString(16),M=I.length<2?"0"+I:I;switch(w){case 4:return I[0];case 8:return M;case 12:return(M+M).slice(0,3);default:return M+M}}h.parseColor=function(b){if(!b)return;let w=b.toLowerCase();if(0===w.indexOf("rgb:")){w=w.slice(4);const I=v.exec(w);if(I){const M=I[1]?15:I[4]?255:I[7]?4095:65535;return[Math.round(parseInt(I[1]||I[4]||I[7]||I[10],16)/M*255),Math.round(parseInt(I[2]||I[5]||I[8]||I[11],16)/M*255),Math.round(parseInt(I[3]||I[6]||I[9]||I[12],16)/M*255)]}}else if(0===w.indexOf("#")&&(w=w.slice(1),y.exec(w)&&[3,6,9,12].includes(w.length))){const I=w.length/3,M=[0,0,0];for(let C=0;C<3;++C){const c=parseInt(w.slice(I*C,I*C+I),16);M[C]=1===I?c<<4:2===I?c:3===I?c>>4:c>>8}return M}},h.toRgbString=function(b,w=16){const[I,M,C]=b;return`rgb:${E(I,w)}/${E(M,w)}/${E(C,w)}`}},5770:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PAYLOAD_LIMIT=void 0,h.PAYLOAD_LIMIT=1e7},6351:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DcsHandler=h.DcsParser=void 0;const y=v(482),E=v(8742),b=v(5770),w=[];h.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=w,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=w}registerHandler(M,C){void 0===this._handlers[M]&&(this._handlers[M]=[]);const c=this._handlers[M];return c.push(C),{dispose:()=>{const f=c.indexOf(C);-1!==f&&c.splice(f,1)}}}clearHandler(M){this._handlers[M]&&delete this._handlers[M]}setHandlerFallback(M){this._handlerFb=M}reset(){if(this._active.length)for(let M=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;M>=0;--M)this._active[M].unhook(!1);this._stack.paused=!1,this._active=w,this._ident=0}hook(M,C){if(this.reset(),this._ident=M,this._active=this._handlers[M]||w,this._active.length)for(let c=this._active.length-1;c>=0;c--)this._active[c].hook(C);else this._handlerFb(this._ident,"HOOK",C)}put(M,C,c){if(this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].put(M,C,c);else this._handlerFb(this._ident,"PUT",(0,y.utf32ToString)(M,C,c))}unhook(M,C=!0){if(this._active.length){let c=!1,f=this._active.length-1,g=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,c=C,g=this._stack.fallThrough,this._stack.paused=!1),!g&&!1===c){for(;f>=0&&(c=this._active[f].unhook(M),!0!==c);f--)if(c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,c;f--}for(;f>=0;f--)if(c=this._active[f].unhook(!1),c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,c}else this._handlerFb(this._ident,"UNHOOK",M);this._active=w,this._ident=0}};const I=new E.Params;I.addParam(0),h.DcsHandler=class{constructor(M){this._handler=M,this._data="",this._params=I,this._hitLimit=!1}hook(M){this._params=M.length>1||M.params[0]?M.clone():I,this._data="",this._hitLimit=!1}put(M,C,c){this._hitLimit||(this._data+=(0,y.utf32ToString)(M,C,c),this._data.length>b.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(M){let C=!1;if(this._hitLimit)C=!1;else if(M&&(C=this._handler(this._data,this._params),C instanceof Promise))return C.then(c=>(this._params=I,this._data="",this._hitLimit=!1,c));return this._params=I,this._data="",this._hitLimit=!1,C}}},2015:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.EscapeSequenceParser=h.VT500_TRANSITION_TABLE=h.TransitionTable=void 0;const y=v(844),E=v(8742),b=v(6242),w=v(6351);class I{constructor(f){this.table=new Uint8Array(f)}setDefault(f,g){this.table.fill(f<<4|g)}add(f,g,d,p){this.table[g<<8|f]=d<<4|p}addMany(f,g,d,p){for(let S=0;S<f.length;S++)this.table[g<<8|f[S]]=d<<4|p}}h.TransitionTable=I;const M=160;h.VT500_TRANSITION_TABLE=function(){const c=new I(4095),f=Array.apply(null,Array(256)).map((T,m)=>m),g=(T,m)=>f.slice(T,m),d=g(32,127),p=g(0,24);p.push(25),p.push.apply(p,g(28,32));const S=g(0,14);let D;for(D in c.setDefault(1,0),c.addMany(d,0,2,0),S)c.addMany([24,26,153,154],D,3,0),c.addMany(g(128,144),D,3,0),c.addMany(g(144,152),D,3,0),c.add(156,D,0,0),c.add(27,D,11,1),c.add(157,D,4,8),c.addMany([152,158,159],D,0,7),c.add(155,D,11,3),c.add(144,D,11,9);return c.addMany(p,0,3,0),c.addMany(p,1,3,1),c.add(127,1,0,1),c.addMany(p,8,0,8),c.addMany(p,3,3,3),c.add(127,3,0,3),c.addMany(p,4,3,4),c.add(127,4,0,4),c.addMany(p,6,3,6),c.addMany(p,5,3,5),c.add(127,5,0,5),c.addMany(p,2,3,2),c.add(127,2,0,2),c.add(93,1,4,8),c.addMany(d,8,5,8),c.add(127,8,5,8),c.addMany([156,27,24,26,7],8,6,0),c.addMany(g(28,32),8,0,8),c.addMany([88,94,95],1,0,7),c.addMany(d,7,0,7),c.addMany(p,7,0,7),c.add(156,7,0,0),c.add(127,7,0,7),c.add(91,1,11,3),c.addMany(g(64,127),3,7,0),c.addMany(g(48,60),3,8,4),c.addMany([60,61,62,63],3,9,4),c.addMany(g(48,60),4,8,4),c.addMany(g(64,127),4,7,0),c.addMany([60,61,62,63],4,0,6),c.addMany(g(32,64),6,0,6),c.add(127,6,0,6),c.addMany(g(64,127),6,0,0),c.addMany(g(32,48),3,9,5),c.addMany(g(32,48),5,9,5),c.addMany(g(48,64),5,0,6),c.addMany(g(64,127),5,7,0),c.addMany(g(32,48),4,9,5),c.addMany(g(32,48),1,9,2),c.addMany(g(32,48),2,9,2),c.addMany(g(48,127),2,10,0),c.addMany(g(48,80),1,10,0),c.addMany(g(81,88),1,10,0),c.addMany([89,90,92],1,10,0),c.addMany(g(96,127),1,10,0),c.add(80,1,11,9),c.addMany(p,9,0,9),c.add(127,9,0,9),c.addMany(g(28,32),9,0,9),c.addMany(g(32,48),9,9,12),c.addMany(g(48,60),9,8,10),c.addMany([60,61,62,63],9,9,10),c.addMany(p,11,0,11),c.addMany(g(32,128),11,0,11),c.addMany(g(28,32),11,0,11),c.addMany(p,10,0,10),c.add(127,10,0,10),c.addMany(g(28,32),10,0,10),c.addMany(g(48,60),10,8,10),c.addMany([60,61,62,63],10,0,11),c.addMany(g(32,48),10,9,12),c.addMany(p,12,0,12),c.add(127,12,0,12),c.addMany(g(28,32),12,0,12),c.addMany(g(32,48),12,9,12),c.addMany(g(48,64),12,0,11),c.addMany(g(64,127),12,12,13),c.addMany(g(64,127),10,12,13),c.addMany(g(64,127),9,12,13),c.addMany(p,13,13,13),c.addMany(d,13,13,13),c.add(127,13,0,13),c.addMany([27,156,24,26],13,14,0),c.add(M,0,2,0),c.add(M,8,5,8),c.add(M,6,0,6),c.add(M,11,0,11),c.add(M,13,13,13),c}();h.EscapeSequenceParser=class C extends y.Disposable{constructor(f=h.VT500_TRANSITION_TABLE){super(),this._transitions=f,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new E.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(g,d,p)=>{},this._executeHandlerFb=g=>{},this._csiHandlerFb=(g,d)=>{},this._escHandlerFb=g=>{},this._errorHandlerFb=g=>g,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,y.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new b.OscParser),this._dcsParser=this.register(new w.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(f,g=[64,126]){let d=0;if(f.prefix){if(f.prefix.length>1)throw new Error("only one byte as prefix supported");if(d=f.prefix.charCodeAt(0),d&&60>d||d>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(f.intermediates){if(f.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let S=0;S<f.intermediates.length;++S){const D=f.intermediates.charCodeAt(S);if(32>D||D>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");d<<=8,d|=D}}if(1!==f.final.length)throw new Error("final must be a single byte");const p=f.final.charCodeAt(0);if(g[0]>p||p>g[1])throw new Error(`final must be in range ${g[0]} .. ${g[1]}`);return d<<=8,d|=p,d}identToString(f){const g=[];for(;f;)g.push(String.fromCharCode(255&f)),f>>=8;return g.reverse().join("")}setPrintHandler(f){this._printHandler=f}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(f,g){const d=this._identifier(f,[48,126]);void 0===this._escHandlers[d]&&(this._escHandlers[d]=[]);const p=this._escHandlers[d];return p.push(g),{dispose:()=>{const S=p.indexOf(g);-1!==S&&p.splice(S,1)}}}clearEscHandler(f){this._escHandlers[this._identifier(f,[48,126])]&&delete this._escHandlers[this._identifier(f,[48,126])]}setEscHandlerFallback(f){this._escHandlerFb=f}setExecuteHandler(f,g){this._executeHandlers[f.charCodeAt(0)]=g}clearExecuteHandler(f){this._executeHandlers[f.charCodeAt(0)]&&delete this._executeHandlers[f.charCodeAt(0)]}setExecuteHandlerFallback(f){this._executeHandlerFb=f}registerCsiHandler(f,g){const d=this._identifier(f);void 0===this._csiHandlers[d]&&(this._csiHandlers[d]=[]);const p=this._csiHandlers[d];return p.push(g),{dispose:()=>{const S=p.indexOf(g);-1!==S&&p.splice(S,1)}}}clearCsiHandler(f){this._csiHandlers[this._identifier(f)]&&delete this._csiHandlers[this._identifier(f)]}setCsiHandlerFallback(f){this._csiHandlerFb=f}registerDcsHandler(f,g){return this._dcsParser.registerHandler(this._identifier(f),g)}clearDcsHandler(f){this._dcsParser.clearHandler(this._identifier(f))}setDcsHandlerFallback(f){this._dcsParser.setHandlerFallback(f)}registerOscHandler(f,g){return this._oscParser.registerHandler(f,g)}clearOscHandler(f){this._oscParser.clearHandler(f)}setOscHandlerFallback(f){this._oscParser.setHandlerFallback(f)}setErrorHandler(f){this._errorHandler=f}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(f,g,d,p,S){this._parseStack.state=f,this._parseStack.handlers=g,this._parseStack.handlerPos=d,this._parseStack.transition=p,this._parseStack.chunkPos=S}parse(f,g,d){let p,S=0,D=0,T=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,T=this._parseStack.chunkPos+1;else{if(void 0===d||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const m=this._parseStack.handlers;let x=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===d&&x>-1)for(;x>=0&&(p=m[x](this._params),!0!==p);x--)if(p instanceof Promise)return this._parseStack.handlerPos=x,p;this._parseStack.handlers=[];break;case 4:if(!1===d&&x>-1)for(;x>=0&&(p=m[x](),!0!==p);x--)if(p instanceof Promise)return this._parseStack.handlerPos=x,p;this._parseStack.handlers=[];break;case 6:if(S=f[this._parseStack.chunkPos],p=this._dcsParser.unhook(24!==S&&26!==S,d),p)return p;27===S&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(S=f[this._parseStack.chunkPos],p=this._oscParser.end(24!==S&&26!==S,d),p)return p;27===S&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,T=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let m=T;m<g;++m){switch(S=f[m],D=this._transitions.table[this.currentState<<8|(S<160?S:M)],D>>4){case 2:for(let $=m+1;;++$){if($>=g||(S=f[$])<32||S>126&&S<M){this._printHandler(f,m,$),m=$-1;break}if(++$>=g||(S=f[$])<32||S>126&&S<M){this._printHandler(f,m,$),m=$-1;break}if(++$>=g||(S=f[$])<32||S>126&&S<M){this._printHandler(f,m,$),m=$-1;break}if(++$>=g||(S=f[$])<32||S>126&&S<M){this._printHandler(f,m,$),m=$-1;break}}break;case 3:this._executeHandlers[S]?this._executeHandlers[S]():this._executeHandlerFb(S),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:m,code:S,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const x=this._csiHandlers[this._collect<<8|S];let P=x?x.length-1:-1;for(;P>=0&&(p=x[P](this._params),!0!==p);P--)if(p instanceof Promise)return this._preserveStack(3,x,P,D,m),p;P<0&&this._csiHandlerFb(this._collect<<8|S,this._params),this.precedingCodepoint=0;break;case 8:do{switch(S){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(S-48)}}while(++m<g&&(S=f[m])>47&&S<60);m--;break;case 9:this._collect<<=8,this._collect|=S;break;case 10:const F=this._escHandlers[this._collect<<8|S];let H=F?F.length-1:-1;for(;H>=0&&(p=F[H](),!0!==p);H--)if(p instanceof Promise)return this._preserveStack(4,F,H,D,m),p;H<0&&this._escHandlerFb(this._collect<<8|S),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|S,this._params);break;case 13:for(let $=m+1;;++$)if($>=g||24===(S=f[$])||26===S||27===S||S>127&&S<M){this._dcsParser.put(f,m,$),m=$-1;break}break;case 14:if(p=this._dcsParser.unhook(24!==S&&26!==S),p)return this._preserveStack(6,[],0,D,m),p;27===S&&(D|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let $=m+1;;$++)if($>=g||(S=f[$])<32||S>127&&S<M){this._oscParser.put(f,m,$),m=$-1;break}break;case 6:if(p=this._oscParser.end(24!==S&&26!==S),p)return this._preserveStack(5,[],0,D,m),p;27===S&&(D|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&D}}}},6242:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.OscHandler=h.OscParser=void 0;const y=v(5770),E=v(482),b=[];h.OscParser=class{constructor(){this._state=0,this._active=b,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(w,I){void 0===this._handlers[w]&&(this._handlers[w]=[]);const M=this._handlers[w];return M.push(I),{dispose:()=>{const C=M.indexOf(I);-1!==C&&M.splice(C,1)}}}clearHandler(w){this._handlers[w]&&delete this._handlers[w]}setHandlerFallback(w){this._handlerFb=w}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=b}reset(){if(2===this._state)for(let w=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;w>=0;--w)this._active[w].end(!1);this._stack.paused=!1,this._active=b,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||b,this._active.length)for(let w=this._active.length-1;w>=0;w--)this._active[w].start();else this._handlerFb(this._id,"START")}_put(w,I,M){if(this._active.length)for(let C=this._active.length-1;C>=0;C--)this._active[C].put(w,I,M);else this._handlerFb(this._id,"PUT",(0,E.utf32ToString)(w,I,M))}start(){this.reset(),this._state=1}put(w,I,M){if(3!==this._state){if(1===this._state)for(;I<M;){const C=w[I++];if(59===C){this._state=2,this._start();break}if(C<48||57<C)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+C-48}2===this._state&&M-I>0&&this._put(w,I,M)}}end(w,I=!0){if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let M=!1,C=this._active.length-1,c=!1;if(this._stack.paused&&(C=this._stack.loopPosition-1,M=I,c=this._stack.fallThrough,this._stack.paused=!1),!c&&!1===M){for(;C>=0&&(M=this._active[C].end(w),!0!==M);C--)if(M instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!1,M;C--}for(;C>=0;C--)if(M=this._active[C].end(!1),M instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!0,M}else this._handlerFb(this._id,"END",w);this._active=b,this._id=-1,this._state=0}}},h.OscHandler=class{constructor(w){this._handler=w,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(w,I,M){this._hitLimit||(this._data+=(0,E.utf32ToString)(w,I,M),this._data.length>y.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(w){let I=!1;if(this._hitLimit)I=!1;else if(w&&(I=this._handler(this._data),I instanceof Promise))return I.then(M=>(this._data="",this._hitLimit=!1,M));return this._data="",this._hitLimit=!1,I}}},8742:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Params=void 0;const v=2147483647;class y{constructor(b=32,w=32){if(this.maxLength=b,this.maxSubParamsLength=w,w>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(b),this.length=0,this._subParams=new Int32Array(w),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(b),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(b){const w=new y;if(!b.length)return w;for(let I=Array.isArray(b[0])?1:0;I<b.length;++I){const M=b[I];if(Array.isArray(M))for(let C=0;C<M.length;++C)w.addSubParam(M[C]);else w.addParam(M)}return w}clone(){const b=new y(this.maxLength,this.maxSubParamsLength);return b.params.set(this.params),b.length=this.length,b._subParams.set(this._subParams),b._subParamsLength=this._subParamsLength,b._subParamsIdx.set(this._subParamsIdx),b._rejectDigits=this._rejectDigits,b._rejectSubDigits=this._rejectSubDigits,b._digitIsSub=this._digitIsSub,b}toArray(){const b=[];for(let w=0;w<this.length;++w){b.push(this.params[w]);const I=this._subParamsIdx[w]>>8,M=255&this._subParamsIdx[w];M-I>0&&b.push(Array.prototype.slice.call(this._subParams,I,M))}return b}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(b){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(b<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=b>v?v:b}}addSubParam(b){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(b<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=b>v?v:b,this._subParamsIdx[this.length-1]++}}hasSubParams(b){return(255&this._subParamsIdx[b])-(this._subParamsIdx[b]>>8)>0}getSubParams(b){const w=this._subParamsIdx[b]>>8,I=255&this._subParamsIdx[b];return I-w>0?this._subParams.subarray(w,I):null}getSubParamsAll(){const b={};for(let w=0;w<this.length;++w){const I=this._subParamsIdx[w]>>8,M=255&this._subParamsIdx[w];M-I>0&&(b[w]=this._subParams.slice(I,M))}return b}addDigit(b){let w;if(this._rejectDigits||!(w=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const I=this._digitIsSub?this._subParams:this.params,M=I[w-1];I[w-1]=~M?Math.min(10*M+b,v):b}}h.Params=y},5741:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.AddonManager=void 0,h.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let v=this._addons.length-1;v>=0;v--)this._addons[v].instance.dispose()}loadAddon(v,y){const E={instance:y,dispose:y.dispose,isDisposed:!1};this._addons.push(E),y.dispose=()=>this._wrappedAddonDispose(E),y.activate(v)}_wrappedAddonDispose(v){if(v.isDisposed)return;let y=-1;for(let E=0;E<this._addons.length;E++)if(this._addons[E]===v){y=E;break}if(-1===y)throw new Error("Could not dispose an addon that has not been loaded");v.isDisposed=!0,v.dispose.apply(v.instance),this._addons.splice(y,1)}}},8771:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BufferApiView=void 0;const y=v(3785),E=v(511);h.BufferApiView=class{constructor(b,w){this._buffer=b,this.type=w}init(b){return this._buffer=b,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(b){const w=this._buffer.lines.get(b);if(w)return new y.BufferLineApiView(w)}getNullCell(){return new E.CellData}}},3785:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BufferLineApiView=void 0;const y=v(511);h.BufferLineApiView=class{constructor(E){this._line=E}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(E,b){if(!(E<0||E>=this._line.length))return b?(this._line.loadCell(E,b),b):this._line.loadCell(E,new y.CellData)}translateToString(E,b,w){return this._line.translateToString(E,b,w)}}},8285:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BufferNamespaceApi=void 0;const y=v(8771),E=v(8460);h.BufferNamespaceApi=class{constructor(b){this._core=b,this._onBufferChange=new E.EventEmitter,this.onBufferChange=this._onBufferChange.event,this._normal=new y.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new y.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ParserApi=void 0,h.ParserApi=class{constructor(v){this._core=v}registerCsiHandler(v,y){return this._core.registerCsiHandler(v,E=>y(E.toArray()))}addCsiHandler(v,y){return this.registerCsiHandler(v,y)}registerDcsHandler(v,y){return this._core.registerDcsHandler(v,(E,b)=>y(E,b.toArray()))}addDcsHandler(v,y){return this.registerDcsHandler(v,y)}registerEscHandler(v,y){return this._core.registerEscHandler(v,y)}addEscHandler(v,y){return this.registerEscHandler(v,y)}registerOscHandler(v,y){return this._core.registerOscHandler(v,y)}addOscHandler(v,y){return this.registerOscHandler(v,y)}}},7090:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.UnicodeApi=void 0,h.UnicodeApi=class{constructor(v){this._core=v}register(v){this._core.unicodeService.register(v)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(v){this._core.unicodeService.activeVersion=v}}},744:function(Q,h,v){var y=this&&this.__decorate||function(c,f,g,d){var p,S=arguments.length,D=S<3?f:null===d?d=Object.getOwnPropertyDescriptor(f,g):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(c,f,g,d);else for(var T=c.length-1;T>=0;T--)(p=c[T])&&(D=(S<3?p(D):S>3?p(f,g,D):p(f,g))||D);return S>3&&D&&Object.defineProperty(f,g,D),D},E=this&&this.__param||function(c,f){return function(g,d){f(g,d,c)}};Object.defineProperty(h,"__esModule",{value:!0}),h.BufferService=h.MINIMUM_ROWS=h.MINIMUM_COLS=void 0;const b=v(2585),w=v(5295),I=v(8460),M=v(844);h.MINIMUM_COLS=2,h.MINIMUM_ROWS=1;let C=class extends M.Disposable{constructor(c){super(),this.isUserScrolling=!1,this._onResize=this.register(new I.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new I.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(c.rawOptions.cols||0,h.MINIMUM_COLS),this.rows=Math.max(c.rawOptions.rows||0,h.MINIMUM_ROWS),this.buffers=this.register(new w.BufferSet(c,this))}get buffer(){return this.buffers.active}resize(c,f){this.cols=c,this.rows=f,this.buffers.resize(c,f),this._onResize.fire({cols:c,rows:f})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(c,f=!1){const g=this.buffer;let d;d=this._cachedBlankLine,d&&d.length===this.cols&&d.getFg(0)===c.fg&&d.getBg(0)===c.bg||(d=g.getBlankLine(c,f),this._cachedBlankLine=d),d.isWrapped=f;const p=g.ybase+g.scrollTop,S=g.ybase+g.scrollBottom;if(0===g.scrollTop){const D=g.lines.isFull;S===g.lines.length-1?D?g.lines.recycle().copyFrom(d):g.lines.push(d.clone()):g.lines.splice(S+1,0,d.clone()),D?this.isUserScrolling&&(g.ydisp=Math.max(g.ydisp-1,0)):(g.ybase++,this.isUserScrolling||g.ydisp++)}else g.lines.shiftElements(p+1,S-p+1-1,-1),g.lines.set(S,d.clone());this.isUserScrolling||(g.ydisp=g.ybase),this._onScroll.fire(g.ydisp)}scrollLines(c,f,g){const d=this.buffer;if(c<0){if(0===d.ydisp)return;this.isUserScrolling=!0}else c+d.ydisp>=d.ybase&&(this.isUserScrolling=!1);const p=d.ydisp;d.ydisp=Math.max(Math.min(d.ydisp+c,d.ybase),0),p!==d.ydisp&&(f||this._onScroll.fire(d.ydisp))}scrollPages(c){this.scrollLines(c*(this.rows-1))}scrollToTop(){this.scrollLines(-this.buffer.ydisp)}scrollToBottom(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)}scrollToLine(c){const f=c-this.buffer.ydisp;0!==f&&this.scrollLines(f)}};C=y([E(0,b.IOptionsService)],C),h.BufferService=C},7994:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CharsetService=void 0,h.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(v){this.glevel=v,this.charset=this._charsets[v]}setgCharset(v,y){this._charsets[v]=y,this.glevel===v&&(this.charset=y)}}},1753:function(Q,h,v){var y=this&&this.__decorate||function(d,p,S,D){var T,m=arguments.length,x=m<3?p:null===D?D=Object.getOwnPropertyDescriptor(p,S):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(d,p,S,D);else for(var P=d.length-1;P>=0;P--)(T=d[P])&&(x=(m<3?T(x):m>3?T(p,S,x):T(p,S))||x);return m>3&&x&&Object.defineProperty(p,S,x),x},E=this&&this.__param||function(d,p){return function(S,D){p(S,D,d)}};Object.defineProperty(h,"__esModule",{value:!0}),h.CoreMouseService=void 0;const b=v(2585),w=v(8460),I=v(844),M={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:d=>4!==d.button&&1===d.action&&(d.ctrl=!1,d.alt=!1,d.shift=!1,!0)},VT200:{events:19,restrict:d=>32!==d.action},DRAG:{events:23,restrict:d=>32!==d.action||3!==d.button},ANY:{events:31,restrict:d=>!0}};function C(d,p){let S=(d.ctrl?16:0)|(d.shift?4:0)|(d.alt?8:0);return 4===d.button?(S|=64,S|=d.action):(S|=3&d.button,4&d.button&&(S|=64),8&d.button&&(S|=128),32===d.action?S|=32:0!==d.action||p||(S|=3)),S}const c=String.fromCharCode,f={DEFAULT:d=>{const p=[C(d,!1)+32,d.col+32,d.row+32];return p[0]>255||p[1]>255||p[2]>255?"":`\x1b[M${c(p[0])}${c(p[1])}${c(p[2])}`},SGR:d=>{const p=0===d.action&&4!==d.button?"m":"M";return`\x1b[<${C(d,!0)};${d.col};${d.row}${p}`},SGR_PIXELS:d=>{const p=0===d.action&&4!==d.button?"m":"M";return`\x1b[<${C(d,!0)};${d.x};${d.y}${p}`}};let g=class extends I.Disposable{constructor(d,p){super(),this._bufferService=d,this._coreService=p,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new w.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const S of Object.keys(M))this.addProtocol(S,M[S]);for(const S of Object.keys(f))this.addEncoding(S,f[S]);this.reset()}addProtocol(d,p){this._protocols[d]=p}addEncoding(d,p){this._encodings[d]=p}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(d){if(!this._protocols[d])throw new Error(`unknown protocol "${d}"`);this._activeProtocol=d,this._onProtocolChange.fire(this._protocols[d].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(d){if(!this._encodings[d])throw new Error(`unknown encoding "${d}"`);this._activeEncoding=d}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(d){if(d.col<0||d.col>=this._bufferService.cols||d.row<0||d.row>=this._bufferService.rows||4===d.button&&32===d.action||3===d.button&&32!==d.action||4!==d.button&&(2===d.action||3===d.action)||(d.col++,d.row++,32===d.action&&this._lastEvent&&this._equalEvents(this._lastEvent,d,"SGR_PIXELS"===this._activeEncoding))||!this._protocols[this._activeProtocol].restrict(d))return!1;const p=this._encodings[this._activeEncoding](d);return p&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(p):this._coreService.triggerDataEvent(p,!0)),this._lastEvent=d,!0}explainEvents(d){return{down:!!(1&d),up:!!(2&d),drag:!!(4&d),move:!!(8&d),wheel:!!(16&d)}}_equalEvents(d,p,S){if(S){if(d.x!==p.x||d.y!==p.y)return!1}else if(d.col!==p.col||d.row!==p.row)return!1;return d.button===p.button&&d.action===p.action&&d.ctrl===p.ctrl&&d.alt===p.alt&&d.shift===p.shift}};g=y([E(0,b.IBufferService),E(1,b.ICoreService)],g),h.CoreMouseService=g},6975:function(Q,h,v){var y=this&&this.__decorate||function(g,d,p,S){var D,T=arguments.length,m=T<3?d:null===S?S=Object.getOwnPropertyDescriptor(d,p):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(g,d,p,S);else for(var x=g.length-1;x>=0;x--)(D=g[x])&&(m=(T<3?D(m):T>3?D(d,p,m):D(d,p))||m);return T>3&&m&&Object.defineProperty(d,p,m),m},E=this&&this.__param||function(g,d){return function(p,S){d(p,S,g)}};Object.defineProperty(h,"__esModule",{value:!0}),h.CoreService=void 0;const b=v(2585),w=v(8460),I=v(1439),M=v(844),C=Object.freeze({insertMode:!1}),c=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let f=class extends M.Disposable{constructor(g,d,p){super(),this._bufferService=g,this._logService=d,this._optionsService=p,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new w.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new w.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new w.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new w.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,I.clone)(C),this.decPrivateModes=(0,I.clone)(c)}reset(){this.modes=(0,I.clone)(C),this.decPrivateModes=(0,I.clone)(c)}triggerDataEvent(g,d=!1){if(this._optionsService.rawOptions.disableStdin)return;const p=this._bufferService.buffer;d&&this._optionsService.rawOptions.scrollOnUserInput&&p.ybase!==p.ydisp&&this._onRequestScrollToBottom.fire(),d&&this._onUserInput.fire(),this._logService.debug(`sending data "${g}"`,()=>g.split("").map(S=>S.charCodeAt(0))),this._onData.fire(g)}triggerBinaryEvent(g){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${g}"`,()=>g.split("").map(d=>d.charCodeAt(0))),this._onBinary.fire(g))}};f=y([E(0,b.IBufferService),E(1,b.ILogService),E(2,b.IOptionsService)],f),h.CoreService=f},9074:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DecorationService=void 0;const y=v(8055),E=v(8460),b=v(844),w=v(6106);let I=0,M=0;h.DecorationService=class C extends b.Disposable{constructor(){super(),this._decorations=new w.SortedList(g=>g?.marker.line),this._onDecorationRegistered=this.register(new E.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new E.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,b.toDisposable)(()=>{for(const g of this._decorations.values())this._onDecorationRemoved.fire(g);this.reset()}))}get decorations(){return this._decorations.values()}registerDecoration(g){if(g.marker.isDisposed)return;const d=new c(g);if(d){const p=d.marker.onDispose(()=>d.dispose());d.onDispose(()=>{d&&(this._decorations.delete(d)&&this._onDecorationRemoved.fire(d),p.dispose())}),this._decorations.insert(d),this._onDecorationRegistered.fire(d)}return d}reset(){for(const g of this._decorations.values())g.dispose();this._decorations.clear()}*getDecorationsAtCell(g,d,p){var S,D,T;let m=0,x=0;for(const P of this._decorations.getKeyIterator(d))m=null!==(S=P.options.x)&&void 0!==S?S:0,x=m+(null!==(D=P.options.width)&&void 0!==D?D:1),g>=m&&g<x&&(!p||(null!==(T=P.options.layer)&&void 0!==T?T:"bottom")===p)&&(yield P)}forEachDecorationAtCell(g,d,p,S){this._decorations.forEachByKey(d,D=>{var T,m,x;I=null!==(T=D.options.x)&&void 0!==T?T:0,M=I+(null!==(m=D.options.width)&&void 0!==m?m:1),g>=I&&g<M&&(!p||(null!==(x=D.options.layer)&&void 0!==x?x:"bottom")===p)&&S(D)})}dispose(){for(const g of this._decorations.values())this._onDecorationRemoved.fire(g);this.reset()}};class c extends b.Disposable{constructor(g){super(),this.options=g,this.isDisposed=!1,this.onRenderEmitter=this.register(new E.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new E.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=g.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get backgroundColorRGB(){return null===this._cachedBg&&(this._cachedBg=this.options.backgroundColor?y.css.toColor(this.options.backgroundColor):void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this._cachedFg=this.options.foregroundColor?y.css.toColor(this.options.foregroundColor):void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.InstantiationService=h.ServiceCollection=void 0;const y=v(2585),E=v(8343);class b{constructor(...I){this._entries=new Map;for(const[M,C]of I)this.set(M,C)}set(I,M){const C=this._entries.get(I);return this._entries.set(I,M),C}forEach(I){for(const[M,C]of this._entries.entries())I(M,C)}has(I){return this._entries.has(I)}get(I){return this._entries.get(I)}}h.ServiceCollection=b,h.InstantiationService=class{constructor(){this._services=new b,this._services.set(y.IInstantiationService,this)}setService(w,I){this._services.set(w,I)}getService(w){return this._services.get(w)}createInstance(w,...I){const M=(0,E.getServiceDependencies)(w).sort((f,g)=>f.index-g.index),C=[];for(const f of M){const g=this._services.get(f.id);if(!g)throw new Error(`[createInstance] ${w.name} depends on UNKNOWN service ${f.id}.`);C.push(g)}const c=M.length>0?M[0].index:I.length;if(I.length!==c)throw new Error(`[createInstance] First service dependency of ${w.name} at position ${c+1} conflicts with ${I.length} static arguments`);return new w(...I,...C)}}},7866:function(Q,h,v){var y=this&&this.__decorate||function(C,c,f,g){var d,p=arguments.length,S=p<3?c:null===g?g=Object.getOwnPropertyDescriptor(c,f):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(C,c,f,g);else for(var D=C.length-1;D>=0;D--)(d=C[D])&&(S=(p<3?d(S):p>3?d(c,f,S):d(c,f))||S);return p>3&&S&&Object.defineProperty(c,f,S),S},E=this&&this.__param||function(C,c){return function(f,g){c(f,g,C)}};Object.defineProperty(h,"__esModule",{value:!0}),h.LogService=void 0;const b=v(844),w=v(2585),I={debug:w.LogLevelEnum.DEBUG,info:w.LogLevelEnum.INFO,warn:w.LogLevelEnum.WARN,error:w.LogLevelEnum.ERROR,off:w.LogLevelEnum.OFF};let M=class extends b.Disposable{constructor(C){super(),this._optionsService=C,this.logLevel=w.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}_updateLogLevel(){this.logLevel=I[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(C){for(let c=0;c<C.length;c++)"function"==typeof C[c]&&(C[c]=C[c]())}_log(C,c,f){this._evalLazyOptionalParams(f),C.call(console,"xterm.js: "+c,...f)}debug(C,...c){this.logLevel<=w.LogLevelEnum.DEBUG&&this._log(console.log,C,c)}info(C,...c){this.logLevel<=w.LogLevelEnum.INFO&&this._log(console.info,C,c)}warn(C,...c){this.logLevel<=w.LogLevelEnum.WARN&&this._log(console.warn,C,c)}error(C,...c){this.logLevel<=w.LogLevelEnum.ERROR&&this._log(console.error,C,c)}};M=y([E(0,w.IOptionsService)],M),h.LogService=M},7302:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.OptionsService=h.DEFAULT_OPTIONS=void 0;const y=v(8460),E=v(6114),b=v(844);h.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:E.isMac,windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const w=["normal","bold","100","200","300","400","500","600","700","800","900"];h.OptionsService=class I extends b.Disposable{constructor(C){super(),this._onOptionChange=this.register(new y.EventEmitter),this.onOptionChange=this._onOptionChange.event;const c=Object.assign({},h.DEFAULT_OPTIONS);for(const f in C)if(f in c)try{c[f]=this._sanitizeAndValidateOption(f,C[f])}catch(g){console.error(g)}this.rawOptions=c,this.options=Object.assign({},c),this._setupOptions()}onSpecificOptionChange(C,c){return this.onOptionChange(f=>{f===C&&c(this.rawOptions[C])})}onMultipleOptionChange(C,c){return this.onOptionChange(f=>{-1!==C.indexOf(f)&&c()})}_setupOptions(){const C=f=>{if(!(f in h.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);return this.rawOptions[f]},c=(f,g)=>{if(!(f in h.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);g=this._sanitizeAndValidateOption(f,g),this.rawOptions[f]!==g&&(this.rawOptions[f]=g,this._onOptionChange.fire(f))};for(const f in this.rawOptions){const g={get:C.bind(this,f),set:c.bind(this,f)};Object.defineProperty(this.options,f,g)}}_sanitizeAndValidateOption(C,c){switch(C){case"cursorStyle":if(c||(c=h.DEFAULT_OPTIONS[C]),"block"!==(f=c)&&"underline"!==f&&"bar"!==f)throw new Error(`"${c}" is not a valid value for ${C}`);break;case"wordSeparator":c||(c=h.DEFAULT_OPTIONS[C]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof c&&1<=c&&c<=1e3)break;c=w.includes(c)?c:h.DEFAULT_OPTIONS[C];break;case"cursorWidth":c=Math.floor(c);case"lineHeight":case"tabStopWidth":if(c<1)throw new Error(`${C} cannot be less than 1, value: ${c}`);break;case"minimumContrastRatio":c=Math.max(1,Math.min(21,Math.round(10*c)/10));break;case"scrollback":if((c=Math.min(c,4294967295))<0)throw new Error(`${C} cannot be less than 0, value: ${c}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(c<=0)throw new Error(`${C} cannot be less than or equal to 0, value: ${c}`);case"rows":case"cols":if(!c&&0!==c)throw new Error(`${C} must be numeric, value: ${c}`)}var f;return c}}},2660:function(Q,h,v){var y=this&&this.__decorate||function(I,M,C,c){var f,g=arguments.length,d=g<3?M:null===c?c=Object.getOwnPropertyDescriptor(M,C):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(I,M,C,c);else for(var p=I.length-1;p>=0;p--)(f=I[p])&&(d=(g<3?f(d):g>3?f(M,C,d):f(M,C))||d);return g>3&&d&&Object.defineProperty(M,C,d),d},E=this&&this.__param||function(I,M){return function(C,c){M(C,c,I)}};Object.defineProperty(h,"__esModule",{value:!0}),h.OscLinkService=void 0;const b=v(2585);let w=class{constructor(I){this._bufferService=I,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(I){const M=this._bufferService.buffer;if(void 0===I.id){const p=M.addMarker(M.ybase+M.y),S={data:I,id:this._nextId++,lines:[p]};return p.onDispose(()=>this._removeMarkerFromLink(S,p)),this._dataByLinkId.set(S.id,S),S.id}const C=I,c=this._getEntryIdKey(C),f=this._entriesWithId.get(c);if(f)return this.addLineToLink(f.id,M.ybase+M.y),f.id;const g=M.addMarker(M.ybase+M.y),d={id:this._nextId++,key:this._getEntryIdKey(C),data:C,lines:[g]};return g.onDispose(()=>this._removeMarkerFromLink(d,g)),this._entriesWithId.set(d.key,d),this._dataByLinkId.set(d.id,d),d.id}addLineToLink(I,M){const C=this._dataByLinkId.get(I);if(C&&C.lines.every(c=>c.line!==M)){const c=this._bufferService.buffer.addMarker(M);C.lines.push(c),c.onDispose(()=>this._removeMarkerFromLink(C,c))}}getLinkData(I){var M;return null===(M=this._dataByLinkId.get(I))||void 0===M?void 0:M.data}_getEntryIdKey(I){return`${I.id};;${I.uri}`}_removeMarkerFromLink(I,M){const C=I.lines.indexOf(M);-1!==C&&(I.lines.splice(C,1),0===I.lines.length&&(void 0!==I.data.id&&this._entriesWithId.delete(I.key),this._dataByLinkId.delete(I.id)))}};w=y([E(0,b.IBufferService)],w),h.OscLinkService=w},8343:(Q,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.createDecorator=h.getServiceDependencies=h.serviceRegistry=void 0,h.serviceRegistry=new Map,h.getServiceDependencies=function(y){return y.di$dependencies||[]},h.createDecorator=function(y){if(h.serviceRegistry.has(y))return h.serviceRegistry.get(y);const E=function(b,w,I){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function v(y,E,b){E.di$target===E?E.di$dependencies.push({id:y,index:b}):(E.di$dependencies=[{id:y,index:b}],E.di$target=E)}(E,b,I)};return E.toString=()=>y,h.serviceRegistry.set(y,E),E}},2585:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.IDecorationService=h.IUnicodeService=h.IOscLinkService=h.IOptionsService=h.ILogService=h.LogLevelEnum=h.IInstantiationService=h.ICharsetService=h.ICoreService=h.ICoreMouseService=h.IBufferService=void 0;const y=v(8343);var E;h.IBufferService=(0,y.createDecorator)("BufferService"),h.ICoreMouseService=(0,y.createDecorator)("CoreMouseService"),h.ICoreService=(0,y.createDecorator)("CoreService"),h.ICharsetService=(0,y.createDecorator)("CharsetService"),h.IInstantiationService=(0,y.createDecorator)("InstantiationService"),(E=h.LogLevelEnum||(h.LogLevelEnum={}))[E.DEBUG=0]="DEBUG",E[E.INFO=1]="INFO",E[E.WARN=2]="WARN",E[E.ERROR=3]="ERROR",E[E.OFF=4]="OFF",h.ILogService=(0,y.createDecorator)("LogService"),h.IOptionsService=(0,y.createDecorator)("OptionsService"),h.IOscLinkService=(0,y.createDecorator)("OscLinkService"),h.IUnicodeService=(0,y.createDecorator)("UnicodeService"),h.IDecorationService=(0,y.createDecorator)("DecorationService")},1480:(Q,h,v)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.UnicodeService=void 0;const y=v(8460),E=v(225);h.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new y.EventEmitter,this.onChange=this._onChange.event;const b=new E.UnicodeV6;this.register(b),this._active=b.version,this._activeProvider=b}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(b){if(!this._providers[b])throw new Error(`unknown Unicode version "${b}"`);this._active=b,this._activeProvider=this._providers[b],this._onChange.fire(b)}register(b){this._providers[b.version]=b}wcwidth(b){return this._activeProvider.wcwidth(b)}getStringCellWidth(b){let w=0;const I=b.length;for(let M=0;M<I;++M){let C=b.charCodeAt(M);if(55296<=C&&C<=56319){if(++M>=I)return w+this.wcwidth(C);const c=b.charCodeAt(M);56320<=c&&c<=57343?C=1024*(C-55296)+c-56320+65536:w+=this.wcwidth(c)}w+=this.wcwidth(C)}return w}}}},Wt={};function _e(Q){var h=Wt[Q];if(void 0!==h)return h.exports;var v=Wt[Q]={exports:{}};return tr[Q].call(v.exports,v,v.exports,_e),v.exports}var Gt={};return(()=>{var Q=Gt;Object.defineProperty(Q,"__esModule",{value:!0}),Q.Terminal=void 0;const h=_e(3236),v=_e(9042),y=_e(7975),E=_e(7090),b=_e(5741),w=_e(8285),I=["cols","rows"];Q.Terminal=class{constructor(M){this._core=new h.Terminal(M),this._addonManager=new b.AddonManager,this._publicOptions=Object.assign({},this._core.options);const C=f=>this._core.options[f],c=(f,g)=>{this._checkReadonlyOptions(f),this._core.options[f]=g};for(const f in this._core.options){const g={get:C.bind(this,f),set:c.bind(this,f)};Object.defineProperty(this._publicOptions,f,g)}}_checkReadonlyOptions(M){if(I.includes(M))throw new Error(`Option "${M}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new y.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new E.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=new w.BufferNamespaceApi(this._core)),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const M=this._core.coreService.decPrivateModes;let C="none";switch(this._core.coreMouseService.activeProtocol){case"X10":C="x10";break;case"VT200":C="vt200";break;case"DRAG":C="drag";break;case"ANY":C="any"}return{applicationCursorKeysMode:M.applicationCursorKeys,applicationKeypadMode:M.applicationKeypad,bracketedPasteMode:M.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:C,originMode:M.origin,reverseWraparoundMode:M.reverseWraparound,sendFocusMode:M.sendFocus,wraparoundMode:M.wraparound}}get options(){return this._publicOptions}set options(M){for(const C in M)this._publicOptions[C]=M[C]}blur(){this._core.blur()}focus(){this._core.focus()}resize(M,C){this._verifyIntegers(M,C),this._core.resize(M,C)}open(M){this._core.open(M)}attachCustomKeyEventHandler(M){this._core.attachCustomKeyEventHandler(M)}registerLinkProvider(M){return this._core.registerLinkProvider(M)}registerCharacterJoiner(M){return this._checkProposedApi(),this._core.registerCharacterJoiner(M)}deregisterCharacterJoiner(M){this._checkProposedApi(),this._core.deregisterCharacterJoiner(M)}registerMarker(M=0){return this._verifyIntegers(M),this._core.addMarker(M)}registerDecoration(M){var C,c,f;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(C=M.x)&&void 0!==C?C:0,null!==(c=M.width)&&void 0!==c?c:0,null!==(f=M.height)&&void 0!==f?f:0),this._core.registerDecoration(M)}hasSelection(){return this._core.hasSelection()}select(M,C,c){this._verifyIntegers(M,C,c),this._core.select(M,C,c)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(M,C){this._verifyIntegers(M,C),this._core.selectLines(M,C)}dispose(){this._addonManager.dispose(),this._core.dispose()}scrollLines(M){this._verifyIntegers(M),this._core.scrollLines(M)}scrollPages(M){this._verifyIntegers(M),this._core.scrollPages(M)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(M){this._verifyIntegers(M),this._core.scrollToLine(M)}clear(){this._core.clear()}write(M,C){this._core.write(M,C)}writeln(M,C){this._core.write(M),this._core.write("\r\n",C)}paste(M){this._core.paste(M)}refresh(M,C){this._verifyIntegers(M,C),this._core.refresh(M,C)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(M){return this._addonManager.loadAddon(this,M)}static get strings(){return v}_verifyIntegers(...M){for(const C of M)if(C===1/0||isNaN(C)||C%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...M){for(const C of M)if(C&&(C===1/0||isNaN(C)||C%1!=0||C<0))throw new Error("This API only accepts positive integers")}}})(),Gt})()}},Br=>{Br(Br.s=880)}]);